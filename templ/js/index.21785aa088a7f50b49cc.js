(()=>{var e={40:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CANCEL:()=>a,CHANNEL_END_TYPE:()=>o,IO:()=>i,MATCH:()=>l,MULTICAST:()=>s,SAGA_ACTION:()=>c,SAGA_LOCATION:()=>m,SELF_CANCELLATION:()=>u,TASK:()=>d,TASK_CANCEL:()=>f,TERMINATE:()=>p});var r=function(e){return"@@redux-saga/"+e},a=r("CANCEL_PROMISE"),o=r("CHANNEL_END"),i=r("IO"),l=r("MATCH"),s=r("MULTICAST"),c=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),f=r("TASK_CANCEL"),p=r("TERMINATE"),m=r("LOCATION")},69:(e,t,n)=>{"use strict";var r=n(2078),a=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=r("Set");try{(new t)[e](a(0));try{return(new t)[e](a(-1)),!1}catch(e){return!0}}catch(e){return!1}}},75:(e,t,n)=>{"use strict";var r=n(9436),a=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new a("Can't convert number to bigint");return BigInt(t)}},132:(e,t,n)=>{"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function a(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>i(s,n))c<a&&0>i(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(4401),n(9679),"object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],d=[],f=1,p=null,m=3,h=!1,v=!1,y=!1,g="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=a(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,r(u,t)}t=a(d)}}function w(e){if(y=!1,E(e),!v)if(null!==a(u))v=!0,O(A);else{var t=a(d);null!==t&&M(w,t.startTime-e)}}function A(e,n){v=!1,y&&(y=!1,_(T),T=-1),h=!0;var r=m;try{for(E(n),p=a(u);null!==p&&(!(p.expirationTime>n)||e&&!R());){var i=p.callback;if("function"==typeof i){p.callback=null,m=p.priorityLevel;var l=i(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===a(u)&&o(u),E(n)}else o(u);p=a(u)}if(null!==p)var s=!0;else{var c=a(d);null!==c&&M(w,c.startTime-n),s=!1}return s}finally{p=null,m=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,k=null,T=-1,x=5,L=-1;function R(){return!(t.unstable_now()-L<x)}function N(){if(null!==k){var e=t.unstable_now();L=e;var n=!0;try{n=k(!0,e)}finally{n?S():(C=!1,k=null)}}else C=!1}if("function"==typeof b)S=function(){b(N)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=N,S=function(){I.postMessage(null)}}else S=function(){g(N,0)};function O(e){k=e,C||(C=!0,S())}function M(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,O(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(u)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,n,o){var i=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:f++,callback:n,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,r(d,e),null===a(u)&&e===a(d)&&(y?(_(T),T=-1):y=!0,M(w,o-i))):(e.sortIndex=l,r(u,e),v||h||(v=!0,O(A))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},135:(e,t,n)=>{"use strict";var r=n(2105),a=n(1279),o=n(9546),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=i(this),n=a(t),r=o(e),l=r>=0?r:n+r;return l<0||l>=n?void 0:t[l]}))},137:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},188:(e,t,n)=>{"use strict";var r=n(4627),a=n(5090),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(a(e),t)}},232:(e,t,n)=>{"use strict";var r,a,o,i,l=n(1186),s=n(4043),c=n(9173),u=l.structuredClone,d=l.ArrayBuffer,f=l.MessageChannel,p=!1;if(c)p=function(e){u(e,{transfer:[e]})};else if(d)try{f||(r=s("worker_threads"))&&(f=r.MessageChannel),f&&(a=new f,o=new d(2),i=function(e){a.port1.postMessage(null,[e])},2===o.byteLength&&(i(o),0===o.byteLength&&(p=i)))}catch(e){}e.exports=p},293:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=0,a=r(t),o=new e(a);a>n;)o[n]=t[n++];return o}},335:(e,t,n)=>{"use strict";var r=n(4767),a=n(2585);e.exports=r(a.proto,"size","get")||function(e){return e.size}},359:(e,t,n)=>{"use strict";var r=n(2954),a=n(7740),o=n(4024),i=n(1188);e.exports=function(e,t,n,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:t;if(r(n)&&o(n,c,l),l.global)s?e[t]=n:i(t,n);else{try{l.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=n:a.f(e,t,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},383:(e,t,n)=>{"use strict";var r=n(4627),a=r({}.toString),o=r("".slice);e.exports=function(e){return o(a(e),8,-1)}},400:e=>{"use strict";e.exports=function(e){return null==e}},402:(e,t,n)=>{"use strict";var r=n(2078),a=n(4627),o=n(3499),i=n(1634),l=n(2816),s=a([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(l(e)),n=i.f;return n?s(t,n(e)):t}},439:(e,t,n)=>{"use strict";function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}n(4401),Object.defineProperty(t,"BJ",{value:!0}),t.gN=function(e){for(var t=[],n=0;n<e;n++)t.push(r());return t},t.Ay=r},451:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},483:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585),o=n(2977),i=n(9244),l=n(6830),s=a.add,c=a.has,u=a.remove;e.exports=function(e){var t=r(this),n=i(e).getIterator(),a=o(t);return l(n,(function(e){c(t,e)?u(a,e):s(a,e)})),a}},509:(e,t,n)=>{"use strict";var r=n(2105),a=n(4627),o=n(3727),i=n(293),l=r.aTypedArray,s=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,u=a(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&o(e);var t=l(this),n=i(s(t),t);return u(n,e)}))},596:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},731:(e,t,n)=>{"use strict";var r=n(2469),a=n(3944);e.exports=Object.keys||function(e){return r(e,a)}},796:(e,t,n)=>{"use strict";var r=n(8890),a=n(4658),o=n(3616),i=Error.captureStackTrace;e.exports=function(e,t,n,l){o&&(i?i(e,t):r(e,"stack",a(n,l)))}},1e3:(e,t,n)=>{"use strict";var r=n(5651),a=n(4515);a&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return a(this,arguments.length?arguments[0]:void 0,!0)}})},1106:(e,t,n)=>{"use strict";var r=n(4627),a=n(4476),o=n(383),i=Object,l=r("".split);e.exports=a((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?l(e,""):i(e)}:i},1186:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},1188:(e,t,n)=>{"use strict";var r=n(1186),a=Object.defineProperty;e.exports=function(e,t){try{a(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},1271:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1278:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1279:(e,t,n)=>{"use strict";var r=n(4497);e.exports=function(e){return r(e.length)}},1292:(e,t,n)=>{"use strict";var r=n(5651),a=n(483);r({target:"Set",proto:!0,real:!0,forced:!n(69)("symmetricDifference")},{symmetricDifference:a})},1301:(e,t,n)=>{"use strict";var r=n(1186),a=n(383);e.exports="process"===a(r.process)},1305:(e,t,n)=>{"use strict";var r=n(9546),a=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new a("The argument can't be less than 0");return t}},1337:(e,t,n)=>{"use strict";n(2243),n(4464),Object.defineProperty(t,"__esModule",{value:!0});var r=n(9404);Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},1364:(e,t,n)=>{"use strict";var r,a,o,i=n(7783),l=n(1186),s=n(2845),c=n(8890),u=n(188),d=n(6656),f=n(8682),p=n(6562),m="Object already initialized",h=l.TypeError,v=l.WeakMap;if(i||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw new h(m);return t.facade=e,y.set(e,t),t},a=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var g=f("state");p[g]=!0,r=function(e,t){if(u(e,g))throw new h(m);return t.facade=e,c(e,g,t),t},a=function(e){return u(e,g)?e[g]:{}},o=function(e){return u(e,g)}}e.exports={set:r,get:a,has:o,enforce:function(e){return o(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=a(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}}}},1399:(e,t,n)=>{"use strict";var r=n(2105),a=n(1428).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1428:(e,t,n)=>{"use strict";var r=n(5319),a=n(1106),o=n(5090),i=n(1279),l=function(e){var t=1===e;return function(n,l,s){for(var c,u=o(n),d=a(u),f=r(l,s),p=i(d);p-- >0;)if(f(c=d[p],p,u))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:l(0),findLastIndex:l(1)}},1433:(e,t,n)=>{"use strict";var r=n(1271),a=n(9171),o=n(3179),i=ArrayBuffer.prototype;r&&!("detached"in i)&&a(i,"detached",{configurable:!0,get:function(){return o(this)}})},1446:(e,t,n)=>{"use strict";var r=n(5651),a=n(5671);r({target:"Set",proto:!0,real:!0,forced:!n(69)("union")},{union:a})},1455:(e,t,n)=>{"use strict";var r=n(2585).has;e.exports=function(e){return r(e),e}},1462:(e,t,n)=>{"use strict";var r=n(4307),a=n(4476),o=n(1186).String;e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1463:(e,t,n)=>{"use strict";var r=n(3727),a=n(400);e.exports=function(e,t){var n=e[t];return a(n)?void 0:r(n)}},1480:(e,t,n)=>{"use strict";var r=n(7404),a=n(1463),o=n(400),i=n(5166),l=n(6216)("iterator");e.exports=function(e){if(!o(e))return a(e,l)||a(e,"@@iterator")||i[r(e)]}},1544:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},1578:(e,t,n)=>{"use strict";var r=n(2078),a=n(2954),o=n(6952),i=n(9367),l=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return a(t)&&o(t.prototype,l(e))}},1634:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},1664:(e,t,n)=>{"use strict";var r=n(1271),a=n(4476),o=n(2848);e.exports=!r&&!a((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1711:(e,t,n)=>{"use strict";var r=n(5651),a=n(5287),o=n(3727),i=n(2816),l=n(4692);r({target:"Iterator",proto:!0,real:!0},{some:function(e){i(this),o(e);var t=l(this),n=0;return a(t,(function(t,r){if(e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1716:(e,t,n)=>{"use strict";var r=n(6862),a=n(9233),o=n(1279),i=function(e){return function(t,n,i){var l,s=r(t),c=o(s),u=a(i,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},1872:(e,t,n)=>{"use strict";var r=n(2078);e.exports=r("document","documentElement")},1954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.B,default:()=>a});var r=n(4853);const a=r.A},1974:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1988:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}n(7293),n(4401),n(2243),n(3575),n(4464),n(6881),n(1711),n(9224),Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),o=r(n(9845)),i=r(n(6292)),l=n(3336),s=n(5200),c=r(n(5857));n(1954);var u=[],d=0;function f(e){try{h(),e()}finally{v()}}function p(e){u.push(e),d||(h(),y())}function m(e){try{return h(),e()}finally{y()}}function h(){d++}function v(){d--}function y(){var e;for(v();!d&&void 0!==(e=u.shift());)f(e)}var g=function(e){return function(t){return e.some((function(e){return A(e)(t)}))}},_=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},E=function(e){return function(t){return t.type===e}},w=function(){return s.kTrue};function A(e){var t="*"===e?w:l.string(e)?b:l.array(e)?g:l.stringableFunc(e)?b:l.func(e)?_:l.symbol(e)?E:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var S={type:a.CHANNEL_END_TYPE},C=function(e){return e&&e.type===a.CHANNEL_END_TYPE};function k(e){void 0===e&&(e=s.expanding());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(S):e.isEmpty()?(n.push(r),r.cancel=function(){s.remove(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(S):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,a=e.length;r<a;r++){(0,e[r])(S)}}}}}function T(){var e,t=!1,n=[],r=n,o=function(){r===n&&(r=n.slice())},i=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(S)}))};return(e={})[a.MULTICAST]=!0,e.put=function(e){if(!t)if(C(e))i();else for(var o=n=r,l=0,s=o.length;l<s;l++){var c=o[l];c[a.MATCH](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=w),t?e(S):(e[a.MATCH]=n,o(),r.push(e),e.cancel=s.once((function(){o(),s.remove(r,e)})))},e.close=i,e}function x(){var e=T(),t=e.put;return e.put=function(e){e[a.SAGA_ACTION]?t(e):p((function(){t(e)}))},e}function L(e,t){var n=e[a.CANCEL];l.func(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var R,N=0,P=function(){return++N};function I(e){e.isRunning()&&e.cancel()}var O=((R={})[s.TAKE]=function(e,t,n){var r=t.channel,o=void 0===r?e.channel:r,i=t.pattern,s=t.maybe,c=function(e){e instanceof Error?n(e,!0):!C(e)||s?n(e):n(a.TERMINATE)};try{o.take(c,l.notUndef(i)?A(i):null)}catch(e){return void n(e,!0)}n.cancel=c.cancel},R[s.PUT]=function(e,t,n){var r=t.channel,a=t.action,o=t.resolve;p((function(){var t;try{t=(r?r.put:e.dispatch)(a)}catch(e){return void n(e,!0)}o&&l.promise(t)?L(t,n):n(t)}))},R[s.ALL]=function(e,t,n,r){var a=r.digestEffect,o=N,i=Object.keys(t);if(0!==i.length){var c=s.createAllStyleChildCallbacks(t,n);i.forEach((function(e){a(t[e],o,c[e],e)}))}else n(l.array(t)?[]:{})},R[s.RACE]=function(e,t,n,r){var a=r.digestEffect,o=N,i=Object.keys(t),c=l.array(t)?s.createEmptyArray(i.length):{},u={},d=!1;i.forEach((function(e){var t=function(t,r){d||(r||s.shouldComplete(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.noop,u[e]=t})),n.cancel=function(){d||(d=!0,i.forEach((function(e){return u[e].cancel()})))},i.forEach((function(e){d||a(t[e],o,u[e],e)}))},R[s.CALL]=function(e,t,n,r){var a=t.context,o=t.fn,i=t.args,c=r.task;try{var u=o.apply(a,i);if(l.promise(u))return void L(u,n);if(l.iterator(u))return void z(e,u,c.context,N,s.getMetaInfo(o),!1,n);n(u)}catch(e){n(e,!0)}},R[s.CPS]=function(e,t,n){var r=t.context,a=t.fn,o=t.args;try{var i=function(e,t){l.undef(e)?n(t):n(e,!0)};a.apply(r,o.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(e){n(e,!0)}},R[s.FORK]=function(e,t,n,r){var a=t.context,o=t.fn,i=t.args,c=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var a=n.apply(t,r);if(l.iterator(a))return a;var o=!1;return s.makeIterator((function(e){return o?{value:e,done:!0}:(o=!0,{value:a,done:!l.promise(a)})}))}catch(e){return s.makeIterator((function(){throw e}))}}({context:a,fn:o,args:i}),f=function(e,t){return e.isSagaIterator?{name:e.meta.name}:s.getMetaInfo(t)}(d,o);m((function(){var t=z(e,d,u.context,N,f,c,void 0);c?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},R[s.JOIN]=function(e,t,n,r){var a=r.task,o=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&s.remove(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(l.array(t)){if(0===t.length)return void n([]);var i=s.createAllStyleChildCallbacks(t,n);t.forEach((function(e,t){o(e,i[t])}))}else o(t,n)},R[s.CANCEL]=function(e,t,n,r){var o=r.task;t===a.SELF_CANCELLATION?I(o):l.array(t)?t.forEach(I):I(t),n()},R[s.SELECT]=function(e,t,n){var r=t.selector,a=t.args;try{n(r.apply(void 0,[e.getState()].concat(a)))}catch(e){n(e,!0)}},R[s.ACTION_CHANNEL]=function(e,t,n){var r=t.pattern,a=k(t.buffer),o=A(r),i=function t(n){C(n)||e.channel.take(t,o),a.put(n)},l=a.close;a.close=function(){i.cancel(),l()},e.channel.take(i,o),n(a)},R[s.CANCELLED]=function(e,t,n,r){n(r.task.isCancelled())},R[s.FLUSH]=function(e,t,n){t.flush(n)},R[s.GET_CONTEXT]=function(e,t,n,r){n(r.task.context[t])},R[s.SET_CONTEXT]=function(e,t,n,r){var a=r.task;s.assignWithSymbols(a.context,t),n()},R);function M(e,t){return e+"?"+t}function D(e){var t=e.name,n=e.location;return n?t+"  "+M(n.fileName,n.lineNumber):t}function F(e){var t=s.flatMap((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var V=null,B=[],H=function(e){e.crashedEffect=V,B.push(e)},U=function(){V=null,B.length=0},j=function(e){V=e},W=function(){var e=B[0],t=B.slice(1),n=e.crashedEffect?function(e){var t=s.getLocation(e);return t?t.code+"  "+M(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+D(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+D(e.meta)})),[F(B)]).join("\n")};function $(e,t,n,r,o,i,l){var u;void 0===l&&(l=s.noop);var d,f,p=0,m=null,h=[],v=Object.create(n),y=function(e,t,n){var r,a=[],o=!1;function i(e){t(),c(),n(e,!0)}function l(t){a.push(t),t.cont=function(l,c){o||(s.remove(a,t),t.cont=s.noop,c?i(l):(t===e&&(r=l),a.length||(o=!0,n(r))))}}function c(){o||(o=!0,a.forEach((function(e){e.cont=s.noop,e.cancel()})),a=[])}return l(e),{addTask:l,cancelAll:c,abort:i,getTasks:function(){return a}}}(t,(function(){h.push.apply(h,y.getTasks().map((function(e){return e.meta.name})))}),g);function g(t,n){if(n){if(p=2,H({meta:o,cancelledTasks:h}),_.isRoot){var r=W();U(),e.onError(t,{sagaStack:r})}f=t,m&&m.reject(t)}else t===a.TASK_CANCEL?p=1:1!==p&&(p=3),d=t,m&&m.resolve(t);_.cont(t,n),_.joiners.forEach((function(e){e.cb(t,n)})),_.joiners=null}var _=((u={})[a.TASK]=!0,u.id=r,u.meta=o,u.isRoot=i,u.context=v,u.joiners=[],u.queue=y,u.cancel=function(){0===p&&(p=1,y.cancelAll(),g(a.TASK_CANCEL,!1))},u.cont=l,u.end=g,u.setContext=function(e){s.assignWithSymbols(v,e)},u.toPromise=function(){return m||(m=c(),2===p?m.reject(f):0!==p&&m.resolve(d)),m.promise},u.isRunning=function(){return 0===p},u.isCancelled=function(){return 1===p||0===p&&1===t.status},u.isAborted=function(){return 2===p},u.result=function(){return d},u.error=function(){return f},u);return _}function z(e,t,n,r,o,i,c){var u=e.finalizeRunEffect((function(t,n,r){if(l.promise(t))L(t,r);else if(l.iterator(t))z(e,t,f.context,n,o,!1,r);else if(t&&t[a.IO]){(0,O[t.type])(e,t.payload,r,p)}else r(t)}));m.cancel=s.noop;var d={meta:o,cancel:function(){0===d.status&&(d.status=1,m(a.TASK_CANCEL))},status:0},f=$(e,d,n,r,o,i,c),p={task:f,digestEffect:h};return c&&(c.cancel=f.cancel),m(),f;function m(e,n){try{var o;n?(o=t.throw(e),U()):s.shouldCancel(e)?(d.status=1,m.cancel(),o=l.func(t.return)?t.return(a.TASK_CANCEL):{done:!0,value:a.TASK_CANCEL}):o=s.shouldTerminate(e)?l.func(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==d.status&&(d.status=3),d.cont(o.value)):h(o.value,r,m)}catch(e){if(1===d.status)throw e;d.status=2,d.cont(e,!0)}}function h(t,n,r,a){void 0===a&&(a="");var o,i=P();function l(n,a){o||(o=!0,r.cancel=s.noop,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),a&&j(t),r(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:a,effect:t}),l.cancel=s.noop,r.cancel=function(){o||(o=!0,l.cancel(),l.cancel=s.noop,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},u(t,i,l)}}function Y(e,t){for(var n=e.channel,r=void 0===n?x():n,a=e.dispatch,o=e.getState,i=e.context,l=void 0===i?{}:i,c=e.sagaMonitor,u=e.effectMiddlewares,d=e.onError,f=void 0===d?s.logError:d,p=arguments.length,h=new Array(p>2?p-2:0),v=2;v<p;v++)h[v-2]=arguments[v];var y,g=t.apply(void 0,h),_=P();if(c&&(c.rootSagaStarted=c.rootSagaStarted||s.noop,c.effectTriggered=c.effectTriggered||s.noop,c.effectResolved=c.effectResolved||s.noop,c.effectRejected=c.effectRejected||s.noop,c.effectCancelled=c.effectCancelled||s.noop,c.actionDispatched=c.actionDispatched||s.noop,c.rootSagaStarted({effectId:_,saga:t,args:h})),u){var b=s.compose.apply(void 0,u);y=function(e){return function(t,n,r){return b((function(t){return e(t,n,r)}))(t)}}}else y=s.identity;var E={channel:r,dispatch:s.wrapSagaDispatch(a),getState:o,sagaMonitor:c,onError:f,finalizeRunEffect:y};return m((function(){var e=z(E,g,l,_,s.getMetaInfo(t),!0,void 0);return c&&c.effectResolved(_,e),e}))}Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function(){return a.CANCEL}}),Object.defineProperty(t,"SAGA_LOCATION",{enumerable:!0,get:function(){return a.SAGA_LOCATION}}),t.buffers=s.buffers,t.detach=s.detach,t.END=S,t.channel=k,t.default=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,l=n.channel,c=void 0===l?x():l,u=n.sagaMonitor,d=i(n,["context","channel","sagaMonitor"]);function f(e){var n=e.getState,r=e.dispatch;return t=Y.bind(null,o({},d,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return c.put(t),n}}}return f.run=function(){return t.apply(void 0,arguments)},f.setContext=function(e){s.assignWithSymbols(a,e)},f},t.eventChannel=function(e,t){void 0===t&&(t=s.none());var n,r=!1,a=k(t),o=function(){r||(r=!0,l.func(n)&&n(),a.close())};return n=e((function(e){C(e)?o():a.put(e)})),n=s.once(n),r&&n(),{take:a.take,flush:a.flush,close:o}},t.isEnd=C,t.multicastChannel=T,t.runSaga=Y,t.stdChannel=x},2078:(e,t,n)=>{"use strict";var r=n(1186),a=n(2954);e.exports=function(e,t){return arguments.length<2?(n=r[e],a(n)?n:void 0):r[e]&&r[e][t];var n}},2105:(e,t,n)=>{"use strict";var r,a,o,i=n(6674),l=n(1271),s=n(1186),c=n(2954),u=n(2845),d=n(188),f=n(7404),p=n(6832),m=n(8890),h=n(359),v=n(9171),y=n(6952),g=n(8324),_=n(7896),b=n(6216),E=n(3139),w=n(1364),A=w.enforce,S=w.get,C=s.Int8Array,k=C&&C.prototype,T=s.Uint8ClampedArray,x=T&&T.prototype,L=C&&g(C),R=k&&g(k),N=Object.prototype,P=s.TypeError,I=b("toStringTag"),O=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",D=i&&!!_&&"Opera"!==f(s.opera),F=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},H=function(e){var t=g(e);if(u(t)){var n=S(t);return n&&d(n,M)?n[M]:H(t)}},U=function(e){if(!u(e))return!1;var t=f(e);return d(V,t)||d(B,t)};for(r in V)(o=(a=s[r])&&a.prototype)?A(o)[M]=a:D=!1;for(r in B)(o=(a=s[r])&&a.prototype)&&(A(o)[M]=a);if((!D||!c(L)||L===Function.prototype)&&(L=function(){throw new P("Incorrect invocation")},D))for(r in V)s[r]&&_(s[r],L);if((!D||!R||R===N)&&(R=L.prototype,D))for(r in V)s[r]&&_(s[r].prototype,R);if(D&&g(x)!==R&&_(x,R),l&&!d(R,I))for(r in F=!0,v(R,I,{configurable:!0,get:function(){return u(this)?this[O]:void 0}}),V)s[r]&&m(s[r],O,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:F&&O,aTypedArray:function(e){if(U(e))return e;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!_||y(L,e)))return e;throw new P(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(l){if(n)for(var a in V){var o=s[a];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}R[e]&&!n||h(R,e,n?t:D&&k[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,a;if(l){if(_){if(n)for(r in V)if((a=s[r])&&d(a,e))try{delete a[e]}catch(e){}if(L[e]&&!n)return;try{return h(L,e,n?t:D&&L[e]||t)}catch(e){}}for(r in V)!(a=s[r])||a[e]&&!n||h(a,e,t)}},getTypedArrayConstructor:H,isView:function(e){if(!u(e))return!1;var t=f(e);return"DataView"===t||d(V,t)||d(B,t)},isTypedArray:U,TypedArray:L,TypedArrayPrototype:R}},2117:(e,t,n)=>{"use strict";var r=n(1271),a=n(4476);e.exports=r&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2120:(e,t,n)=>{"use strict";var r=n(5651),a=n(5287),o=n(3727),i=n(2816),l=n(4692);r({target:"Iterator",proto:!0,real:!0},{every:function(e){i(this),o(e);var t=l(this),n=0;return!a(t,(function(t,r){if(!e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2156:(e,t,n)=>{"use strict";var r=n(7098),a=n(3727),o=n(2816),i=n(6832),l=n(1480),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(a(n))return o(r(n,e));throw new s(i(e)+" is not iterable")}},2195:(e,t,n)=>{"use strict";var r=n(4767),a=n(383),o=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==a(e))throw new o("ArrayBuffer expected");return e.byteLength}},2214:(e,t,n)=>{"use strict";var r=n(1305),a=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new a("Wrong offset");return n}},2243:(e,t,n)=>{"use strict";var r=n(5651),a=n(1186),o=n(8108),i=n(2954),l=n(8324),s=n(8890),c=n(4476),u=n(188),d=n(6216),f=n(6268).IteratorPrototype,p=n(8128),m=d("toStringTag"),h=TypeError,v=a.Iterator,y=p||!i(v)||v.prototype!==f||!c((function(){v({})})),g=function(){if(o(this,f),l(this)===f)throw new h("Abstract class Iterator not directly constructable")};u(f,m)||s(f,m,"Iterator"),!y&&u(f,"constructor")&&f.constructor!==Object||s(f,"constructor",g),g.prototype=f,r({global:!0,constructor:!0,forced:y},{Iterator:g})},2412:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",o="minute",i="hour",l="day",s="week",c="month",u="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,c),o=n-a<0,i=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-a)/(o?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:s,d:l,D:f,h:i,m:o,s:a,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=v;var E="$isDayjsObject",w=function(e){return e instanceof k||!(!e||!e[E])},A=function e(t,n,r){var a;if(!t)return _;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(a=o),n&&(b[o]=n,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var l=t.name;b[l]=t,a=l}return!r&&a&&(_=a),a||!r&&_},S=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new k(n)},C=g;C.l=A,C.i=w,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function v(e){this.$L=A(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[E]=!0}var y=v.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return S(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<S(e)},y.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!C.u(t)||t,u=C.p(e),p=function(e,t){var a=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(l)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case s:var _=this.$locale().weekStart||0,b=(h<_?h+7:h)-_;return p(r?y-b:y+(6-b),v);case l:case f:return m(g+"Hours",0);case i:return m(g+"Minutes",1);case o:return m(g+"Seconds",2);case a:return m(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,s=C.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[l]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[o]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],m=s===l?this.$D+(t-this.$W):t;if(s===c||s===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(r,u){var f,p=this;r=Number(r);var m=C.p(u),h=function(e){var t=S(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===l)return h(1);if(m===s)return h(7);var v=(f={},f[o]=t,f[i]=n,f[a]=e,f)[m]||1,y=this.$d.getTime()+r*v;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=C.z(this),o=this.$H,i=this.$m,l=this.$M,s=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,a,o){return e&&(e[n]||e(t,r))||a[n].slice(0,o)},f=function(e){return C.s(o%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(h,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return l+1;case"MM":return C.s(l+1,2,"0");case"MMM":return d(n.monthsShort,l,c,3);case"MMMM":return d(c,l);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,s,2);case"ddd":return d(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(o,i,!0);case"A":return m(o,i,!1);case"m":return String(i);case"mm":return C.s(i,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,p){var m,h=this,v=C.p(f),y=S(r),g=(y.utcOffset()-this.utcOffset())*t,_=this-y,b=function(){return C.m(h,y)};switch(v){case d:m=b()/12;break;case c:m=b();break;case u:m=b()/3;break;case s:m=(_-g)/6048e5;break;case l:m=(_-g)/864e5;break;case i:m=_/n;break;case o:m=_/t;break;case a:m=_/e;break;default:m=_}return p?m:C.a(m)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return b[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=A(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),T=k.prototype;return S.prototype=T,[["$ms",r],["$s",a],["$m",o],["$H",i],["$W",l],["$M",c],["$y",d],["$D",f]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,k,S),e.$i=!0),S},S.locale=A,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=b[_],S.Ls=b,S.p={},S}()},2421:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",o="minute",i="hour",l="day",s="week",c="month",u="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,c),o=n-a<0,i=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-a)/(o?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:s,d:l,D:f,h:i,m:o,s:a,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=v;var E=function(e){return e instanceof C},w=function(e,t,n){var r;if(!e)return _;if("string"==typeof e)b[e]&&(r=e),t&&(b[e]=t,r=e);else{var a=e.name;b[a]=e,r=a}return!n&&r&&(_=r),r||!n&&_},A=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},S=g;S.l=w,S.i=E,S.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function v(e){this.$L=w(e.locale,null,!0),this.parse(e)}var y=v.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(e,t){var n=A(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return A(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<A(e)},y.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),p=function(e,t){var a=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(l)},m=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,v):p(0,v+1);case s:var _=this.$locale().weekStart||0,b=(h<_?h+7:h)-_;return p(r?y-b:y+(6-b),v);case l:case f:return m(g+"Hours",0);case i:return m(g+"Minutes",1);case o:return m(g+"Seconds",2);case a:return m(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,s=S.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[l]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[o]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],m=s===l?this.$D+(t-this.$W):t;if(s===c||s===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(r,u){var f,p=this;r=Number(r);var m=S.p(u),h=function(e){var t=A(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===l)return h(1);if(m===s)return h(7);var v=(f={},f[o]=t,f[i]=n,f[a]=e,f)[m]||1,y=this.$d.getTime()+r*v;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this;if(!this.isValid())return p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=S.z(this),a=this.$locale(),o=this.$H,i=this.$m,l=this.$M,s=a.weekdays,c=a.months,u=function(e,r,a,o){return e&&(e[r]||e(t,n))||a[r].substr(0,o)},d=function(e){return S.s(o%12||12,e,"0")},f=a.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:S.s(l+1,2,"0"),MMM:u(a.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(a.weekdaysMin,this.$W,s,2),ddd:u(a.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,i,!0),A:f(o,i,!1),m:String(i),mm:S.s(i,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:r};return n.replace(h,(function(e,t){return t||m[e]||r.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,p){var m,h=S.p(f),v=A(r),y=(v.utcOffset()-this.utcOffset())*t,g=this-v,_=S.m(this,v);return _=(m={},m[d]=_/12,m[c]=_,m[u]=_/3,m[s]=(g-y)/6048e5,m[l]=(g-y)/864e5,m[i]=g/n,m[o]=g/t,m[a]=g/e,m)[h]||g,p?_:S.a(_)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return b[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),k=C.prototype;return A.prototype=k,[["$ms",r],["$s",a],["$m",o],["$H",i],["$W",l],["$M",c],["$y",d],["$D",f]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),A.extend=function(e,t){return e.$i||(e(t,C,A),e.$i=!0),A},A.locale=w,A.isDayjs=E,A.unix=function(e){return A(1e3*e)},A.en=b[_],A.Ls=b,A.p={},A}()},2469:(e,t,n)=>{"use strict";var r=n(4627),a=n(188),o=n(6862),i=n(1716).indexOf,l=n(6562),s=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!a(l,n)&&a(r,n)&&s(u,n);for(;t.length>c;)a(r,n=t[c++])&&(~i(u,n)||s(u,n));return u}},2472:(e,t,n)=>{"use strict";var r=n(1186),a=n(7098),o=n(2105),i=n(1279),l=n(2214),s=n(5090),c=n(4476),u=r.RangeError,d=r.Int8Array,f=d&&d.prototype,p=f&&f.set,m=o.aTypedArray,h=o.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return a(p,e,{length:1,0:3},1),3!==e[1]})),y=v&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));h("set",(function(e){m(this);var t=l(arguments.length>1?arguments[1]:void 0,1),n=s(e);if(v)return a(p,this,n,t);var r=this.length,o=i(n),c=0;if(o+t>r)throw new u("Wrong length");for(;c<o;)this[t+c]=n[c++]}),!v||y)},2497:(e,t,n)=>{"use strict";var r=n(383);e.exports=Array.isArray||function(e){return"Array"===r(e)}},2509:(e,t,n)=>{"use strict";var r=n(7740).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},2535:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/MSIE|Trident/.test(r)},2585:(e,t,n)=>{"use strict";var r=n(4627),a=Set.prototype;e.exports={Set:Set,add:r(a.add),has:r(a.has),remove:r(a.delete),proto:a}},2626:(e,t,n)=>{"use strict";var r=n(9233),a=n(1279),o=n(4631),i=Array,l=Math.max;e.exports=function(e,t,n){for(var s=a(e),c=r(t,s),u=r(void 0===n?s:n,s),d=i(l(u-c,0)),f=0;c<u;c++,f++)o(d,f,e[c]);return d.length=f,d}},2816:(e,t,n)=>{"use strict";var r=n(2845),a=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(a(e)+" is not an object")}},2845:(e,t,n)=>{"use strict";var r=n(2954),a=n(4602),o=a.all;e.exports=a.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},2848:(e,t,n)=>{"use strict";var r=n(1186),a=n(2845),o=r.document,i=a(o)&&a(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},2875:(e,t,n)=>{"use strict";e.exports=n(132)},2891:(e,t,n)=>{"use strict";var r=n(188),a=n(402),o=n(6614),i=n(7740);e.exports=function(e,t,n){for(var l=a(t),s=i.f,c=o.f,u=0;u<l.length;u++){var d=l[u];r(e,d)||n&&r(n,d)||s(e,d,c(t,d))}}},2946:(e,t,n)=>{"use strict";var r=n(5651),a=n(1428).findLastIndex,o=n(6780);r({target:"Array",proto:!0},{findLastIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},2954:(e,t,n)=>{"use strict";var r=n(4602),a=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===a}:function(e){return"function"==typeof e}},2977:(e,t,n)=>{"use strict";var r=n(2585),a=n(6786),o=r.Set,i=r.add;e.exports=function(e){var t=new o;return a(e,(function(e){i(t,e)})),t}},3002:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},3033:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3075:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3139:(e,t,n)=>{"use strict";var r=n(4627),a=0,o=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++a+o,36)}},3176:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},3179:(e,t,n)=>{"use strict";var r=n(4627),a=n(2195),o=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==a(e))return!1;try{return o(e,0,0),!1}catch(e){return!0}}},3197:(e,t,n)=>{"use strict";n(2243),n(9224),Object.defineProperty(t,"__esModule",{value:!0}),n(40),n(9845);var r=n(3336),a=n(5200);n(1954);var o=function(e){return{done:!0,value:e}},i={};function l(e){return r.channel(e)?"channel":r.stringableFunc(e)?String(e):r.func(e)?e.name:String(e)}function s(e,t,n){var r,l,s,c=t;function u(t,n){if(c===i)return o(t);if(n&&!l)throw c=i,n;r&&r(t);var a=n?e[l](n):e[c]();return c=a.nextState,s=a.effect,r=a.stateUpdater,l=a.errorState,c===i?o(t):s}return a.makeIterator(u,(function(e){return u(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i,c={done:!1,value:a.take(e)},u=function(e){return i=e};return s({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:(e=i,{done:!1,value:a.fork.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeEvery("+l(e)+", "+t.name+")")}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i,c,u={done:!1,value:a.take(e)},d=function(e){return{done:!1,value:a.fork.apply(void 0,[t].concat(r,[e]))}},f=function(e){return{done:!1,value:a.cancel(e)}},p=function(e){return i=e},m=function(e){return c=e};return s({q1:function(){return{nextState:"q2",effect:u,stateUpdater:m}},q2:function(){return i?{nextState:"q3",effect:f(i)}:{nextState:"q1",effect:d(c),stateUpdater:p}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:p}}},"q1","takeLatest("+l(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i,c={done:!1,value:a.take(e)},u=function(e){return i=e};return s({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:(e=i,{done:!1,value:a.call.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeLeading("+l(e)+", "+t.name+")")}function f(e,t,n){for(var o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];var u,d,f={done:!1,value:a.delay(e)},p=function(e){return u=e},m=function(e){return d=e},h=!r.channel(t);return h||m(t),s({q1:function(){return{nextState:"q2",effect:{done:!1,value:a.actionChannel(t,a.sliding(1))},stateUpdater:m}},q2:function(){return{nextState:"q3",effect:{done:!1,value:a.take(d)},stateUpdater:p}},q3:function(){return{nextState:"q4",effect:(e=u,{done:!1,value:a.fork.apply(void 0,[n].concat(i,[e]))})};var e},q4:function(){return{nextState:"q2",effect:f}}},h?"q1":"q2","throttle("+l(t)+", "+n.name+")")}function p(e,t,n){for(var r=e,o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];var u={done:!1,value:a.call.apply(void 0,[n].concat(l))},d={done:!1,value:a.delay(t)};return s({q1:function(){return{nextState:"q2",effect:u,errorState:"q10"}},q2:function(){return{nextState:i}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function m(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var c,u,d={done:!1,value:a.take(t)},f={done:!1,value:a.race({action:a.take(t),debounce:a.delay(e)})},p=function(e){return c=e},m=function(e){return u=e};return s({q1:function(){return{nextState:"q2",effect:d,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:f,stateUpdater:m}},q3:function(){return u.debounce?{nextState:"q1",effect:(t=c,{done:!1,value:a.fork.apply(void 0,[n].concat(o,[t]))})}:{nextState:"q2",effect:(e=u.action,{done:!1,value:e}),stateUpdater:p};var e,t}},"q1","debounce("+l(t)+", "+n.name+")")}t.actionChannel=a.actionChannel,t.all=a.all,t.apply=a.apply,t.call=a.call,t.cancel=a.cancel,t.cancelled=a.cancelled,t.cps=a.cps,t.delay=a.delay,t.effectTypes=a.effectTypes,t.flush=a.flush,t.fork=a.fork,t.getContext=a.getContext,t.join=a.join,t.put=a.put,t.putResolve=a.putResolve,t.race=a.race,t.select=a.select,t.setContext=a.setContext,t.spawn=a.spawn,t.take=a.take,t.takeMaybe=a.takeMaybe,t.debounce=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return a.fork.apply(void 0,[m,e,t,n].concat(o))},t.retry=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return a.call.apply(void 0,[p,e,t,n].concat(o))},t.takeEvery=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return a.fork.apply(void 0,[c,e,t].concat(r))},t.takeLatest=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return a.fork.apply(void 0,[u,e,t].concat(r))},t.takeLeading=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return a.fork.apply(void 0,[d,e,t].concat(r))},t.throttle=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return a.fork.apply(void 0,[f,e,t,n].concat(o))}},3220:(e,t,n)=>{"use strict";var r=n(2954),a=n(2845),o=n(7896);e.exports=function(e,t,n){var i,l;return o&&r(i=t.constructor)&&i!==n&&a(l=i.prototype)&&l!==n.prototype&&o(e,l),e}},3240:(e,t,n)=>{"use strict";var r=n(8097),a=Function.prototype,o=a.apply,i=a.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(o):function(){return i.apply(o,arguments)})},3302:(e,t,n)=>{"use strict";var r=n(9436),a=n(1578);e.exports=function(e){var t=r(e,"string");return a(t)?t:t+""}},3336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{array:()=>c,buffer:()=>y,channel:()=>_,effect:()=>A,func:()=>i,iterable:()=>p,iterator:()=>f,multicast:()=>w,notUndef:()=>o,number:()=>l,object:()=>u,observable:()=>v,pattern:()=>g,promise:()=>d,sagaAction:()=>h,string:()=>s,stringableFunc:()=>b,symbol:()=>E,task:()=>m,undef:()=>a});n(2243),n(2120),n(9224);var r=n(40),a=function(e){return null==e},o=function(e){return null!=e},i=function(e){return"function"==typeof e},l=function(e){return"number"==typeof e},s=function(e){return"string"==typeof e},c=Array.isArray,u=function(e){return e&&!c(e)&&"object"==typeof e},d=function(e){return e&&i(e.then)},f=function(e){return e&&i(e.next)&&i(e.throw)},p=function(e){return e&&i(Symbol)?i(e[Symbol.iterator]):c(e)},m=function(e){return e&&e[r.TASK]},h=function(e){return Boolean(e&&e[r.SAGA_ACTION])},v=function(e){return e&&i(e.subscribe)},y=function(e){return e&&i(e.isEmpty)&&i(e.take)&&i(e.put)},g=function e(t){return t&&(s(t)||E(t)||i(t)||c(t)&&t.every(e))},_=function(e){return e&&i(e.take)&&i(e.close)},b=function(e){return i(e)&&e.hasOwnProperty("toString")},E=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},w=function(e){return _(e)&&e[r.MULTICAST]},A=function(e){return e&&e[r.IO]}},3403:(e,t,n)=>{"use strict";var r,a=n(2816),o=n(6284),i=n(3944),l=n(6562),s=n(1872),c=n(2848),u=n(8682),d="prototype",f="script",p=u("IE_PROTO"),m=function(){},h=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;y="undefined"!=typeof document?document.domain&&r?v(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):v(r);for(var a=i.length;a--;)delete y[d][i[a]];return y()};l[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=a(e),n=new m,m[d]=null,n[p]=e):n=y(),void 0===t?n:o.f(n,t)}},3499:(e,t,n)=>{"use strict";var r=n(2469),a=n(3944).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},3509:(e,t,n)=>{"use strict";var r=n(8572);t.H=r.createRoot,r.hydrateRoot},3575:(e,t,n)=>{"use strict";var r=n(5651),a=n(7098),o=n(3727),i=n(2816),l=n(4692),s=n(7455),c=n(9777),u=n(8106),d=n(8128),f=c((function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=i(a(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(n,"throw",e)}if(e=i(a(this.next,n)),this.done=!!e.done)return;try{this.inner=s(r(e.value,this.counter++),!1)}catch(e){u(n,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return i(this),o(e),new f(l(this),{mapper:e,inner:null})}})},3611:(e,t,n)=>{"use strict";var r=n(2845),a=n(8890);e.exports=function(e,t){r(t)&&"cause"in t&&a(e,"cause",t.cause)}},3616:(e,t,n)=>{"use strict";var r=n(4476),a=n(3033);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)}))},3618:(e,t,n)=>{"use strict";var r=n(359);e.exports=function(e,t,n){for(var a in t)r(e,a,t[a],n);return e}},3642:(e,t,n)=>{"use strict";var r=n(4063),a=n(2105),o=a.aTypedArray,i=a.exportTypedArrayMethod,l=a.getTypedArrayConstructor;i("toReversed",(function(){return r(o(this),l(this))}))},3727:(e,t,n)=>{"use strict";var r=n(2954),a=n(6832),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(a(e)+" is not a function")}},3785:(e,t,n)=>{"use strict";var r=n(9546),a=n(4497),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw new o("Wrong length or index");return n}},3808:(e,t,n)=>{"use strict";var r=n(9376);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3881:(e,t,n)=>{"use strict";var r=n(3075).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},3944:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3983:e=>{!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,o={};r<a;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),a={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e,n){return new Promise(function(a,o){var i=function(){this.off("change",i),a()}.bind(this);this.on("change",i);var l=(e=e||t.documentElement)[r.requestFullscreen](n);l instanceof Promise&&l.then(i).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a);var o=t[r.exitFullscreen]();o instanceof Promise&&o.then(a).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=a[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=a[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},4024:(e,t,n)=>{"use strict";var r=n(4627),a=n(4476),o=n(2954),i=n(188),l=n(1271),s=n(4737).CONFIGURABLE,c=n(4551),u=n(1364),d=u.enforce,f=u.get,p=String,m=Object.defineProperty,h=r("".slice),v=r("".replace),y=r([].join),g=l&&!a((function(){return 8!==m((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===h(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(l?m(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&i(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?l&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return i(r,"source")||(r.source=y(_,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&f(this).source||c(this)}),"toString")},4043:(e,t,n)=>{"use strict";var r=n(1301);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(e){}}},4063:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=r(e),a=new t(n),o=0;o<n;o++)a[o]=e[n-o-1];return a}},4094:(e,t,n)=>{"use strict";var r=n(7404);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4268:(e,t,n)=>{"use strict";n(7293),n(4401);var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var E=b.prototype=new _;E.constructor=b,v(E,g.prototype),E.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,o={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)A.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=t[a]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===o[a]&&(o[a]=s[a]);return{$$typeof:r,type:e,key:i,ref:l,props:o,_owner:S.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var x=/\/+/g;function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case a:s=!0}}if(s)return i=i(s=e),e=""===o?"."+L(s,0):o,w(i)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),R(i,t,n,"",(function(e){return e}))):null!=i&&(T(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(x,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+L(l=e[c],c);s+=R(l,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=R(l=l.value,t,n,u=o+L(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},M={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=l,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)A.call(t,c)&&!C.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];a.children=s}return{$$typeof:r,type:e.type,key:o,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4307:(e,t,n)=>{"use strict";var r,a,o=n(1186),i=n(3075),l=o.process,s=o.Deno,c=l&&l.versions||s&&s.version,u=c&&c.v8;u&&(a=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(a=+r[1]),e.exports=a},4401:(e,t,n)=>{"use strict";var r=n(5651),a=n(5090),o=n(1279),i=n(6586),l=n(1544);r({target:"Array",proto:!0,arity:1,forced:n(4476)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=a(this),n=o(t),r=arguments.length;l(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return i(t,n),n}})},4464:(e,t,n)=>{"use strict";var r=n(5651),a=n(5287),o=n(3727),i=n(2816),l=n(4692);r({target:"Iterator",proto:!0,real:!0},{forEach:function(e){i(this),o(e);var t=l(this),n=0;a(t,(function(t){e(t,n++)}),{IS_RECORD:!0})}})},4476:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},4497:(e,t,n)=>{"use strict";var r=n(9546),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},4515:(e,t,n)=>{"use strict";var r=n(1186),a=n(4627),o=n(4767),i=n(3785),l=n(3179),s=n(2195),c=n(232),u=n(9173),d=r.structuredClone,f=r.ArrayBuffer,p=r.DataView,m=r.TypeError,h=Math.min,v=f.prototype,y=p.prototype,g=a(v.slice),_=o(v,"resizable","get"),b=o(v,"maxByteLength","get"),E=a(y.getInt8),w=a(y.setInt8);e.exports=(u||c)&&function(e,t,n){var r,a=s(e),o=void 0===t?a:i(t),v=!_||!_(e);if(l(e))throw new m("ArrayBuffer is detached");if(u&&(e=d(e,{transfer:[e]}),a===o&&(n||v)))return e;if(a>=o&&(!n||v))r=g(e,0,o);else{var y=n&&!v&&b?{maxByteLength:b(e)}:void 0;r=new f(o,y);for(var A=new p(e),S=new p(r),C=h(o,a),k=0;k<C;k++)w(S,k,E(A,k))}return u||c(e),r}},4551:(e,t,n)=>{"use strict";var r=n(4627),a=n(2954),o=n(6656),i=r(Function.toString);a(o.inspectSource)||(o.inspectSource=function(e){return i(e)}),e.exports=o.inspectSource},4602:e=>{"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},4627:(e,t,n)=>{"use strict";var r=n(8097),a=Function.prototype,o=a.call,i=r&&a.bind.bind(o,o);e.exports=r?i:function(e){return function(){return o.apply(e,arguments)}}},4631:(e,t,n)=>{"use strict";var r=n(3302),a=n(7740),o=n(3033);e.exports=function(e,t,n){var i=r(t);i in e?a.f(e,i,o(0,n)):e[i]=n}},4658:(e,t,n)=>{"use strict";var r=n(4627),a=Error,o=r("".replace),i=String(new a("zxcasd").stack),l=/\n\s*at [^:]*:[^\n]*/,s=l.test(i);e.exports=function(e,t){if(s&&"string"==typeof e&&!a.prepareStackTrace)for(;t--;)e=o(e,l,"");return e}},4692:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},4737:(e,t,n)=>{"use strict";var r=n(1271),a=n(188),o=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,l=a(o,"name"),s=l&&"something"===function(){}.name,c=l&&(!r||r&&i(o,"name").configurable);e.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},4767:(e,t,n)=>{"use strict";var r=n(4627),a=n(3727);e.exports=function(e,t,n){try{return r(a(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},4817:(e,t,n)=>{"use strict";var r=n(5651),a=n(8852);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isDisjointFrom")},{isDisjointFrom:a})},4823:(e,t,n)=>{n(7293),n(4401);var r,a,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var c,u=[],d=!1,f=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&m())}function m(){if(!d){var e=s(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},4853:(e,t,n)=>{"use strict";n(7293),Object.defineProperty(t,"B",{value:!0});var r=n(40);t.A=function(e,t){var n;void 0===t&&(t=!0);var a=new Promise((function(r){n=setTimeout(r,Math.min(2147483647,e),t)}));return a[r.CANCEL]=function(){clearTimeout(n)},a}},4924:(e,t,n)=>{"use strict";var r=n(5651),a=n(5090),o=n(1279),i=n(6586),l=n(6519),s=n(1544);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=a(this),n=o(t),r=arguments.length;if(r){s(n+r);for(var c=n;c--;){var u=c+r;c in t?t[u]=t[c]:l(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return i(t,n+r)}})},4982:(e,t,n)=>{"use strict";var r=n(2816);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},5051:(e,t,n)=>{e.exports=n(7375)},5090:(e,t,n)=>{"use strict";var r=n(5743),a=Object;e.exports=function(e){return a(r(e))}},5166:e=>{"use strict";e.exports={}},5198:(e,t,n)=>{"use strict";var r=n(5651),a=n(5825);r({target:"Set",proto:!0,real:!0,forced:!n(69)("difference")},{difference:a})},5200:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}n(7293),n(4401),n(2243),n(3575),n(4464),n(6881),n(7065),n(9224);var a=n(40),o=r(n(9845)),i=n(3336),l=r(n(1954)),s=function(e){return function(){return e}}(!0);t.noop=function(){};var c=function(e){return e};var u=function(e){throw e},d=function(e){return{value:e,done:!0}};var f=function(e){return Array.apply(null,new Array(e))},p=function(e){return e===a.TERMINATE},m=function(e){return e===a.TASK_CANCEL},h=function(e){return p(e)||m(e)};function v(e){return e[a.SAGA_LOCATION]}var y={isEmpty:s,put:t.noop,take:t.noop};function g(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,a=0,o=0,i=function(t){n[a]=t,a=(a+1)%e,r++},l=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},s=function(){for(var e=[];r;)e.push(l());return e};return{isEmpty:function(){return 0==r},put:function(l){var c;if(r<e)i(l);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=l,o=a=(a+1)%e;break;case 4:c=2*e,n=s(),r=n.length,a=n.length,o=0,n.length=c,e=c,i(l)}},take:l,flush:s}}var _=function(){return y},b=function(e){return g(e,3)},E=function(e){return g(e,4)},w=Object.freeze({__proto__:null,none:_,fixed:function(e){return g(e,1)},dropping:function(e){return g(e,2)},sliding:b,expanding:E}),A="TAKE",S="PUT",C="ALL",k="RACE",T="CALL",x="CPS",L="FORK",R="JOIN",N="CANCEL",P="SELECT",I="ACTION_CHANNEL",O="CANCELLED",M="FLUSH",D="GET_CONTEXT",F="SET_CONTEXT",V=Object.freeze({__proto__:null,TAKE:A,PUT:S,ALL:C,RACE:k,CALL:T,CPS:x,FORK:L,JOIN:R,CANCEL:N,SELECT:P,ACTION_CHANNEL:I,CANCELLED:O,FLUSH:M,GET_CONTEXT:D,SET_CONTEXT:F}),B=function(e,t){var n;return(n={})[a.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},H=function(e){return B(L,o({},e.payload,{detached:!0}))};function U(e,t){return void 0===e&&(e="*"),i.pattern(e)?(i.notUndef(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),B(A,{pattern:e})):i.multicast(e)&&i.notUndef(t)&&i.pattern(t)?B(A,{channel:e,pattern:t}):i.channel(e)?(i.notUndef(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),B(A,{channel:e})):void 0}function j(e,t){return i.undef(t)&&(t=e,e=void 0),B(S,{channel:e,action:t})}function W(e,t){var n,r=null;return i.func(e)?n=e:(i.array(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&i.string(n)&&i.func(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function $(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(T,W(e,n))}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(L,W(e,n))}var Y=$.bind(null,l);t.ACTION_CHANNEL=I,t.ALL=C,t.CALL=T,t.CANCEL=N,t.CANCELLED=O,t.CPS=x,t.FLUSH=M,t.FORK=L,t.GET_CONTEXT=D,t.JOIN=R,t.PUT=S,t.RACE=k,t.SELECT=P,t.SET_CONTEXT=F,t.TAKE=A,t.actionChannel=function(e,t){return B(I,{pattern:e,buffer:t})},t.all=function(e){var t=B(C,e);return t.combinator=!0,t},t.apply=function(e,t,n){return void 0===n&&(n=[]),B(T,W([e,t],n))},t.assignWithSymbols=function(e,t){o(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},t.buffers=w,t.call=$,t.cancel=function(e){return void 0===e&&(e=a.SELF_CANCELLATION),B(N,e)},t.cancelled=function(){return B(O,{})},t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))},t.cps=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(x,W(e,n))},t.createAllStyleChildCallbacks=function(e,n){var r,a=Object.keys(e),o=a.length,l=0,s=i.array(e)?f(o):{},c={};return a.forEach((function(e){var a=function(t,a){r||(a||h(t)?(n.cancel(),n(t,a)):(s[e]=t,++l===o&&(r=!0,n(s))))};a.cancel=t.noop,c[e]=a})),n.cancel=function(){r||(r=!0,a.forEach((function(e){return c[e].cancel()})))},c},t.createEmptyArray=f,t.delay=Y,t.detach=H,t.effectTypes=V,t.expanding=E,t.flatMap=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))},t.flush=function(e){return B(M,e)},t.fork=z,t.getContext=function(e){return B(D,e)},t.getLocation=v,t.getMetaInfo=function(e){return{name:e.name||"anonymous",location:v(e)}},t.identity=c,t.join=function(e){return B(R,e)},t.kTrue=s,t.logError=function(e,t){var n=t.sagaStack;console.error(e),console.error(n)},t.makeIterator=function(e,t,n){void 0===t&&(t=u),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:d,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r},t.none=_,t.once=function(e){var t=!1;return function(){t||(t=!0,e())}},t.put=j,t.putResolve=function(){var e=j.apply(void 0,arguments);return e.payload.resolve=!0,e},t.race=function(e){var t=B(k,e);return t.combinator=!0,t},t.remove=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},t.select=function(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(P,{selector:e,args:n})},t.setContext=function(e){return B(F,e)},t.shouldCancel=m,t.shouldComplete=h,t.shouldTerminate=p,t.sliding=b,t.spawn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(z.apply(void 0,[e].concat(n)))},t.take=U,t.takeMaybe=function(){var e=U.apply(void 0,arguments);return e.payload.maybe=!0,e},t.wrapSagaDispatch=function(e){return function(t){return e(Object.defineProperty(t,a.SAGA_ACTION,{value:!0}))}}},5287:(e,t,n)=>{"use strict";var r=n(5319),a=n(7098),o=n(2816),i=n(6832),l=n(5876),s=n(1279),c=n(6952),u=n(2156),d=n(1480),f=n(8106),p=TypeError,m=function(e,t){this.stopped=e,this.result=t},h=m.prototype;e.exports=function(e,t,n){var v,y,g,_,b,E,w,A=n&&n.that,S=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),x=r(t,A),L=function(e){return v&&f(v,"normal",e),new m(!0,e)},R=function(e){return S?(o(e),T?x(e[0],e[1],L):x(e[0],e[1])):T?x(e,L):x(e)};if(C)v=e.iterator;else if(k)v=e;else{if(!(y=d(e)))throw new p(i(e)+" is not iterable");if(l(y)){for(g=0,_=s(e);_>g;g++)if((b=R(e[g]))&&c(h,b))return b;return new m(!1)}v=u(e,y)}for(E=C?e.next:v.next;!(w=a(E,v)).done;){try{b=R(w.value)}catch(e){f(v,"throw",e)}if("object"==typeof b&&b&&c(h,b))return b}return new m(!1)}},5319:(e,t,n)=>{"use strict";var r=n(6905),a=n(3727),o=n(8097),i=r(r.bind);e.exports=function(e,t){return a(e),void 0===t?e:o?i(e,t):function(){return e.apply(t,arguments)}}},5506:(e,t,n)=>{"use strict";var r=n(2105),a=n(1428).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},5651:(e,t,n)=>{"use strict";var r=n(1186),a=n(6614).f,o=n(8890),i=n(359),l=n(1188),s=n(2891),c=n(5847);e.exports=function(e,t){var n,u,d,f,p,m=e.target,h=e.global,v=e.stat;if(n=h?r:v?r[m]||l(m,{}):(r[m]||{}).prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(p=a(n,u))&&p.value:n[u],!c(h?u:m+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;s(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),i(n,u,f,e)}}},5671:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585).add,o=n(2977),i=n(9244),l=n(6830);e.exports=function(e){var t=r(this),n=i(e).getIterator(),s=o(t);return l(n,(function(e){a(s,e)})),s}},5736:(e,t,n)=>{"use strict";var r=n(5651),a=n(4476),o=n(8163);r({target:"Set",proto:!0,real:!0,forced:!n(69)("intersection")||a((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:o})},5743:(e,t,n)=>{"use strict";var r=n(400),a=TypeError;e.exports=function(e){if(r(e))throw new a("Can't call method on "+e);return e}},5783:(e,t,n)=>{"use strict";var r=n(5651),a=n(6994);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSupersetOf")},{isSupersetOf:a})},5825:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585),o=n(2977),i=n(335),l=n(9244),s=n(6786),c=n(6830),u=a.has,d=a.remove;e.exports=function(e){var t=r(this),n=l(e),a=o(t);return i(t)<=n.size?s(t,(function(e){n.includes(e)&&d(a,e)})):c(n.getIterator(),(function(e){u(t,e)&&d(a,e)})),a}},5847:(e,t,n)=>{"use strict";var r=n(4476),a=n(2954),o=/#|\.prototype\./,i=function(e,t){var n=s[l(e)];return n===u||n!==c&&(a(t)?r(t):!!t)},l=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},5857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__esModule:()=>r.BJ,arrayOfDeferred:()=>r.gN,default:()=>a});var r=n(439);const a=r.Ay},5876:(e,t,n)=>{"use strict";var r=n(6216),a=n(5166),o=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||i[o]===e)}},5925:(e,t,n)=>{"use strict";var r,a=n(1186),o=n(3240),i=n(2954),l=n(596),s=n(3075),c=n(6147),u=n(8003),d=a.Function,f=/MSIE .\./.test(s)||l&&((r=a.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return f?function(r,a){var l=u(arguments.length,1)>n,s=i(r)?r:d(r),f=l?c(arguments,n):[],p=l?function(){o(s,this,f)}:s;return t?e(p,a):e(p)}:e}},6030:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!n.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},6043:(e,t,n)=>{"use strict";e.exports=n(9979)},6047:(e,t,n)=>{"use strict";e.exports=n(1988)},6147:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r([].slice)},6216:(e,t,n)=>{"use strict";var r=n(1186),a=n(9960),o=n(188),i=n(3139),l=n(1462),s=n(9367),c=r.Symbol,u=a("wks"),d=s?c.for||c:c&&c.withoutSetter||i;e.exports=function(e){return o(u,e)||(u[e]=l&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},6268:(e,t,n)=>{"use strict";var r,a,o,i=n(4476),l=n(2954),s=n(2845),c=n(3403),u=n(8324),d=n(359),f=n(6216),p=n(8128),m=f("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(a=u(u(o)))!==Object.prototype&&(r=a):h=!0),!s(r)||i((function(){var e={};return r[m].call(e)!==e}))?r={}:p&&(r=c(r)),l(r[m])||d(r,m,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},6284:(e,t,n)=>{"use strict";var r=n(1271),a=n(2117),o=n(7740),i=n(2816),l=n(6862),s=n(731);t.f=r&&!a?Object.defineProperties:function(e,t){i(e);for(var n,r=l(t),a=s(t),c=a.length,u=0;c>u;)o.f(e,n=a[u++],r[n]);return e}},6292:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.r(t),n.d(t,{default:()=>r})},6325:(e,t,n)=>{"use strict";var r=n(1279),a=n(9546),o=RangeError;e.exports=function(e,t,n,i){var l=r(e),s=a(n),c=s<0?l+s:s;if(c>=l||c<0)throw new o("Incorrect index");for(var u=new t(l),d=0;d<l;d++)u[d]=d===c?i:e[d];return u}},6399:(e,t,n)=>{"use strict";var r=n(5651),a=n(1186),o=n(6496).clear;r({global:!0,bind:!0,enumerable:!0,forced:a.clearImmediate!==o},{clearImmediate:o})},6444:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6496:(e,t,n)=>{"use strict";var r,a,o,i,l=n(1186),s=n(3240),c=n(5319),u=n(2954),d=n(188),f=n(4476),p=n(1872),m=n(6147),h=n(2848),v=n(8003),y=n(6444),g=n(1301),_=l.setImmediate,b=l.clearImmediate,E=l.process,w=l.Dispatch,A=l.Function,S=l.MessageChannel,C=l.String,k=0,T={},x="onreadystatechange";f((function(){r=l.location}));var L=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},R=function(e){return function(){L(e)}},N=function(e){L(e.data)},P=function(e){l.postMessage(C(e),r.protocol+"//"+r.host)};_&&b||(_=function(e){v(arguments.length,1);var t=u(e)?e:A(e),n=m(arguments,1);return T[++k]=function(){s(t,void 0,n)},a(k),k},b=function(e){delete T[e]},g?a=function(e){E.nextTick(R(e))}:w&&w.now?a=function(e){w.now(R(e))}:S&&!y?(i=(o=new S).port2,o.port1.onmessage=N,a=c(i.postMessage,i)):l.addEventListener&&u(l.postMessage)&&!l.importScripts&&r&&"file:"!==r.protocol&&!f(P)?(a=P,l.addEventListener("message",N,!1)):a=x in h("script")?function(e){p.appendChild(h("script"))[x]=function(){p.removeChild(this),L(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:_,clear:b}},6519:(e,t,n)=>{"use strict";var r=n(6832),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+r(t)+" of "+r(e))}},6562:e=>{"use strict";e.exports={}},6586:(e,t,n)=>{"use strict";var r=n(1271),a=n(2497),o=TypeError,i=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(a(e)&&!i(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6614:(e,t,n)=>{"use strict";var r=n(1271),a=n(7098),o=n(6030),i=n(3033),l=n(6862),s=n(3302),c=n(188),u=n(1664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=l(e),t=s(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return i(!a(o.f,e,t),e[t])}},6616:(e,t,n)=>{"use strict";var r=n(5651),a=n(5287),o=n(3727),i=n(2816),l=n(4692);r({target:"Iterator",proto:!0,real:!0},{find:function(e){i(this),o(e);var t=l(this),n=0;return a(t,(function(t,r){if(e(t,n++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},6656:(e,t,n)=>{"use strict";var r=n(1186),a=n(1188),o="__core-js_shared__",i=r[o]||a(o,{});e.exports=i},6674:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},6780:(e,t,n)=>{"use strict";var r=n(6216),a=n(3403),o=n(7740).f,i=r("unscopables"),l=Array.prototype;void 0===l[i]&&o(l,i,{configurable:!0,value:a(null)}),e.exports=function(e){l[i][e]=!0}},6786:(e,t,n)=>{"use strict";var r=n(4627),a=n(6830),o=n(2585),i=o.Set,l=o.proto,s=r(l.forEach),c=r(l.keys),u=c(new i).next;e.exports=function(e,t,n){return n?a({iterator:c(e),next:u},t):s(e,t)}},6814:(e,t,n)=>{"use strict";var r=n(5651),a=n(1186),o=n(6496).set,i=n(5925),l=a.setImmediate?i(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:a.setImmediate!==l},{setImmediate:l})},6830:(e,t,n)=>{"use strict";var r=n(7098);e.exports=function(e,t,n){for(var a,o,i=n?e:e.iterator,l=e.next;!(a=r(l,i)).done;)if(void 0!==(o=t(a.value)))return o}},6832:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6862:(e,t,n)=>{"use strict";var r=n(1106),a=n(5743);e.exports=function(e){return r(a(e))}},6881:(e,t,n)=>{"use strict";var r=n(5651),a=n(8480);r({target:"Iterator",proto:!0,real:!0,forced:n(8128)},{map:a})},6905:(e,t,n)=>{"use strict";var r=n(383),a=n(4627);e.exports=function(e){if("Function"===r(e))return a(e)}},6923:(e,t,n)=>{"use strict";var r=n(3075).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},6952:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r({}.isPrototypeOf)},6958:(e,t,n)=>{"use strict";var r=n(2078),a=n(188),o=n(8890),i=n(6952),l=n(7896),s=n(2891),c=n(2509),u=n(3220),d=n(3808),f=n(3611),p=n(796),m=n(1271),h=n(8128);e.exports=function(e,t,n,v){var y="stackTraceLimit",g=v?2:1,_=e.split("."),b=_[_.length-1],E=r.apply(null,_);if(E){var w=E.prototype;if(!h&&a(w,"cause")&&delete w.cause,!n)return E;var A=r("Error"),S=t((function(e,t){var n=d(v?t:e,void 0),r=v?new E(e):new E;return void 0!==n&&o(r,"message",n),p(r,S,r.stack,2),this&&i(w,this)&&u(r,this,S),arguments.length>g&&f(r,arguments[g]),r}));if(S.prototype=w,"Error"!==b?l?l(S,A):s(S,A,{name:!0}):m&&y in E&&(c(S,E,y),c(S,E,"prepareStackTrace")),s(S,E),!h)try{w.name!==b&&o(w,"name",b),w.constructor=S}catch(e){}return S}}},6986:(e,t,n)=>{"use strict";var r=n(6325),a=n(2105),o=n(4094),i=n(9546),l=n(75),s=a.aTypedArray,c=a.getTypedArrayConstructor,u=a.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var n=s(this),a=i(e),u=o(n)?l(t):+t;return r(n,c(n),a,u)}}.with,!d)},6994:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585).has,o=n(335),i=n(9244),l=n(6830),s=n(8106);e.exports=function(e){var t=r(this),n=i(e);if(o(t)<n.size)return!1;var c=n.getIterator();return!1!==l(c,(function(e){if(!a(t,e))return s(c,"normal",!1)}))}},6997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CANCEL:()=>r.CANCEL,END:()=>r.END,SAGA_LOCATION:()=>r.SAGA_LOCATION,__esModule:()=>r.__esModule,buffers:()=>r.buffers,channel:()=>r.channel,default:()=>a,detach:()=>r.detach,eventChannel:()=>r.eventChannel,isEnd:()=>r.isEnd,multicastChannel:()=>r.multicastChannel,runSaga:()=>r.runSaga,stdChannel:()=>r.stdChannel});var r=n(6047);const a=r.default},7065:(e,t,n)=>{"use strict";var r=n(5651),a=n(5287),o=n(3727),i=n(2816),l=n(4692),s=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(e){i(this),o(e);var t=l(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(a(t,(function(t){n?(n=!1,r=t):r=e(r,t,c),c++}),{IS_RECORD:!0}),n)throw new s("Reduce of empty iterator with no initial value");return r}})},7098:(e,t,n)=>{"use strict";var r=n(8097),a=Function.prototype.call;e.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},7140:function(e,t,n){"use strict";n(7293),n(4401),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(8578),n(9857),n(9972);var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=void 0,t.moduleName="toWebVTT";var o=function(e,n){return new Promise((function(r,a){var o=new FileReader,i=function(e){var t=e.target.result;o.removeEventListener("loadend",i),r("string"!==n?new Uint8Array(t):t)},l=function(){o.removeEventListener("error",l),a(new Error(t.moduleName+": Error while reading the Blob object"))};o.addEventListener("loadend",i),o.addEventListener("error",l),"string"!==n?o.readAsArrayBuffer(e):o.readAsText(e)}))},i=function(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))},l=function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")};t.default=function(e){return r(void 0,void 0,void 0,(function(){var n,r,s,c;return a(this,(function(a){switch(a.label){case 0:if(!FileReader)throw new Error(t.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(t.moduleName+": No TextDecoder constructor found");if(!(e instanceof Blob))throw new Error(t.moduleName+": Expecting resource to be a Blob but something else found.");r="WEBVTT FILE\r\n\r\n",a.label=1;case 1:return a.trys.push([1,3,,5]),[4,o(e,"string")];case 2:return s=a.sent(),n=r.concat(l(s)),[3,5];case 3:return a.sent(),[4,o(e,"buffer")];case 4:return s=a.sent(),c=new TextDecoder("utf-8").decode(s),n=r.concat(l(c)),[3,5];case 5:return[2,Promise.resolve(i(n))]}}))}))}},7162:(e,t,n)=>{"use strict";n(2243),n(4464),Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6997),o=(r=a)&&"object"==typeof r&&"default"in r?r.default:r;Object.keys(a).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})),t.default=o},7224:(e,t,n)=>{"use strict";var r=n(5651),a=n(8547);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSubsetOf")},{isSubsetOf:a})},7293:(e,t,n)=>{"use strict";var r=n(5651),a=n(1186),o=n(3240),i=n(6958),l="WebAssembly",s=a[l],c=7!==new Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=i(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(s&&s[e]){var n={};n[e]=i(l+"."+e,t,c),r({target:l,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},7375:(e,t,n)=>{"use strict";n(7293),n(4401),n(2243),n(2120),n(4464),n(6881);var r,a=(r=n(8717))&&"object"==typeof r&&"default"in r?r.default:r,o=n(8572);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e.prototype.constructor=e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e,t,n,r,a,o,i,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,i,l],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}};function u(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function f(e,t,n){var r="",a="",o=null,i=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var l=!1;return e.split("").forEach((function(e){l=!l&&"\\"===e||(l||!n[e]?(i.push(r.length),r.length===i.length-1&&(a+=e)):o=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:a,mask:r,lastEditablePosition:o,permanents:i}}function p(e,t){return-1!==e.permanents.indexOf(t)}function m(e,t,n){var r=e.mask,a=e.formatChars;if(!n)return!1;if(p(e,t))return r[t]===n;var o=a[r[t]];return new RegExp(o).test(n)}function h(e,t){return t.split("").every((function(t,n){return p(e,n)||!m(e,n,t)}))}function v(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var a=r.length,o=t.length;o>=r.length;o--){var i=t[o];if(!p(e,o)&&m(e,o,i)){a=o+1;break}}return a}function y(e,t){return v(e,t)===e.mask.length}function g(e,t){var n=e.maskChar,r=e.mask,a=e.prefix;if(!n){for((t=_(e,"",t,0)).length<a.length&&(t=a);t.length<r.length&&p(e,t.length);)t+=r[t.length];return t}if(t)return _(e,g(e,""),t,0);for(var o=0;o<r.length;o++)p(e,o)?t+=r[o]:t+=n;return t}function _(e,t,n,r){var a=e.mask,o=e.maskChar,i=e.prefix,l=n.split(""),s=y(e,t);return!o&&r>t.length&&(t+=a.slice(t.length,r)),l.every((function(n){for(;u=n,p(e,c=r)&&u!==a[c];){if(r>=t.length&&(t+=a[r]),l=n,o&&p(e,r)&&l===o)return!0;if(++r>=a.length)return!1}var l,c,u;return!m(e,r,n)&&n!==o||(r<t.length?t=o||s||r<i.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),g(e,t)):o||(t+=n),++r<a.length)})),t}function b(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!p(e,r))return r;return null}function E(e){return e||0===e?e+"":""}function w(e,t,n,r,a){var o=e.mask,i=e.prefix,l=e.lastEditablePosition,s=t,c="",u=0,d=0,f=Math.min(a.start,n.start);return n.end>a.start?d=(u=function(e,t,n,r){var a=e.mask,o=e.maskChar,i=n.split(""),l=r;return i.every((function(t){for(;i=t,p(e,n=r)&&i!==a[n];)if(++r>=a.length)return!1;var n,i;return(m(e,r,t)||t===o)&&r++,r<a.length})),r-l}(e,0,c=s.slice(a.start,n.end),f))?a.length:0:s.length<r.length&&(d=r.length-s.length),s=r,d&&(1!==d||a.length||(f=a.start===n.start?b(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),s=function(e,t,n,r){var a=n+r,o=e.maskChar,i=e.mask,l=e.prefix,s=t.split("");if(o)return s.map((function(t,r){return r<n||a<=r?t:p(e,r)?i[r]:o})).join("");for(var c=a;c<s.length;c++)p(e,c)&&(s[c]="");return n=Math.max(l.length,n),s.splice(n,a-n),t=s.join(""),g(e,t)}(e,s,f,d)),s=_(e,s,c,f),(f+=u)>=o.length?f=o.length:f<i.length&&!u?f=i.length:f>=i.length&&f<l&&u&&(f=b(e,f)),c||(c=null),{value:s=g(e,s),enteredString:c,selection:{start:f,end:f}}}function A(e){return"function"==typeof e}function S(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function C(e){return(S()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function k(e){(S()||clearTimeout)(e)}var T=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=C(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(k(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=o.findDOMNode(s(s(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=v(n.maskOptions,n.value),t=b(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var a=n.getInputDOMNode(),o=n.isFocused();a&&o&&(r.deferred||u(a,e,t),null!==n.selectionDeferId&&k(n.selectionDeferId),n.selectionDeferId=C((function(){n.selectionDeferId=null,u(a,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,a=e.permanents,o=e.formatChars;return{mask:t,maskChar:r,permanents:a,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:o}},n.isInputAutofilled=function(e,t,r,a){var o=n.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||a.end<r.length&&t.end===e.length},n.onChange=function(e){var t=s(s(n)).beforePasteState,r=s(s(n)).previousSelection,a=n.props.beforeMaskedValueChange,o=n.getInputValue(),i=n.value,l=n.getSelection();n.isInputAutofilled(o,l,i,r)&&(i=g(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,i=t.value,l={start:r.start+o.length,end:r.start+o.length,length:0},o=i.slice(0,r.start)+o+i.slice(r.end),n.beforePasteState=null);var c=w(n.maskOptions,o,l,i,r),u=c.enteredString,d=c.selection,f=c.value;if(A(a)){var p=a({value:f,selection:d},{value:i,selection:r},u,n.getBeforeMaskedValueChangeConfig());f=p.value,d=p.selection}n.setInputValue(f),A(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,a=r.mask,o=r.prefix;if(n.focused=!0,n.mounted=!0,a){if(n.value)v(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var i=g(n.maskOptions,o),l=g(n.maskOptions,i),s=v(n.maskOptions,l),c=b(n.maskOptions,s),u={start:c,end:c};if(A(t)){var d=t({value:l,selection:u},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());l=d.value,u=d.selection}var f=l!==n.getInputValue();f&&n.setInputValue(l),f&&A(n.props.onChange)&&n.props.onChange(e),n.setSelection(u.start,u.end)}n.runSaveSelectionLoop()}A(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&h(n.maskOptions,n.value)){var a="";A(t)&&(a=t({value:a,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var o=a!==n.getInputValue();o&&n.setInputValue(a),o&&A(n.props.onChange)&&n.props.onChange(e)}A(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),a=Math.abs(t.clientY-n.mouseDownY),o=Math.max(r,a),i=(new Date).getTime()-n.mouseDownTime;(o<=10&&i<=200||o<=5&&i<=300)&&n.setCursorToEnd()}}))}A(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){A(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&A(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,a=t.maskChar,i=t.formatChars,l=t.alwaysShowMask,c=t.beforeMaskedValueChange,d=t.defaultValue,p=t.value;n.maskOptions=f(r,a,i),null==d&&(d=""),null==p&&(p=d);var m=E(p);if(n.maskOptions.mask&&(l||m)&&(m=g(n.maskOptions,m),A(c))){var y=t.value;null==t.value&&(y=d),m=c({value:m,selection:null},{value:y=E(y),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=m,n}l(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,a=t.mask,o=t.maskChar,i=t.formatChars,l=this.maskOptions,s=r||this.isFocused(),c=null!=this.props.value,u=c?E(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=f(a,o,i),this.maskOptions.mask){!l.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==l.mask;if(l.mask||c||(u=this.getInputValue()),(p||this.maskOptions.mask&&(u||s))&&(u=g(this.maskOptions,u)),p){var m=v(this.maskOptions,u);(null===d||m<d)&&(d=y(this.maskOptions,u)?m:b(this.maskOptions,m))}!this.maskOptions.mask||!h(this.maskOptions,u)||s||c&&this.props.value||(u="");var _={start:d,end:d};if(A(n)){var w=n({value:u,selection:_},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());u=w.value,_=w.selection}this.value=u;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var C=!1;null!=_.start&&null!=_.end&&(C=!e||e.start!==_.start||e.end!==_.end),(C||S)&&this.setSelection(_.start,_.end)}else l.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&k(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){A(n)||c(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],l=i({},r);o.forEach((function(e){return delete l[e]})),e=n(l),o.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&c(!1)}else e=a.createElement("input",i({ref:this.handleRef},r));var s={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(s.onChange=this.onChange,s.onPaste=this.onPaste,s.onMouseDown=this.onMouseDown),null!=r.value&&(s.value=this.value)),e=a.cloneElement(e,s)},t}(a.Component);e.exports=T},7404:(e,t,n)=>{"use strict";var r=n(9119),a=n(2954),o=n(383),i=n(6216)("toStringTag"),l=Object,s="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=l(e),i))?n:s?o(t):"Object"===(r=o(t))&&a(t.callee)?"Arguments":r}},7455:(e,t,n)=>{"use strict";var r=n(7098),a=n(2816),o=n(4692),i=n(1480);e.exports=function(e,t){t&&"string"==typeof e||a(e);var n=i(e);return o(a(void 0!==n?r(n,e):e))}},7538:(e,t,n)=>{"use strict";var r=n(2816),a=n(8106);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){a(e,"throw",t)}}},7588:(e,t,n)=>{"use strict";n(7293),n(4401),n(4924),n(9420),n(2243),n(4464),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446);var r=n(8717),a=n(2875);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function h(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);v[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,F=Object.assign;function V(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function H(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==o[l]){var s="\n"+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function U(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){q(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function oe(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ae=null,Se=null;function Ce(e){if(e=_a(e)){if("function"!=typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=Ea(t),we(e.stateNode,e.type,t))}}function ke(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Te(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Le(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ae||null!==Se)&&(Le(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ea(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ie=!1}function Me(e,t,n,r,a,o,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,Fe=null,Ve=!1,Be=null,He={onError:function(e){De=!0,Fe=e}};function Ue(e,t,n,r,a,o,i,l,s){De=!1,Fe=null,Me.apply(He,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(je(e)!==e)throw Error(o(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return $e(a),e;if(i===r)return $e(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ze=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ke=a.unstable_requestPaint,qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=dt(l):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,wt,At,St,Ct,kt=!1,Tt=[],xt=null,Lt=null,Rt=null,Nt=new Map,Pt=new Map,It=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=_a(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ga(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_a(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Vt(e)&&n.delete(t)}function Ht(){kt=!1,null!==xt&&Vt(xt)&&(xt=null),null!==Lt&&Vt(Lt)&&(Lt=null),null!==Rt&&Vt(Rt)&&(Rt=null),Nt.forEach(Bt),Pt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ht)))}function jt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Ut(xt,e),null!==Lt&&Ut(Lt,e),null!==Rt&&Ut(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ft(n),null===n.blockedOn&&It.shift()}var Wt=b.ReactCurrentBatchConfig,$t=!0;function zt(e,t,n,r){var a=_t,o=Wt.transition;Wt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=a,Wt.transition=o}}function Yt(e,t,n,r){var a=_t,o=Wt.transition;Wt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=a,Wt.transition=o}}function Gt(e,t,n,r){if($t){var a=Qt(e,t,n,r);if(null===a)$r(e,t,r,Zt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return xt=Dt(xt,e,t,n,r,a),!0;case"dragenter":return Lt=Dt(Lt,e,t,n,r,a),!0;case"mouseover":return Rt=Dt(Rt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var o=_a(a);if(null!==o&&Et(o),null===(o=Qt(e,t,n,r))&&$r(e,t,r,Zt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Zt=null;function Qt(e,t,n,r){if(Zt=null,null!==(e=ga(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var qt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,a="value"in qt?qt.value:qt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=F({},cn,{view:0,detail:0}),fn=an(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(pn),hn=an(F({},pn,{dataTransfer:0})),vn=an(F({},dn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),bn=an(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Cn(){return Sn}var kn=F({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(kn),xn=an(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),In=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Bn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function zn(e,t,n,r){ke(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function Zn(e){Vr(e,0)}function Qn(e){if(G(ba(e)))return e}function Kn(e,t){if("change"===e)return t}var qn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Xn=Jn}else Xn=!1;qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];zn(t,Gn,e,Ee(e)),Ne(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=ur(n,o);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,gr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Ar={},Sr={};function Cr(e){if(Ar[e])return Ar[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ar[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Cr("animationend"),Tr=Cr("animationiteration"),xr=Cr("animationstart"),Lr=Cr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Ir=0;Ir<Nr.length;Ir++){var Or=Nr[Ir];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,s,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Fe;De=!1,Fe=null,Ve||(Ve=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Fr(a,l,c),o=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Fr(a,l,c),o=s}}}if(Ve)throw e=Be,Ve=!1,Be=null,e}function Br(e,t){var n=t[ha];void 0===n&&(n=t[ha]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Hr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Kt(t)){case 1:var a=zt;break;case 4:a=Yt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,a){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=ga(l)))return;if(5===(s=i.tag)||6===s){r=o=i;continue e}l=l.parentNode}}r=r.return}Ne((function(){var r=o,a=Ee(n),i=[];e:{var l=Rr.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=vn;break;case"focusout":c="blur",s=vn;break;case"beforeblur":case"afterblur":s=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ln;break;case kr:case Tr:case xr:s=yn;break;case Lr:s=Rn;break;case"scroll":s=fn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=xn}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var p,m=r;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==f&&(null!=(h=Pe(m,f))&&u.push(zr(m,h,p)))),d)break;m=m.return}0<u.length&&(l=new s(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ga(c)&&!c[ma])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ga(c):null)&&(c!==(d=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=mn,h="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,h="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==s?l:ba(s),p=null==c?l:ba(c),(l=new u(h,m+"leave",s,n,a)).target=d,l.relatedTarget=p,h=null,ga(a)===r&&((u=new u(f,m+"enter",c,n,a)).target=p,u.relatedTarget=d,h=u),d=h,s&&c)e:{for(f=c,m=0,p=u=s;p;p=Gr(p))m++;for(p=0,h=f;h;h=Gr(h))p++;for(;0<m-p;)u=Gr(u),m--;for(;0<p-m;)f=Gr(f),p--;for(;m--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==s&&Zr(i,l,s,u,!1),null!==c&&null!==d&&Zr(i,d,c,u,!0)}if("select"===(s=(l=r?ba(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var v=Kn;else if($n(l))if(qn)v=ir;else{v=ar;var y=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=or);switch(v&&(v=v(e,r))?zn(i,v,n,a):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ee(l,"number",l.value)),y=r?ba(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(vr=y,yr=r,gr=null);break;case"focusout":gr=yr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(i,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":br(i,n,a)}var g;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jn?Hn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&jn&&(g=en()):(Xt="value"in(qt=a)?qt.value:qt.textContent,jn=!0)),0<(y=Yr(r,_)).length&&(_=new bn(_,e,null,n,a),i.push({event:_,listeners:y}),g?_.data=g:null!==(g=Un(n))&&(_.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Hn(e,t)?(e=en(),Jt=Xt=qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=g))}Vr(i,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Pe(e,n))&&r.unshift(zr(e,o,a)),null!=(o=Pe(e,t))&&r.push(zr(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(s=Pe(n,o))&&i.unshift(zr(n,s,l)):a||null!=(s=Pe(n,o))&&i.push(zr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function qr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Kr,"")}function Xr(e,t,n){if(t=qr(t),qr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,oa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==oa?function(e){return oa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout((function(){throw e}))}function sa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);jt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ma="__reactContainer$"+da,ha="__reactEvents$"+da,va="__reactListeners$"+da,ya="__reactHandles$"+da;function ga(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function _a(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ea(e){return e[pa]||null}var wa=[],Aa=-1;function Sa(e){return{current:e}}function Ca(e){0>Aa||(e.current=wa[Aa],wa[Aa]=null,Aa--)}function ka(e,t){Aa++,wa[Aa]=e.current,e.current=t}var Ta={},xa=Sa(Ta),La=Sa(!1),Ra=Ta;function Na(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pa(e){return null!=(e=e.childContextTypes)}function Ia(){Ca(La),Ca(xa)}function Oa(e,t,n){if(xa.current!==Ta)throw Error(o(168));ka(xa,t),ka(La,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return F({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Ra=xa.current,ka(xa,e),ka(La,La.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ca(La),Ca(xa),ka(xa,e)):Ca(La),ka(La,n)}var Va=null,Ba=!1,Ha=!1;function Ua(e){null===Va?Va=[e]:Va.push(e)}function ja(){if(!Ha&&null!==Va){Ha=!0;var e=0,t=_t;try{var n=Va;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Va=null,Ba=!1}catch(t){throw null!==Va&&(Va=Va.slice(e+1)),Ge(Je,ja),t}finally{_t=t,Ha=!1}}return null}var Wa=[],$a=0,za=null,Ya=0,Ga=[],Za=0,Qa=null,Ka=1,qa="";function Xa(e,t){Wa[$a++]=Ya,Wa[$a++]=za,za=e,Ya=t}function Ja(e,t,n){Ga[Za++]=Ka,Ga[Za++]=qa,Ga[Za++]=Qa,Qa=e;var r=Ka;e=qa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ka=1<<32-it(t)+a|n<<a|r,qa=o+e}else Ka=1<<o|n<<a|r,qa=e}function eo(e){null!==e.return&&(Xa(e,1),Ja(e,1,0))}function to(e){for(;e===za;)za=Wa[--$a],Wa[$a]=null,Ya=Wa[--$a],Wa[$a]=null;for(;e===Qa;)Qa=Ga[--Za],Ga[Za]=null,qa=Ga[--Za],Ga[Za]=null,Ka=Ga[--Za],Ga[Za]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qa?{id:Ka,overflow:qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return!(!(1&e.mode)||128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!lo(e,t)){if(so(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&lo(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw po(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ca(e.nextSibling)}function mo(){ro=no=null,ao=!1}function ho(e){null===oo?oo=[e]:oo.push(e)}var vo=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===P&&_o(o)===t.type)?((r=a(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case w:return(t=Vc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;go(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?u(e,t,n,r):null;case P:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);go(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);go(t,r)}return null}function h(a,o,l,s){for(var c=null,u=null,d=o,h=o=0,v=null;null!==d&&h<l.length;h++){d.index>h?(v=d,d=null):v=d.sibling;var y=p(a,d,l[h],s);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,h),null===u?c=y:u.sibling=y,u=y,d=v}if(h===l.length)return n(a,d),ao&&Xa(a,h),c;if(null===d){for(;h<l.length;h++)null!==(d=f(a,l[h],s))&&(o=i(d,o,h),null===u?c=d:u.sibling=d,u=d);return ao&&Xa(a,h),c}for(d=r(a,d);h<l.length;h++)null!==(v=m(d,a,h,l[h],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?h:v.key),o=i(v,o,h),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(a,e)})),ao&&Xa(a,h),c}function v(a,l,s,c){var u=M(s);if("function"!=typeof u)throw Error(o(150));if(null==(s=u.call(s)))throw Error(o(151));for(var d=u=null,h=l,v=l=0,y=null,g=s.next();null!==h&&!g.done;v++,g=s.next()){h.index>v?(y=h,h=null):y=h.sibling;var _=p(a,h,g.value,c);if(null===_){null===h&&(h=y);break}e&&h&&null===_.alternate&&t(a,h),l=i(_,l,v),null===d?u=_:d.sibling=_,d=_,h=y}if(g.done)return n(a,h),ao&&Xa(a,v),u;if(null===h){for(;!g.done;v++,g=s.next())null!==(g=f(a,g.value,c))&&(l=i(g,l,v),null===d?u=g:d.sibling=g,d=g);return ao&&Xa(a,v),u}for(h=r(a,h);!g.done;v++,g=s.next())null!==(g=m(h,a,v,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),l=i(g,l,v),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(a,e)})),ao&&Xa(a,v),u}return function e(r,o,i,s){if("object"==typeof i&&null!==i&&i.type===A&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case E:e:{for(var c=i.key,u=o;null!==u;){if(u.key===c){if((c=i.type)===A){if(7===u.tag){n(r,u.sibling),(o=a(u,i.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===P&&_o(c)===u.type){n(r,u.sibling),(o=a(u,i.props)).ref=yo(r,u,i),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===A?((o=Mc(i.props.children,r.mode,s,i.key)).return=r,r=o):((s=Oc(i.type,i.key,i.props,null,r.mode,s)).ref=yo(r,o,i),s.return=r,r=s)}return l(r);case w:e:{for(u=i.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(i,r.mode,s)).return=r,r=o}return l(r);case P:return e(r,o,(u=i._init)(i._payload),s)}if(te(i))return h(r,o,i,s);if(M(i))return v(r,o,i,s);go(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Fc(i,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var Eo=bo(!0),wo=bo(!1),Ao=Sa(null),So=null,Co=null,ko=null;function To(){ko=Co=So=null}function xo(e){var t=Ao.current;Ca(Ao),e._currentValue=t}function Lo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){So=e,ko=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(_l=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(o(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Po=null;function Io(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ho(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&xs){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Mo(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Mo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var a=e.updateQueue;Do=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?o=c:i.next=c,i=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==o){var d=a.baseState;for(i=0,u=c=s=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,h=l;switch(f=t,p=n,h.tag){case 1:if("function"==typeof(m=h.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=h.payload)?m.call(p,d,f):m))break e;d=F({},d,f);break e;case 2:Do=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,i|=f;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(f=l).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ds|=i,e.lanes=i,e.memoizedState=d}}function $o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var zo={},Yo=Sa(zo),Go=Sa(zo),Zo=Sa(zo);function Qo(e){if(e===zo)throw Error(o(174));return e}function Ko(e,t){switch(ka(Zo,t),ka(Go,e),ka(Yo,zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Yo),ka(Yo,t)}function qo(){Ca(Yo),Ca(Go),Ca(Zo)}function Xo(e){Qo(Zo.current);var t=Qo(Yo.current),n=se(t,e.type);t!==n&&(ka(Go,e),ka(Yo,n))}function Jo(e){Go.current===e&&(Ca(Yo),Ca(Go))}var ei=Sa(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=b.ReactCurrentDispatcher,oi=b.ReactCurrentBatchConfig,ii=0,li=null,si=null,ci=null,ui=!1,di=!1,fi=0,pi=0;function mi(){throw Error(o(321))}function hi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function vi(e,t,n,r,a,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Ji:el,e=n(r,a),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(o(301));i+=1,ci=si=null,t.updateQueue=null,ai.current=tl,e=n(r,a)}while(di)}if(ai.current=Xi,t=null!==si&&null!==si.next,ii=0,ci=si=li=null,ui=!1,t)throw Error(o(300));return e}function yi(){var e=0!==fi;return fi=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?li.memoizedState=ci=e:ci=ci.next=e,ci}function _i(){if(null===si){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=si.next;var t=null===ci?li.memoizedState:ci.next;if(null!==t)ci=t,si=e;else{if(null===e)throw Error(o(310));e={memoizedState:(si=e).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ci?li.memoizedState=ci=e:ci=ci.next=e}return ci}function bi(e,t){return"function"==typeof t?t(e):t}function Ei(e){var t=_i(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=si,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var s=l=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,li.lanes|=d,Ds|=d}u=u.next}while(null!==u&&u!==i);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(_l=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,li.lanes|=i,Ds|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=_i(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(_l=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ai(){}function Si(e,t){var n=li,r=_i(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,_l=!0),r=r.queue,Di(Ti.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Ni(9,ki.bind(null,n,r,a,t),void 0,null),null===Ls)throw Error(o(349));30&ii||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ki(e,t,n,r){t.value=n,t.getSnapshot=r,xi(t)&&Li(e)}function Ti(e,t,n){return n((function(){xi(t)&&Li(e)}))}function xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function Li(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Ri(e){var t=gi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Zi.bind(null,li,e),[t.memoizedState,e]}function Ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return _i().memoizedState}function Ii(e,t,n,r){var a=gi();li.flags|=e,a.memoizedState=Ni(1|t,n,void 0,void 0===r?null:r)}function Oi(e,t,n,r){var a=_i();r=void 0===r?null:r;var o=void 0;if(null!==si){var i=si.memoizedState;if(o=i.destroy,null!==r&&hi(r,i.deps))return void(a.memoizedState=Ni(t,n,o,r))}li.flags|=e,a.memoizedState=Ni(1|t,n,o,r)}function Mi(e,t){return Ii(8390656,8,e,t)}function Di(e,t){return Oi(2048,8,e,t)}function Fi(e,t){return Oi(4,2,e,t)}function Vi(e,t){return Oi(4,4,e,t)}function Bi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hi(e,t,n){return n=null!=n?n.concat([e]):null,Oi(4,4,Bi.bind(null,t,e),n)}function Ui(){}function ji(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wi(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $i(e,t,n){return 21&ii?(lr(n,t)||(n=ht(),li.lanes|=n,Ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_l=!0),e.memoizedState=n)}function zi(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{_t=n,oi.transition=r}}function Yi(){return _i().memoizedState}function Gi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qi(e))Ki(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),qi(n,t,r)}}function Zi(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qi(e))Ki(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var s=t.interleaved;return null===s?(a.next=a,Io(t)):(a.next=s.next,s.next=a),void(t.interleaved=a)}}catch(e){}null!==(n=Oo(e,t,a,r))&&(nc(n,e,r,a=ec()),qi(n,t,r))}}function Qi(e){var t=e.alternate;return e===li||null!==t&&t===li}function Ki(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xi={readContext:No,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Ji={readContext:No,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:Mi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ii(4194308,4,Bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ri,useDebugValue:Ui,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=zi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=li,a=gi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ls)throw Error(o(349));30&ii||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Mi(Ti.bind(null,r,i,e),[e]),r.flags|=2048,Ni(9,ki.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Ls.identifierPrefix;if(ao){var n=qa;t=":"+t+"R"+(n=(Ka&~(1<<32-it(Ka)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:No,useCallback:ji,useContext:No,useEffect:Di,useImperativeHandle:Hi,useInsertionEffect:Fi,useLayoutEffect:Vi,useMemo:Wi,useReducer:Ei,useRef:Pi,useState:function(){return Ei(bi)},useDebugValue:Ui,useDeferredValue:function(e){return $i(_i(),si.memoizedState,e)},useTransition:function(){return[Ei(bi)[0],_i().memoizedState]},useMutableSource:Ai,useSyncExternalStore:Si,useId:Yi,unstable_isNewReconciler:!1},tl={readContext:No,useCallback:ji,useContext:No,useEffect:Di,useImperativeHandle:Hi,useInsertionEffect:Fi,useLayoutEffect:Vi,useMemo:Wi,useReducer:wi,useRef:Pi,useState:function(){return wi(bi)},useDebugValue:Ui,useDeferredValue:function(e){var t=_i();return null===si?t.memoizedState=e:$i(t,si.memoizedState,e)},useTransition:function(){return[wi(bi)[0],_i().memoizedState]},useMutableSource:Ai,useSyncExternalStore:Si,useId:Yi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Bo(r,a);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ho(e,o,a))&&(nc(t,e,a,r),Uo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Bo(r,a);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ho(e,o,a))&&(nc(t,e,a,r),Uo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Bo(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=Ho(e,a,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function ol(e,t,n,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,o))}function il(e,t,n){var r=!1,a=Ta,o=t.contextType;return"object"==typeof o&&null!==o?o=No(o):(a=Pa(t)?Ra:xa.current,o=(r=null!=(r=t.contextTypes))?Na(e,a):Ta),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ll(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function sl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fo(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=No(o):(o=Pa(t)?Ra:xa.current,a.context=Na(e,o)),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rl(e,t,o,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&al.enqueueReplaceState(a,a.state,null),Wo(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fl="function"==typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,zs=r),dl(0,t)},n}function ml(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Ho(n,t,1))),n.lanes|=1),e)}var gl=b.ReactCurrentOwner,_l=!1;function bl(e,t,n,r){t.child=null===e?wo(t,null,n,r):Eo(t,e.child,n,r)}function El(e,t,n,r,a){n=n.render;var o=t.ref;return Ro(t,a),r=vi(e,t,n,r,o,a),n=yi(),null===e||_l?(ao&&n&&eo(t),t.flags|=1,bl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function wl(e,t,n,r,a){if(null===e){var o=n.type;return"function"!=typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Al(e,t,o,r,a))}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)return $l(e,t,a)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function Al(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(_l=!1,t.pendingProps=r=o,!(e.lanes&a))return t.lanes=e.lanes,$l(e,t,a);131072&e.flags&&(_l=!0)}}return kl(e,t,n,r,a)}function Sl(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Is,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ka(Is,Ps),Ps|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Is,Ps),Ps|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ka(Is,Ps),Ps|=r;return bl(e,t,a,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,n,r,a){var o=Pa(n)?Ra:xa.current;return o=Na(t,o),Ro(t,a),n=vi(e,t,n,r,o,a),r=yi(),null===e||_l?(ao&&r&&eo(t),t.flags|=1,bl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function Tl(e,t,n,r,a){if(Pa(n)){var o=!0;Da(t)}else o=!1;if(Ro(t,a),null===t.stateNode)Wl(e,t),il(t,n,r),sl(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=No(c):c=Na(t,c=Pa(n)?Ra:xa.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==c)&&ll(t,i,r,c),Do=!1;var f=t.memoizedState;i.state=f,Wo(t,r,i,a),s=t.memoizedState,l!==r||f!==s||La.current||Do?("function"==typeof u&&(rl(t,n,u,r),s=t.memoizedState),(l=Do||ol(t,n,l,r,f,s,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=c,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Vo(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:nl(t.type,l),i.props=c,d=t.pendingProps,f=i.context,"object"==typeof(s=n.contextType)&&null!==s?s=No(s):s=Na(t,s=Pa(n)?Ra:xa.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||f!==s)&&ll(t,i,r,s),Do=!1,f=t.memoizedState,i.state=f,Wo(t,r,i,a);var m=t.memoizedState;l!==d||f!==m||La.current||Do?("function"==typeof p&&(rl(t,n,p,r),m=t.memoizedState),(c=Do||ol(t,n,c,r,f,m,s)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return xl(e,t,n,r,o,a)}function xl(e,t,n,r,a,o){Cl(e,t);var i=!!(128&t.flags);if(!r&&!i)return a&&Fa(t,n,!1),$l(e,t,o);r=t.stateNode,gl.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,l,o)):bl(e,t,l,o),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Ko(e,t.containerInfo)}function Rl(e,t,n,r,a){return mo(),ho(a),t.flags|=256,bl(e,t,n,r),t.child}var Nl,Pl,Il,Ol,Ml={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var r,a=t.pendingProps,i=ei.current,l=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ka(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,l?(a=t.mode,l=t.child,s={mode:"hidden",children:s},1&a||null===l?l=Dc(s,a,0,null):(l.childLanes=0,l.pendingProps=s),e=Mc(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dl(n),t.memoizedState=Ml,e):Vl(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,Bl(e,t,l,r=ul(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),(i=Mc(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&Eo(t,e.child,null,l),t.child.memoizedState=Dl(l),t.memoizedState=Ml,i);if(!(1&t.mode))return Bl(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,Bl(e,t,l,r=ul(i=Error(o(419)),r,void 0))}if(s=!!(l&e.childLanes),_l||s){if(null!==(r=Ls)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=a&(r.suspendedLanes|l)?0:a)&&a!==i.retryLane&&(i.retryLane=a,Mo(e,a),nc(r,e,a,-1))}return hc(),Bl(e,t,l,r=ul(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[Za++]=Ka,Ga[Za++]=qa,Ga[Za++]=Qa,Ka=e.id,qa=e.overflow,Qa=t),t=Vl(t,r.children),t.flags|=4096,t)}(e,t,s,a,r,i,n);if(l){l=a.fallback,s=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&s||t.child===i?(a=Ic(i,c)).subtreeFlags=14680064&i.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null),null!==r?l=Ic(r,l):(l=Mc(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,s=null===(s=e.child.memoizedState)?Dl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Ml,a}return e=(l=e.child).sibling,a=Ic(l,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Vl(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bl(e,t,n,r){return null!==r&&ho(r),Eo(t,e.child,null,n),(e=Vl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Lo(e.return,t,n)}function Ul(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function jl(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(bl(e,t,r.children,n),2&(r=ei.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hl(e,n,t);else if(19===e.tag)Hl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ka(ei,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ul(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ul(t,!0,n,null,o);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Wl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return Pa(t.type)&&Ia(),Yl(t),null;case 3:return r=t.stateNode,qo(),Ca(La),Ca(xa),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Pl(e,t),Yl(t),null;case 5:Jo(t);var a=Qo(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Il(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Yl(t),null}if(e=Qo(Yo.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[pa]=i,e=!!(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var s in ge(n,i),a=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":Y(r),J(r,i,!0);break;case"textarea":Y(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fa]=t,e[pa]=r,Nl(e,t,!1,!1),t.stateNode=e;e:{switch(s=_e(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Br(Mr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":K(e,r),a=Q(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in ge(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ve(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Br("scroll",e):null!=u&&_(e,i,u,s))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Zo.current),Qo(Yo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Yl(t),null;case 13:if(Ca(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&1&t.mode&&!(128&t.flags))po(),mo(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else mo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==oo&&(ic(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Os&&(Os=3):hc())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return qo(),Pl(e,t),null===e&&jr(t.stateNode.containerInfo),Yl(t),null;case 10:return xo(t.type._context),Yl(t),null;case 19:if(Ca(ei),null===(i=t.memoizedState))return Yl(t),null;if(r=!!(128&t.flags),null===(s=i.rendering))if(r)zl(i,!1);else{if(0!==Os||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ti(e))){for(t.flags|=128,zl(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ka(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&qe()>js&&(t.flags|=128,r=!0,zl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!ao)return Yl(t),null}else 2*qe()-i.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,zl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,n=ei.current,ka(ei,r?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ps)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zl(e,t){switch(to(t),t.tag){case 1:return Pa(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qo(),Ca(La),Ca(xa),ri(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(Ca(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ei),null;case 4:return qo(),null;case 10:return xo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Nl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},Il=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qo(Yo.current);var o,i=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),i=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ge(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),i||s===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ol=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Kl=!1,ql="function"==typeof WeakSet?WeakSet:Set,Xl=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Sc(e,t,n)}else n.current=null}function es(e,t,n){try{n()}catch(n){Sc(e,t,n)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&es(t,n,o)}a=a.next}while(a!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ha],delete t[va],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var us=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(e){}switch(n.tag){case 5:Kl||Jl(n,t);case 6:var r=us,a=ds;us=null,fs(e,t,n),ds=a,null!==(us=r)&&(ds?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ds?(e=us,n=n.stateNode,8===e.nodeType?sa(e.parentNode,n):1===e.nodeType&&sa(e,n),jt(e)):sa(us,n.stateNode));break;case 4:r=us,a=ds,us=n.stateNode.containerInfo,ds=!0,fs(e,t,n),us=r,ds=a;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(2&o||4&o)&&es(n,t,i),a=a.next}while(a!==r)}fs(e,t,n);break;case 1:if(!Kl&&(Jl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Sc(n,t,e)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Kl=(r=Kl)||null!==n.memoizedState,fs(e,t,n),Kl=r):fs(e,t,n);break;default:fs(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ql),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ds=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===us)throw Error(o(160));ps(i,l,a),us=null,ds=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){Sc(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(t){Sc(e,e.return,t)}try{ns(5,e,e.return)}catch(t){Sc(e,e.return,t)}}break;case 1:hs(t,e),ys(e),512&r&&null!==n&&Jl(n,n.return);break;case 5:if(hs(t,e),ys(e),512&r&&null!==n&&Jl(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(t){Sc(e,e.return,t)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&q(a,i),_e(s,l);var u=_e(s,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ve(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):_(a,d,f,u)}switch(s){case"input":X(a,i);break;case"textarea":oe(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(t){Sc(e,e.return,t)}}break;case 6:if(hs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(t){Sc(e,e.return,t)}}break;case 3:if(hs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){Sc(e,e.return,t)}break;case 4:default:hs(t,e),ys(e);break;case 13:hs(t,e),ys(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Us=qe())),4&r&&ms(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(u=Kl)||d,hs(t,e),Kl=u):hs(t,e),ys(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Xl=e,d=e.child;null!==d;){for(f=Xl=d;null!==Xl;){switch(m=(p=Xl).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Jl(p,p.return);var h=p.stateNode;if("function"==typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(e){Sc(r,n,e)}}break;case 5:Jl(p,p.return);break;case 22:if(null!==p.memoizedState){Es(f);continue}}null!==m?(m.return=p,Xl=m):Es(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,u?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,s.style.display=he("display",l))}catch(t){Sc(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Sc(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hs(t,e),ys(e),4&r&&ms(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(is(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cs(e,ls(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ss(e,ls(e),i);break;default:throw Error(o(161))}}catch(t){Sc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xl=e,_s(e,t,n)}function _s(e,t,n){for(var r=!!(1&e.mode);null!==Xl;){var a=Xl,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Ql;if(!i){var l=a.alternate,s=null!==l&&null!==l.memoizedState||Kl;l=Ql;var c=Kl;if(Ql=i,(Kl=s)&&!c)for(Xl=a;null!==Xl;)s=(i=Xl).child,22===i.tag&&null!==i.memoizedState?ws(a):null!==s?(s.return=i,Xl=s):ws(a);for(;null!==o;)Xl=o,_s(o,t,n),o=o.sibling;Xl=a,Ql=l,Kl=c}bs(e)}else 8772&a.subtreeFlags&&null!==o?(o.return=a,Xl=o):bs(e)}}function bs(e){for(;null!==Xl;){var t=Xl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Kl||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Kl)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&$o(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$o(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(o(163))}Kl||512&t.flags&&as(t)}catch(e){Sc(t,t.return,e)}}if(t===e){Xl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xl=n;break}Xl=t.return}}function Es(e){for(;null!==Xl;){var t=Xl;if(t===e){Xl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xl=n;break}Xl=t.return}}function ws(e){for(;null!==Xl;){var t=Xl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(e){Sc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(e){Sc(t,a,e)}}var o=t.return;try{as(t)}catch(e){Sc(t,o,e)}break;case 5:var i=t.return;try{as(t)}catch(e){Sc(t,i,e)}}}catch(e){Sc(t,t.return,e)}if(t===e){Xl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Xl=l;break}Xl=t.return}}var As,Ss=Math.ceil,Cs=b.ReactCurrentDispatcher,ks=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,xs=0,Ls=null,Rs=null,Ns=0,Ps=0,Is=Sa(0),Os=0,Ms=null,Ds=0,Fs=0,Vs=0,Bs=null,Hs=null,Us=0,js=1/0,Ws=null,$s=!1,zs=null,Ys=null,Gs=!1,Zs=null,Qs=0,Ks=0,qs=null,Xs=-1,Js=0;function ec(){return 6&xs?qe():-1!==Xs?Xs:Xs=qe()}function tc(e){return 1&e.mode?2&xs&&0!==Ns?Ns&-Ns:null!==vo.transition?(0===Js&&(Js=ht()),Js):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nc(e,t,n,r){if(50<Ks)throw Ks=0,qs=null,Error(o(185));yt(e,n,r),2&xs&&e===Ls||(e===Ls&&(!(2&xs)&&(Fs|=n),4===Os&&lc(e,Ns)),rc(e,r),1===n&&0===xs&&!(1&t.mode)&&(js=qe()+500,Ba&&ja()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),l=1<<i,s=a[i];-1===s?l&n&&!(l&r)||(a[i]=pt(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=ft(e,e===Ls?Ns:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ba=!0,Ua(e)}(sc.bind(null,e)):Ua(sc.bind(null,e)),ia((function(){!(6&xs)&&ja()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xs=-1,Js=0,6&xs)throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ls?Ns:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=vc(e,r);else{t=r;var a=xs;xs|=2;var i=mc();for(Ls===e&&Ns===t||(Ws=null,js=qe()+500,fc(e,t));;)try{gc();break}catch(t){pc(e,t)}To(),Cs.current=i,xs=a,null!==Rs?t=0:(Ls=null,Ns=0,t=Os)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=oc(e,a))),1===t)throw n=Ms,fc(e,0),lc(e,r),rc(e,qe()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=vc(e,r),2===t&&(i=mt(e),0!==i&&(r=i,t=oc(e,i))),1!==t)))throw n=Ms,fc(e,0),lc(e,r),rc(e,qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Hs,Ws);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Us+500-qe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Ec.bind(null,e,Hs,Ws),t);break}Ec(e,Hs,Ws);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ra(Ec.bind(null,e,Hs,Ws),r);break}Ec(e,Hs,Ws);break;default:throw Error(o(329))}}}return rc(e,qe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Hs,Hs=n,null!==t&&ic(t)),e}function ic(e){null===Hs?Hs=e:Hs.push.apply(Hs,e)}function lc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(6&xs)throw Error(o(327));wc();var t=ft(e,0);if(!(1&t))return rc(e,qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,fc(e,0),lc(e,t),rc(e,qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Hs,Ws),rc(e,qe()),null}function cc(e,t){var n=xs;xs|=1;try{return e(t)}finally{0===(xs=n)&&(js=qe()+500,Ba&&ja())}}function uc(e){null!==Zs&&0===Zs.tag&&!(6&xs)&&wc();var t=xs;xs|=1;var n=Ts.transition,r=_t;try{if(Ts.transition=null,_t=1,e)return e()}finally{_t=r,Ts.transition=n,!(6&(xs=t))&&ja()}}function dc(){Ps=Is.current,Ca(Is)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ia();break;case 3:qo(),Ca(La),Ca(xa),ri();break;case 5:Jo(r);break;case 4:qo();break;case 13:case 19:Ca(ei);break;case 10:xo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ls=e,Rs=e=Ic(e.current,null),Ns=Ps=t,Os=0,Ms=null,Vs=Fs=Ds=0,Hs=Bs=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Po=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(To(),ai.current=Xi,ui){for(var r=li.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(ii=0,ci=si=li=null,di=!1,fi=0,ks.current=null,null===n||null===n.return){Os=1,Ms=t,Rs=null;break}e:{var i=e,l=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=s,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vl(l);if(null!==m){m.flags&=-257,yl(m,l,s,0,t),1&m.mode&&hl(i,u,t),c=u;var h=(t=m).updateQueue;if(null===h){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}if(!(1&t)){hl(i,u,t),hc();break e}c=Error(o(426))}else if(ao&&1&s.mode){var y=vl(l);if(null!==y){!(65536&y.flags)&&(y.flags|=256),yl(y,l,s,0,t),ho(cl(c,s));break e}}i=c=cl(c,s),4!==Os&&(Os=2),null===Bs?Bs=[i]:Bs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,jo(i,pl(0,c,t));break e;case 1:s=c;var g=i.type,_=i.stateNode;if(!(128&i.flags||"function"!=typeof g.getDerivedStateFromError&&(null===_||"function"!=typeof _.componentDidCatch||null!==Ys&&Ys.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t,jo(i,ml(i,s,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(e){t=e,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function mc(){var e=Cs.current;return Cs.current=Xi,null===e?Xi:e}function hc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ls||!(268435455&Ds)&&!(268435455&Fs)||lc(Ls,Ns)}function vc(e,t){var n=xs;xs|=2;var r=mc();for(Ls===e&&Ns===t||(Ws=null,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}if(To(),xs=n,Cs.current=r,null!==Rs)throw Error(o(261));return Ls=null,Ns=0,Os}function yc(){for(;null!==Rs;)_c(Rs)}function gc(){for(;null!==Rs&&!Qe();)_c(Rs)}function _c(e){var t=As(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Rs=t,ks.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Zl(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Os=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gl(n,t,Ps)))return void(Rs=n);if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Os&&(Os=5)}function Ec(e,t,n){var r=_t,a=Ts.transition;try{Ts.transition=null,_t=1,function(e,t,n,r){do{wc()}while(null!==Zs);if(6&xs)throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Ls&&(Rs=Ls=null,Ns=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gs||(Gs=!0,Lc(tt,(function(){return wc(),null}))),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Ts.transition,Ts.transition=null;var l=_t;_t=1;var s=xs;xs|=4,ks.current=null,function(e,t){if(ea=$t,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==a&&3!==f.nodeType||(s=l+a),f!==i||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=l),p===i&&++d===r&&(c=l),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},$t=!1,Xl=t;null!==Xl;)if(e=(t=Xl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xl=e;else for(;null!==Xl;){t=Xl;try{var h=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var v=h.memoizedProps,y=h.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:nl(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(e){Sc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xl=e;break}Xl=t.return}h=ts,ts=!1}(e,n),vs(n,e),mr(ta),$t=!!ea,ta=ea=null,e.current=n,gs(n,e,a),Ke(),xs=s,_t=l,Ts.transition=i}else e.current=n;if(Gs&&(Gs=!1,Zs=e,Qs=a),i=e.pendingLanes,0===i&&(Ys=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if($s)throw $s=!1,e=zs,zs=null,e;!!(1&Qs)&&0!==e.tag&&wc(),i=e.pendingLanes,1&i?e===qs?Ks++:(Ks=0,qs=e):Ks=0,ja()}(e,t,n,r)}finally{Ts.transition=a,_t=r}return null}function wc(){if(null!==Zs){var e=bt(Qs),t=Ts.transition,n=_t;try{if(Ts.transition=null,_t=16>e?16:e,null===Zs)var r=!1;else{if(e=Zs,Zs=null,Qs=0,6&xs)throw Error(o(331));var a=xs;for(xs|=4,Xl=e.current;null!==Xl;){var i=Xl,l=i.child;if(16&Xl.flags){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Xl=u;null!==Xl;){var d=Xl;switch(d.tag){case 0:case 11:case 15:ns(8,d,i)}var f=d.child;if(null!==f)f.return=d,Xl=f;else for(;null!==Xl;){var p=(d=Xl).sibling,m=d.return;if(os(d),d===u){Xl=null;break}if(null!==p){p.return=m,Xl=p;break}Xl=m}}}var h=i.alternate;if(null!==h){var v=h.child;if(null!==v){h.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Xl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Xl=l;else e:for(;null!==Xl;){if(2048&(i=Xl).flags)switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,Xl=g;break e}Xl=i.return}}var _=e.current;for(Xl=_;null!==Xl;){var b=(l=Xl).child;if(2064&l.subtreeFlags&&null!==b)b.return=l,Xl=b;else e:for(l=_;null!==Xl;){if(2048&(s=Xl).flags)try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(e){Sc(s,s.return,e)}if(s===l){Xl=null;break e}var E=s.sibling;if(null!==E){E.return=s.return,Xl=E;break e}Xl=s.return}}if(xs=a,ja(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(e){}r=!0}return r}finally{_t=n,Ts.transition=t}}return!1}function Ac(e,t,n){e=Ho(e,t=pl(0,t=cl(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){t=Ho(t,e=ml(t,e=cl(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(Ns&n)===n&&(4===Os||3===Os&&(130023424&Ns)===Ns&&500>qe()-Us?fc(e,0):Vs|=n),rc(e,t)}function kc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Lc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,i){var l=2;if(r=e,"function"==typeof e)Pc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case A:return Mc(n.children,a,i,t);case S:l=8,a|=8;break;case C:return(e=Nc(12,n,t,2|a)).elementType=C,e.lanes=i,e;case L:return(e=Nc(13,n,t,a)).elementType=L,e.lanes=i,e;case R:return(e=Nc(19,n,t,a)).elementType=R,e.lanes=i,e;case I:return Dc(n,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:l=10;break e;case T:l=9;break e;case x:l=11;break e;case N:l=14;break e;case P:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,a,o,i,l,s){return e=new Bc(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Uc(e){if(!e)return Ta;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Ma(e,n,t)}return t}function jc(e,t,n,r,a,o,i,l,s){return(e=Hc(n,r,!0,e,0,o,0,l,s)).context=Uc(null),n=e.current,(o=Bo(r=ec(),a=tc(n))).callback=null!=t?t:null,Ho(n,o,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,o=ec(),i=tc(a);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ho(a,t,i))&&(nc(e,a,i,o),Uo(e,a,i)),i}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}As=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||La.current)_l=!0;else{if(!(e.lanes&n||128&t.flags))return _l=!1,function(e,t,n){switch(t.tag){case 3:Ll(t),mo();break;case 5:Xo(t);break;case 1:Pa(t.type)&&Da(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ka(Ao,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ka(ei,1&ei.current),t.flags|=128,null):n&t.child.childLanes?Fl(e,t,n):(ka(ei,1&ei.current),null!==(e=$l(e,t,n))?e.sibling:null);ka(ei,1&ei.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return jl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return $l(e,t,n)}(e,t,n);_l=!!(131072&e.flags)}else _l=!1,ao&&1048576&t.flags&&Ja(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var a=Na(t,xa.current);Ro(t,n),a=vi(null,t,r,e,a,n);var i=yi();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,Da(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fo(t),a.updater=al,t.stateNode=a,a._reactInternals=t,sl(t,r,e,n),t=xl(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),bl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return Pc(e)?1:0;if(null!=e){if((e=e.$$typeof)===x)return 11;if(e===N)return 14}return 2}(r),e=nl(r,e),a){case 0:t=kl(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=El(null,t,r,e,n);break e;case 14:t=wl(null,t,r,nl(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,kl(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 1:return r=t.type,a=t.pendingProps,Tl(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 3:e:{if(Ll(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Vo(e,t),Wo(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rl(e,t,r,n,a=cl(Error(o(423)),t));break e}if(r!==a){t=Rl(e,t,r,n,a=cl(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=$l(e,t,n);break e}bl(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),Cl(e,t),bl(e,t,l,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fl(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):bl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,El(e,t,r,a=t.elementType===r?a:nl(r,a),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ka(Ao,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!La.current){t=$l(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Bo(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Lo(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Lo(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ro(t,n),r=r(a=No(a)),t.flags|=1,bl(e,t,r,n),t.child;case 14:return a=nl(r=t.type,t.pendingProps),wl(e,t,r,a=nl(r.type,a),n);case 15:return Al(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:nl(r,a),Wl(e,t),t.tag=1,Pa(r)?(e=!0,Da(t)):e=!1,Ro(t,n),il(t,r,a),sl(t,r,a,n),xl(null,t,r,!0,e,n);case 19:return jl(e,t,n);case 22:return Sl(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"==typeof a){var l=a;a=function(){var e=$c(i);l.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"==typeof r){var o=r;r=function(){var e=$c(i);o.call(e)}}var i=jc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ma]=i.current,jr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var l=r;r=function(){var e=$c(s);l.call(e)}}var s=Hc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[ma]=s.current,jr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,s,n,r)})),s}(n,t,e,a,r);return $c(i)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[ma]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,qe()),!(6&xs)&&(js=qe()+500,ja()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},St=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ea(r);if(!a)throw Error(o(90));G(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Le=uc;var eu={usingClientEntryPoint:!1,Events:[_a,ba,Ea,ke,Te,cc]},tu={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,r="",a=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,jr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!qc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,a,0,i,l),e[ma]=t.current,jr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!qc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},7740:(e,t,n)=>{"use strict";var r=n(1271),a=n(1664),o=n(2117),i=n(2816),l=n(3302),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?o?function(e,t,n){if(i(e),t=l(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(i(e),t=l(t),i(n),a)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7783:(e,t,n)=>{"use strict";var r=n(1186),a=n(2954),o=r.WeakMap;e.exports=a(o)&&/native code/.test(String(o))},7863:(e,t,n)=>{"use strict";var r=n(2105),a=n(9448),o=n(75),i=n(7404),l=n(7098),s=n(4627),c=n(4476),u=r.aTypedArray,d=r.exportTypedArrayMethod,f=s("".slice);d("fill",(function(e){var t=arguments.length;u(this);var n="Big"===f(i(this),0,3)?o(e):+e;return l(a,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},7896:(e,t,n)=>{"use strict";var r=n(4767),a=n(2816),o=n(9755);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return a(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},8003:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8085:(e,t,n)=>{"use strict";var r=n(7098),a=n(2954),o=n(2845),i=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&a(n=e.toString)&&!o(l=r(n,e)))return l;if(a(n=e.valueOf)&&!o(l=r(n,e)))return l;if("string"!==t&&a(n=e.toString)&&!o(l=r(n,e)))return l;throw new i("Can't convert object to primitive value")}},8097:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8106:(e,t,n)=>{"use strict";var r=n(7098),a=n(2816),o=n(1463);e.exports=function(e,t,n){var i,l;a(e);try{if(!(i=o(e,"return"))){if("throw"===t)throw n;return n}i=r(i,e)}catch(e){l=!0,i=e}if("throw"===t)throw n;if(l)throw i;return a(i),n}},8108:(e,t,n)=>{"use strict";var r=n(6952),a=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new a("Incorrect invocation")}},8128:e=>{"use strict";e.exports=!1},8163:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585),o=n(335),i=n(9244),l=n(6786),s=n(6830),c=a.Set,u=a.add,d=a.has;e.exports=function(e){var t=r(this),n=i(e),a=new c;return o(t)>n.size?s(n.getIterator(),(function(e){d(t,e)&&u(a,e)})):l(t,(function(e){n.includes(e)&&u(a,e)})),a}},8324:(e,t,n)=>{"use strict";var r=n(188),a=n(2954),o=n(5090),i=n(8682),l=n(1974),s=i("IE_PROTO"),c=Object,u=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=o(e);if(r(t,s))return t[s];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},8480:(e,t,n)=>{"use strict";var r=n(7098),a=n(3727),o=n(2816),i=n(4692),l=n(9777),s=n(7538),c=l((function(){var e=this.iterator,t=o(r(this.next,e));if(!(this.done=!!t.done))return s(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),a(e),new c(i(this),{mapper:e})}},8547:(e,t,n)=>{"use strict";var r=n(1455),a=n(335),o=n(6786),i=n(9244);e.exports=function(e){var t=r(this),n=i(e);return!(a(t)>n.size)&&!1!==o(t,(function(e){if(!n.includes(e))return!1}),!0)}},8572:(e,t,n)=>{"use strict";n(7293),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7588)},8578:(e,t,n)=>{"use strict";var r=n(359),a=n(4627),o=n(9376),i=n(8003),l=URLSearchParams,s=l.prototype,c=a(s.append),u=a(s.delete),d=a(s.forEach),f=a([].push),p=new l("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&r(s,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=[];d(this,(function(e,t){f(r,{key:t,value:e})})),i(t,1);for(var a,l=o(e),s=o(n),p=0,m=0,h=!1,v=r.length;p<v;)a=r[p++],h||a.key===l?(h=!0,u(this,a.key)):m++;for(;m<v;)(a=r[m++]).key===l&&a.value===s||c(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},8682:(e,t,n)=>{"use strict";var r=n(9960),a=n(3139),o=r("keys");e.exports=function(e){return o[e]||(o[e]=a(e))}},8717:(e,t,n)=>{"use strict";e.exports=n(4268)},8852:(e,t,n)=>{"use strict";var r=n(1455),a=n(2585).has,o=n(335),i=n(9244),l=n(6786),s=n(6830),c=n(8106);e.exports=function(e){var t=r(this),n=i(e);if(o(t)<=n.size)return!1!==l(t,(function(e){if(n.includes(e))return!1}),!0);var u=n.getIterator();return!1!==s(u,(function(e){if(a(t,e))return c(u,"normal",!1)}))}},8890:(e,t,n)=>{"use strict";var r=n(1271),a=n(7740),o=n(3033);e.exports=r?function(e,t,n){return a.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},8898:(e,t,n)=>{"use strict";var r=n(1186),a=n(6905),o=n(4476),i=n(3727),l=n(9441),s=n(2105),c=n(3881),u=n(2535),d=n(4307),f=n(6923),p=s.aTypedArray,m=s.exportTypedArrayMethod,h=r.Uint16Array,v=h&&a(h.prototype.sort),y=!(!v||o((function(){v(new h(2),null)}))&&o((function(){v(new h(2),{})}))),g=!!v&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(f)return f<602;var e,t,n=new h(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));m("sort",(function(e){return void 0!==e&&i(e),g?v(this,e):l(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||y)},8956:(e,t,n)=>{"use strict";var r=n(5651),a=n(1186),o=n(2078),i=n(3033),l=n(7740).f,s=n(188),c=n(8108),u=n(3220),d=n(3808),f=n(9177),p=n(4658),m=n(1271),h=n(8128),v="DOMException",y=o("Error"),g=o(v),_=function(){c(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new g(t,n),a=new y(t);return a.name=v,l(r,"stack",i(1,p(a.stack,1))),u(r,this,_),r},b=_.prototype=g.prototype,E="stack"in new y(v),w="stack"in new g(1,2),A=g&&m&&Object.getOwnPropertyDescriptor(a,v),S=!(!A||A.writable&&A.configurable),C=E&&!S&&!w;r({global:!0,constructor:!0,forced:h||C},{DOMException:C?_:g});var k=o(v),T=k.prototype;if(T.constructor!==k)for(var x in h||l(T,"constructor",i(1,k)),f)if(s(f,x)){var L=f[x],R=L.s;s(k,R)||l(k,R,i(6,L.c))}},9020:(e,t,n)=>{"use strict";var r=n(5651),a=n(4515);a&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return a(this,arguments.length?arguments[0]:void 0,!1)}})},9119:(e,t,n)=>{"use strict";var r={};r[n(6216)("toStringTag")]="z",e.exports="[object z]"===String(r)},9139:(e,t,n)=>{"use strict";var r=n(5651),a=n(1428).findLast,o=n(6780);r({target:"Array",proto:!0},{findLast:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},9171:(e,t,n)=>{"use strict";var r=n(4024),a=n(7740);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),a.f(e,t,n)}},9173:(e,t,n)=>{"use strict";var r=n(1186),a=n(4476),o=n(4307),i=n(9373),l=n(137),s=n(1301),c=r.structuredClone;e.exports=!!c&&!a((function(){if(l&&o>92||s&&o>94||i&&o>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},9177:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},9224:(e,t,n)=>{"use strict";var r=n(5651),a=n(7098),o=n(2816),i=n(4692),l=n(3002),s=n(1305),c=n(9777),u=n(8106),d=n(8128),f=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=o(a(this.next,e));return(this.done=!!t.done)?void 0:t.value}));r({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){o(this);var t=s(l(+e));return new f(i(this),{remaining:t})}})},9233:(e,t,n)=>{"use strict";var r=n(9546),a=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):o(n,t)}},9244:(e,t,n)=>{"use strict";var r=n(3727),a=n(2816),o=n(7098),i=n(9546),l=n(4692),s="Invalid size",c=RangeError,u=TypeError,d=Math.max,f=function(e,t,n,r){this.set=e,this.size=t,this.has=n,this.keys=r};f.prototype={getIterator:function(){return l(a(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){a(e);var t=+e.size;if(t!=t)throw new u(s);var n=i(t);if(n<0)throw new c(s);return new f(e,d(n,0),r(e.has),r(e.keys))}},9286:function(e,t,n){n(2243),n(4464),n(6881),n(7065),e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,a=36e5,o=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=31536e6,s=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:l,months:s,days:o,hours:a,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof g},f=function(e,t,n){return new g(e,n,t.$l)},p=function(e){return t.p(e)+"s"},m=function(e){return e<0},h=function(e){return m(e)?Math.ceil(e):Math.floor(e)},v=function(e){return Math.abs(e)},y=function(e,t){return e?m(e)?{negative:!0,format:""+v(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},g=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return f(e*u[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var a=e.match(c);if(a){var o=a.slice(2).map((function(e){return Number(e)}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var v=m.prototype;return v.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*u[n]}),0)},v.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=h(e/l),e%=l,this.$d.months=h(e/s),e%=s,this.$d.days=h(e/o),e%=o,this.$d.hours=h(e/a),e%=a,this.$d.minutes=h(e/r),e%=r,this.$d.seconds=h(e/n),e%=n,this.$d.milliseconds=e},v.toISOString=function(){var e=y(this.$d.years,"Y"),t=y(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=y(n,"D"),a=y(this.$d.hours,"H"),o=y(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var l=y(i,"S"),s=e.negative||t.negative||r.negative||a.negative||o.negative||l.negative,c=a.format||o.format||l.format?"T":"",u=(s?"-":"")+"P"+e.format+t.format+r.format+c+a.format+o.format+l.format;return"P"===u||"-P"===u?"P0D":u},v.toJSON=function(){return this.toISOString()},v.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},v.as=function(e){return this.$ms/u[p(e)]},v.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?h(t/u[n]):this.$d[n],0===t?0:t},v.add=function(e,t,n){var r;return r=t?e*u[p(t)]:d(e)?e.$ms:f(e,this).$ms,f(this.$ms+r*(n?-1:1),this)},v.subtract=function(e,t){return this.add(e,t,!0)},v.locale=function(e){var t=this.clone();return t.$l=e,t},v.clone=function(){return f(this.$ms,this)},v.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},m}();return function(n,r,a){e=a,t=a().$utils(),a.duration=function(e,t){var n=a.locale();return f(e,{$l:n},t)},a.isDuration=d;var o=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)}}}()},9367:(e,t,n)=>{"use strict";var r=n(1462);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9373:(e,t,n)=>{"use strict";var r=n(137),a=n(1301);e.exports=!r&&!a&&"object"==typeof window&&"object"==typeof document},9376:(e,t,n)=>{"use strict";var r=n(7404),a=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return a(e)}},9404:(e,t,n)=>{"use strict";e.exports=n(3197)},9420:(e,t,n)=>{"use strict";var r=n(1186),a=n(1271),o=n(9171),i=n(4982),l=n(4476),s=r.RegExp,c=s.prototype;a&&l((function(){var e=!0;try{s(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",a=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(o.hasIndices="d"),o)a(i,o[i]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&o(c,"flags",{configurable:!0,get:i})},9436:(e,t,n)=>{"use strict";var r=n(7098),a=n(2845),o=n(1578),i=n(1463),l=n(8085),s=n(6216),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var n,s=i(e,u);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!a(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},9441:(e,t,n)=>{"use strict";var r=n(2626),a=Math.floor,o=function(e,t){var n=e.length,s=a(n/2);return n<8?i(e,t):l(e,o(r(e,0,s),t),o(r(e,s),t),t)},i=function(e,t){for(var n,r,a=e.length,o=1;o<a;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},l=function(e,t,n,r){for(var a=t.length,o=n.length,i=0,l=0;i<a||l<o;)e[i+l]=i<a&&l<o?r(t[i],n[l])<=0?t[i++]:n[l++]:i<a?t[i++]:n[l++];return e};e.exports=o},9448:(e,t,n)=>{"use strict";var r=n(5090),a=n(9233),o=n(1279);e.exports=function(e){for(var t=r(this),n=o(t),i=arguments.length,l=a(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,c=void 0===s?n:a(s,n);c>l;)t[l++]=e;return t}},9493:(e,t,n)=>{"use strict";var r=n(5651),a=n(7098),o=n(3727),i=n(2816),l=n(4692),s=n(9777),c=n(7538),u=n(8128),d=s((function(){for(var e,t,n=this.iterator,r=this.predicate,o=this.next;;){if(e=i(a(o,n)),this.done=!!e.done)return;if(t=e.value,c(n,r,[t,this.counter++],!0))return t}}));r({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return i(this),o(e),new d(l(this),{predicate:e})}})},9546:(e,t,n)=>{"use strict";var r=n(3176);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},9679:(e,t,n)=>{"use strict";n(6399),n(6814)},9712:(e,t,n)=>{n(9420),n(1433),n(1e3),n(9020),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446);var r="undefined"!=typeof Element,a="function"==typeof Map,o="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,s,c,u;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(s=n;0!=s--;)if(!l(e[s],t[s]))return!1;return!0}if(a&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!t.has(s.value[0]))return!1;for(u=e.entries();!(s=u.next()).done;)if(!l(s.value[1],t.get(s.value[0])))return!1;return!0}if(o&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(s=u.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(s=n;0!=s--;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(c=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(s=n;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,c[s]))return!1;if(r&&e instanceof Element)return!1;for(s=n;0!=s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!l(e[c[s]],t[c[s]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return l(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},9755:(e,t,n)=>{"use strict";var r=n(2954),a=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new o("Can't set "+a(e)+" as a prototype")}},9777:(e,t,n)=>{"use strict";var r=n(7098),a=n(3403),o=n(8890),i=n(3618),l=n(6216),s=n(1364),c=n(1463),u=n(6268).IteratorPrototype,d=n(1278),f=n(8106),p=l("toStringTag"),m="IteratorHelper",h="WrapForValidIterator",v=s.set,y=function(e){var t=s.getterFor(e?h:m);return i(a(u),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var r=n.done?void 0:n.nextHandler();return d(r,n.done)}catch(e){throw n.done=!0,e}},return:function(){var n=t(this),a=n.iterator;if(n.done=!0,e){var o=c(a,"return");return o?r(o,a):d(void 0,!0)}if(n.inner)try{f(n.inner.iterator,"normal")}catch(e){return f(a,"throw",e)}return f(a,"normal"),d(void 0,!0)}})},g=y(!0),_=y(!1);o(_,p,"Iterator Helper"),e.exports=function(e,t){var n=function(n,r){r?(r.iterator=n.iterator,r.next=n.next):r=n,r.type=t?h:m,r.nextHandler=e,r.counter=0,r.done=!1,v(this,r)};return n.prototype=t?g:_,n}},9845:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.r(t),n.d(t,{default:()=>r})},9857:(e,t,n)=>{"use strict";var r=n(359),a=n(4627),o=n(9376),i=n(8003),l=URLSearchParams,s=l.prototype,c=a(s.getAll),u=a(s.has),d=new l("a=1");!d.has("a",2)&&d.has("a",void 0)||r(s,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=c(this,e);i(t,1);for(var a=o(n),l=0;l<r.length;)if(r[l++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},9960:(e,t,n)=>{"use strict";var r=n(8128),a=n(6656);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},9972:(e,t,n)=>{"use strict";var r=n(1271),a=n(4627),o=n(9171),i=URLSearchParams.prototype,l=a(i.forEach);r&&!("size"in i)&&o(i,"size",{get:function(){var e=0;return l(this,(function(){e++})),e},configurable:!0,enumerable:!0})},9979:(e,t,n)=>{"use strict";var r=n(8717);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,i=r.useRef,l=r.useEffect,s=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=i(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=s((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==u&&f.hasValue){var t=f.value;if(u(t,e))return i=t}return i=e}if(t=i,a(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,i=n)}var o,i,l=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]}),[t,n,r,u]);var p=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{Mz:()=>bn,Ad:()=>_n,i5:()=>pn,X4:()=>gn});n(7293),n(4401),n(2243),n(4464);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(){r=function(){return n};var e,n={},a=Object.prototype,o=a.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof _?t:_,o=Object.create(a.prototype),l=new P(r||[]);return i(o,"_invoke",{value:x(e,n,l)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function _(){}function b(){}function E(){}var w={};d(w,s,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(I([])));S&&S!==a&&o.call(S,s)&&(w=S);var C=E.prototype=_.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,n){function r(a,i,l,s){var c=p(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==t(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,s)}),(function(e){r("throw",e,l,s)})):n.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,a){r(e,t,n,a)}))}return a=a?a.then(o,o):o()}})}function x(t,n,r){var a=m;return function(o,i){if(a===v)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var s=L(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=p(t,n,r);if("normal"===c.type){if(a=r.done?y:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=y,r.method="throw",r.arg=c.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function I(n){if(n||""===n){var r=n[s];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,i=function t(){for(;++a<n.length;)if(o.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(t(n)+" is not iterable")}return b.prototype=E,i(C,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:b,configurable:!0}),b.displayName=d(E,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,d(e,u,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},k(T.prototype),d(T.prototype,c,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,a,o){void 0===o&&(o=Promise);var i=new T(f(e,t,r,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(C),d(C,u,"Generator"),d(C,s,(function(){return this})),d(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},n}function a(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)}))}}n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(9493),n(6881),n(7065),n(8956),n(4924);var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function l(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}Object.create;function c(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var u="3.4.2";function d(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function f(e){return!!e&&"function"==typeof e.then}function p(e,t){try{var n=e();f(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function m(e,t,n){return void 0===n&&(n=16),l(this,void 0,void 0,(function(){var r,a,o,i;return s(this,(function(l){switch(l.label){case 0:r=Array(e.length),a=Date.now(),o=0,l.label=1;case 1:return o<e.length?(r[o]=t(e[o],o),(i=Date.now())>=a+n?(a=i,[4,d(0)]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++o,[3,1];case 4:return[2,r]}}))}))}function h(e){e.then(void 0,(function(){}))}function v(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function y(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function g(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function _(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function b(e,t){return[e[0]^t[0],e[1]^t[1]]}function E(e){return e=b(e,[0,e[0]>>>1]),e=b(e=y(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=b(e=y(e,[3301882366,444984403]),[0,e[0]>>>1])}function w(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,o=[0,t],i=[0,t],l=[0,0],s=[0,0],c=[2277735313,289559509],u=[1291169091,658871167];for(n=0;n<a;n+=16)l=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],s=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],l=g(l=y(l,c),31),o=v(o=g(o=b(o,l=y(l,u)),27),i),o=v(y(o,[0,5]),[0,1390208809]),s=g(s=y(s,u),33),i=v(i=g(i=b(i,s=y(s,c)),31),o),i=v(y(i,[0,5]),[0,944331445]);switch(l=[0,0],s=[0,0],r){case 15:s=b(s,_([0,e.charCodeAt(n+14)],48));case 14:s=b(s,_([0,e.charCodeAt(n+13)],40));case 13:s=b(s,_([0,e.charCodeAt(n+12)],32));case 12:s=b(s,_([0,e.charCodeAt(n+11)],24));case 11:s=b(s,_([0,e.charCodeAt(n+10)],16));case 10:s=b(s,_([0,e.charCodeAt(n+9)],8));case 9:s=y(s=b(s,[0,e.charCodeAt(n+8)]),u),i=b(i,s=y(s=g(s,33),c));case 8:l=b(l,_([0,e.charCodeAt(n+7)],56));case 7:l=b(l,_([0,e.charCodeAt(n+6)],48));case 6:l=b(l,_([0,e.charCodeAt(n+5)],40));case 5:l=b(l,_([0,e.charCodeAt(n+4)],32));case 4:l=b(l,_([0,e.charCodeAt(n+3)],24));case 3:l=b(l,_([0,e.charCodeAt(n+2)],16));case 2:l=b(l,_([0,e.charCodeAt(n+1)],8));case 1:l=y(l=b(l,[0,e.charCodeAt(n)]),c),o=b(o,l=y(l=g(l,31),u))}return o=v(o=b(o,[0,e.length]),i=b(i,[0,e.length])),i=v(i,o),o=v(o=E(o),i=E(i)),i=v(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}function A(e){return parseInt(e)}function S(e){return parseFloat(e)}function C(e,t){return"number"==typeof e&&isNaN(e)?t:e}function k(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function T(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function x(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function L(e){return"function"!=typeof e}function R(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),a=m(r,(function(n){return function(e,t){var n=new Promise((function(n){var r=Date.now();p(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now()-r;if(!e[0])return n((function(){return{error:x(e[1]),duration:a}}));var o=e[1];if(L(o))return n((function(){return{value:o,duration:a}}));n((function(){return new Promise((function(e){var t=Date.now();p(o,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=a+Date.now()-t;if(!n[0])return e({error:x(n[1]),duration:o});e({value:n[1],duration:o})}))}))}))}))}));return h(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return h(a),function(){return l(this,void 0,void 0,(function(){var e,t,n,o;return s(this,(function(i){switch(i.label){case 0:return[4,a];case 1:return[4,m(i.sent(),(function(e){var t=e();return h(t),t}))];case 2:return e=i.sent(),[4,Promise.all(e)];case 3:for(t=i.sent(),n={},o=0;o<r.length;++o)n[r[o]]=t[o];return[2,n]}}))}))}}function N(){var e=window,t=navigator;return k(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function P(){var e=window,t=navigator;return k(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function I(){var e=window,t=navigator;return k(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function O(){var e=window;return k(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function M(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function D(){var e=P(),t=function(){var e,t,n=window;return k(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return k(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function F(e){var t=new Error(e);return t.name=e,t}function V(e,t,n){var r,a,o;return void 0===n&&(n=50),l(this,void 0,void 0,(function(){var i,l;return s(this,(function(s){switch(s.label){case 0:i=document,s.label=1;case 1:return i.body?[3,3]:[4,d(n)];case 2:return s.sent(),[3,1];case 3:l=i.createElement("iframe"),s.label=4;case 4:return s.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,a=function(){r=!0,e()};l.onload=a,l.onerror=function(e){r=!0,n(e)};var o=l.style;o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",i.body.appendChild(l);var s=function(){var e,t;r||("complete"===(null===(t=null===(e=l.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?a():setTimeout(s,10))};s()}))];case 5:s.sent(),s.label=6;case 6:return(null===(a=null===(r=l.contentWindow)||void 0===r?void 0:r.document)||void 0===a?void 0:a.body)?[3,8]:[4,d(n)];case 7:return s.sent(),[3,6];case 8:return[4,e(l,l.contentWindow)];case 9:return[2,s.sent()];case 10:return null===(o=l.parentNode)||void 0===o||o.removeChild(l),[7];case 11:return[2]}}))}))}function B(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(e),o=a[1]||void 0,i={},l=/([.:#][\w-]+|\[.+?\])/gi,s=function(e,t){i[e]=i[e]||[],i[e].push(t)};;){var c=l.exec(a[2]);if(!c)break;var u=c[0];switch(u[0]){case".":s("class",u.slice(1));break;case"#":s("id",u.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(!d)throw new Error(r);s(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[o,i]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),o=0,i=Object.keys(r);o<i.length;o++){var l=i[o],s=r[l].join(" ");"style"===l?H(a.style,s):a.setAttribute(l,s)}return a}function H(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(o){var i=o[1],l=o[2],s=o[4];e.setProperty(i,l,s||"")}}}var U=["monospace","sans-serif","serif"],j=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function W(e){return e.toDataURL()}var $,z;function Y(){var e=this;return function(){if(void 0===z){var e=function(){var t=G();Z(t)?z=setTimeout(e,2500):($=t,z=void 0)};e()}}(),function(){return l(e,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return Z(e=G())?$?[2,c([],$,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,M()]:[3,2]:[3,2];case 1:t.sent(),e=G(),t.label=2;case 2:return Z(e)||($=e),[2,e]}var n}))}))}}function G(){var e=screen;return[C(S(e.availTop),null),C(S(e.width)-S(e.availWidth)-C(S(e.availLeft),0),null),C(S(e.height)-S(e.availHeight)-C(S(e.availTop),0),null),C(S(e.availLeft),null)]}function Z(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function Q(e){var t;return l(this,void 0,void 0,(function(){var n,r,a,o,i,l,c;return s(this,(function(s){switch(s.label){case 0:for(n=document,r=n.createElement("div"),a=new Array(e.length),o={},K(r),c=0;c<e.length;++c)"DIALOG"===(i=B(e[c])).tagName&&i.show(),K(l=n.createElement("div")),l.appendChild(i),r.appendChild(l),a[c]=i;s.label=1;case 1:return n.body?[3,3]:[4,d(50)];case 2:return s.sent(),[3,1];case 3:n.body.appendChild(r);try{for(c=0;c<e.length;++c)a[c].offsetParent||(o[e[c]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,o]}}))}))}function K(e){e.style.setProperty("display","block","important")}function q(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function X(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function J(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function ee(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function te(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var ne=Math,re=function(){return 0};var ae={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var oe={fonts:function(){return V((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var a=n.createElement("div"),o={},i={},l=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",a.appendChild(t),t},s=U.map(l),c=function(){for(var e={},t=function(t){e[t]=U.map((function(e){return function(e,t){return l("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=j;n<r.length;n++){t(r[n])}return e}();r.appendChild(a);for(var u=0;u<U.length;u++)o[U[u]]=s[u].offsetWidth,i[U[u]]=s[u].offsetHeight;return j.filter((function(e){return t=c[e],U.some((function(e,n){return t[n].offsetWidth!==o[e]||t[n].offsetHeight!==i[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return l(this,void 0,void 0,(function(){var e,n,r,a,o;return s(this,(function(i){switch(i.label){case 0:return I()||D()?(l=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',l("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",l("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",l("LnNwb25zb3JpdA=="),".ylamainos",l("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",l("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",l("LmhlYWRlci1ibG9ja2VkLWFk"),l("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",l("I2FkXzMwMFgyNTA="),l("I2Jhbm5lcmZsb2F0MjI="),l("I2NhbXBhaWduLWJhbm5lcg=="),l("I0FkLUNvbnRlbnQ=")],adGuardChinese:[l("LlppX2FkX2FfSA=="),l("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",l("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),l("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",l("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",l("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",l("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),l("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),l("LmFkZ29vZ2xl"),l("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[l("YW1wLWF1dG8tYWRz"),l("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",l("I2FkX2ludmlld19hcmVh")],adGuardRussian:[l("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),l("LnJlY2xhbWE="),'div[id^="smi2adblock"]',l("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[l("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),l("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",l("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),l("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),l("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",l("I3Jla2xhbWk="),l("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),l("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),l("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[l("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",l("LndpZGdldF9wb19hZHNfd2lkZ2V0"),l("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",l("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[l("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),l("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",l("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",l("I3Jla2xhbW5pLWJveA=="),l("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",l("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[l("I2FkdmVydGVudGll"),l("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",l("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",l("LnNwb25zb3JsaW5rZ3J1ZW4="),l("I3dlcmJ1bmdza3k="),l("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),l("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[l("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",l("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[l("LnJla2xhbW9zX3RhcnBhcw=="),l("LnJla2xhbW9zX251b3JvZG9z"),l("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),l("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),l("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[l("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[l("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),l("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",l("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[l("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),l("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),l("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",l("LmFkX19tYWlu"),l("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[l("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[l("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),l("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[l("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),l("I2xpdmVyZUFkV3JhcHBlcg=="),l("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),l("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[l("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",l("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),l("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),l("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[l("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),l("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),l("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",l("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),l("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),l("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),l("ZGl2I3NrYXBpZWNfYWQ=")],ro:[l("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),l("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),l("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),l("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[l("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),l("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),l("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",l("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),l("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",l("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,Q((o=[]).concat.apply(o,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=i.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,a=Object.keys(e);r<a.length;r++){var o=a[r];n+="\n".concat(o,":");for(var i=0,l=e[o];i<l.length;i++){var s=l[i];n+="\n  ".concat(t[s]?"🚫":"➡️"," ").concat(s)}}console.log("".concat(n,"\n```"))}(e,r),(a=n.filter((function(t){var n=e[t];return k(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,a]}var l}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return V((function(n,r){var a=r.document,o=a.body,i=o.style;i.width="".concat(t,"px"),i.webkitTextSizeAdjust=i.textSizeAdjust="none",P()?o.style.zoom="".concat(1/r.devicePixelRatio):I()&&(o.style.zoom="reset");var l=a.createElement("div");return l.textContent=c([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),o.appendChild(l),e(a,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},a=0,o=Object.keys(ae);a<o.length;a++){var i=o[a],l=ae[i],s=l[0],c=void 0===s?{}:s,u=l[1],d=void 0===u?"mmMwWLliI0fiflO&1":u,f=e.createElement("span");f.textContent=d,f.style.whiteSpace="nowrap";for(var p=0,m=Object.keys(c);p<m.length;p++){var h=m[p],v=c[h];void 0!==v&&(f.style[h]=v)}n[i]=f,t.appendChild(e.createElement("br")),t.appendChild(f)}for(var y=0,g=Object.keys(ae);y<g.length;y++){r[i=g[y]]=n[i].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(I()&&!O()&&!function(){var e=window;return k(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var a=n.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,r.connect(a),a.connect(n.destination),r.start(0);var o=function(e){var t=3,n=500,r=500,a=5e3,o=function(){},i=new Promise((function(i,l){var s=!1,c=0,u=0;e.oncomplete=function(e){return i(e.renderedBuffer)};var d=function(){setTimeout((function(){return l(F("timeout"))}),Math.min(r,u+a-Date.now()))},p=function(){try{var r=e.startRendering();switch(f(r)&&h(r),e.state){case"running":u=Date.now(),s&&d();break;case"suspended":document.hidden||c++,s&&c>=t?l(F("suspended")):setTimeout(p,n)}}catch(e){l(e)}};p(),o=function(){s||(s=!0,u>0&&d())}}));return[i,o]}(n),i=o[0],l=o[1],s=i.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return h(s),function(){return l(),s}},screenFrame:function(){var e=this,t=Y();return function(){return l(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:T(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))P()&&k([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var a=t.languages;a&&n.push(a.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return C(S(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return C(A(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return C(A(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(S(new Date(r,0,1).getTimezoneOffset()),S(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(a>=0?"+":"").concat(Math.abs(a))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(N()||(e=window,t=navigator,k(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!N())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&I()&&!O()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return k(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var a=[],o=0;o<r.length;++o){var i=r[o];a.push({type:i.type,suffixes:i.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:a})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),a=r[0],o=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(a,o)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(o),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(a,o);var i=W(a);i!==W(a)?e=t="unstable":(t=i,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],o=a[0],i=a[1],l=a[2];t.fillStyle=o,t.beginPath(),t.arc(i,l,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(a,o),e=W(a))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=A(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==typeof a&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!q("inverted")||!q("none")&&void 0},forcedColors:function(){return!!X("active")||!X("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return J("no-preference")?0:J("high")||J("more")?1:J("low")||J("less")?-1:J("forced")?10:void 0},reducedMotion:function(){return!!ee("reduce")||!ee("no-preference")&&void 0},hdr:function(){return!!te("high")||!te("standard")&&void 0},math:function(){var e,t=ne.acos||re,n=ne.acosh||re,r=ne.asin||re,a=ne.asinh||re,o=ne.atanh||re,i=ne.atan||re,l=ne.sin||re,s=ne.sinh||re,c=ne.cos||re,u=ne.cosh||re,d=ne.tan||re,f=ne.tanh||re,p=ne.exp||re,m=ne.expm1||re,h=ne.log1p||re;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,ne.log(e+ne.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:a(1),asinhPf:function(e){return ne.log(e+ne.sqrt(e*e+1))}(1),atanh:o(.5),atanhPf:function(e){return ne.log((1+e)/(1-e))/2}(.5),atan:i(.5),sin:l(-1e300),sinh:s(1),sinhPf:function(e){return ne.exp(e)-1/ne.exp(e)/2}(1),cos:c(10.000000000123),cosh:u(1),coshPf:function(e){return(ne.exp(e)+1/ne.exp(e))/2}(1),tan:d(-1e300),tanh:f(1),tanhPf:function(e){return(ne.exp(2*e)-1)/(ne.exp(2*e)+1)}(1),exp:p(1),expm1:m(1),expm1Pf:function(e){return ne.exp(e)-1}(1),log1p:h(10),log1pPf:function(e){return ne.log(1+e)}(10),powPI:function(e){return ne.pow(ne.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function ie(e){var t=function(e){if(D())return.4;if(I())return O()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return T(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function le(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?i({name:(n=t).name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n):t;var n,r}),2)}function se(e){return w(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],o=e[a],i=o.error?"error":JSON.stringify(o.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(i)}return t}(e))}function ce(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):d(Math.min(e,t))}(e,2*e)}function ue(e,t){var n=Date.now();return{get:function(r){return l(this,void 0,void 0,(function(){var a,o,i;return s(this,(function(l){switch(l.label){case 0:return a=Date.now(),[4,e()];case 1:return o=l.sent(),i=function(e){var t,n=ie(e);return{get visitorId(){return void 0===t&&(t=se(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:u}}(o),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(i.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(a-n,"\nvisitorId: ").concat(i.visitorId,"\ncomponents: ").concat(le(o),"\n```")),[2,i]}}))}))}}}var de={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,a=t.monitoring,o=void 0===a||a;return l(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return o&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(u,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,ce(n)];case 1:return e.sent(),[2,ue(R(oe,{debug:r},[]),r)]}}))}))},hashComponents:se,componentsToDebugString:le},fe=function(e){try{return localStorage.getItem(e)}catch(e){console.error(e)}},pe=function(e,t){try{return localStorage.setItem(e,String(t))}catch(e){console.error(e)}},me="fingerprintId",he="fingerprint-not-initialized",ve=function(){var e=o(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=fe(me))){e.next=4;break}return he=t,e.abrupt("return");case 4:return e.next=6,de.load();case 6:return n=e.sent,e.next=9,n.get();case 9:a=e.sent,he=a.visitorId,pe(me,he);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){return fe(me)||he};function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){if(e){if("string"==typeof e)return ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||_e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ee=function(e){if(!e)return 0;var t=be(e.trim().split(":").reverse(),3),n=t[0],r=t[1],a=t[2];return+n+60*+r+(a?3600*+a:0)};function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Ae=function e(t,n){function r(e,r,a){if("undefined"!=typeof document){"number"==typeof(a=we({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var l=decodeURIComponent(o[0]);if(r[l]=t.read(i,l),e===l)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",we({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,we({},this.attributes,t))},withConverter:function(t){return e(we({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const Se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ce;const ke=new Uint8Array(16);function Te(){if(!Ce&&(Ce="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ce))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ce(ke)}const xe=[];for(let e=0;e<256;++e)xe.push((e+256).toString(16).slice(1));function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return xe[e[t+0]]+xe[e[t+1]]+xe[e[t+2]]+xe[e[t+3]]+"-"+xe[e[t+4]]+xe[e[t+5]]+"-"+xe[e[t+6]]+xe[e[t+7]]+"-"+xe[e[t+8]]+xe[e[t+9]]+"-"+xe[e[t+10]]+xe[e[t+11]]+xe[e[t+12]]+xe[e[t+13]]+xe[e[t+14]]+xe[e[t+15]]}const Re=function(e,t,n){if(Se.randomUUID&&!t&&!e)return Se.randomUUID();const r=(e=e||{}).random||(e.rng||Te)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Le(r)};function Ne(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rutube.ru",t="undefined"!=typeof location&&location.hostname?location.hostname:e,n=t.split(".");return n.length>2?[""].concat(Ne(n.slice(-2))).join("."):".".concat(t)},Ie=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}},Oe=function(e){var t=Pe();Ae.set("uuid",e,{expires:400,path:"/",secure:!0,sameSite:"None",domain:t})},Me=Ie(Oe),De=function(){var e=Ae.get("uuid");return e?(Me(e),e):(e=Re(),Oe(e),e)},Fe=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links","ad-text","adSense","adBlock","adContent","adBanner"],Ve=function(){var e,t=((e=document.createElement("div")).setAttribute("class",Fe.join(" ")),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e);window.document.body.appendChild(t);var n=function(e){if(null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)return!0;if(void 0!==window.getComputedStyle){var t=window.getComputedStyle(e,null);if(t&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")))return!0}return!1}(t);return window.document.body.removeChild(t),n},Be=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ve()){e.next=3;break}return e.abrupt("return",fetch("/static/img/png/adsdkbanner.png").then((function(){return!1})).catch((function(){return!0})));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(6616);function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function We(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $e=n(2412),ze=n.n($e),Ye=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){return Ae.get(this.name)}},{key:"write",value:function(e,t){var n=Pe();Ae.set(this.name,e,{expires:t,sameSite:"None",secure:!0,domain:n})}}]),e}(),Ge=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"safeGet",value:function(){try{return localStorage.getItem(this.name)}catch(e){return null}}},{key:"read",value:function(){var t=e.parseValue(this.safeGet());if(null!=t){var n=ze()(t.expires);if(!(!n.isValid()||n.isBefore(new Date)))return t.value}}},{key:"write",value:function(t,n){pe(this.name,e.stringifyValue({value:t,expires:n.toISOString()}))}},{key:"getExpires",value:function(){var t;return null===(t=e.parseValue(this.safeGet()))||void 0===t?void 0:t.expires}}],[{key:"parseValue",value:function(e){if(null==e)return null;try{var t=JSON.parse(e);return null!=t&&"string"==typeof t.value&&"string"==typeof t.expires?{value:t.value,expires:t.expires}:null}catch(e){return null}}},{key:"stringifyValue",value:function(e){return JSON.stringify(e)}}]),e}(),Ze=function(e,t){var n=function(e){return"".concat(e,"_").concat(Date.now())}(e);return t(n),n},Qe="session_id",Ke=function(e,t){var n=[new Ye(Qe),new Ge(Qe)],r=n.map((function(e){return e.read()})).find((function(e){return e})),a=null!=r?r:Ze(e,t),o=function(e){return ze()().add(e,"second").toDate()}(1800);return n.forEach((function(e){e.write(a,o)})),a},qe="cid",Xe=/^\d{20}$/,Je=function(){var e="undefined"!=typeof document&&document.cookie||"",t=e.split("; ").filter((function(e){return e.trim().startsWith("".concat(qe,"="))})).map((function(e){return e.split("=")[1]})).filter((function(e){return Xe.test(e)}));if(t.length){var n=Pe(),r=n.substring(1);if(Ae.remove(qe),Ae.remove(qe,{domain:r}),t.length>1){var a=function(e){return e.reduce((function(e,t){var n=Number(e.substring(e.length-10));return Number(t.substring(t.length-10))<n?t:e}))}(t);Ae.set(qe,a,{expires:400,sameSite:"None",secure:!0,domain:n})}}},et="cid",tt=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){return Ae.get(this.name)}},{key:"write",value:function(e){var t=Pe();Ae.set(this.name,e,{expires:400,sameSite:"None",secure:!0,domain:t})}}]),e}(),nt=function(){function e(t){He(this,e),this.name=t}return We(e,[{key:"read",value:function(){var e;return null!==(e=fe(this.name))&&void 0!==e?e:void 0}},{key:"write",value:function(e){pe(this.name,e)}}]),e}(),rt=function(e){var t=[Math.trunc(Math.random()*Math.pow(10,10)),Math.trunc(Date.now()/1e3)].join("");return"function"==typeof e&&e(t),t},at=Ie((function(e){var t=Pe();Ae.set(et,e,{expires:400,sameSite:"None",secure:!0,domain:t})})),ot=function(){var e=function(e){Je();var t=new tt(et),n=new nt(et),r=t.read(),a=n.read();if(!r&&!a){var o=rt(e);return n.write(o),t.write(o),o}return r&&a&&r!==a?(n.write(r),r):a&&!r?(t.write(a),a):r&&!a?(n.write(r),r):r}();return at(e),e};var it=n(8717);var lt=n(3509);n(8578),n(9857),n(9972);const st="dark2021",ct="white2021",ut="white2022",dt="auto",ft={[st]:{base:"#000000",base20:"rgba(0, 0, 0, 0.2)",primaryold:"#242D36",primary:"#14191F",secondary1002:"#1C232B",secondary1001:"#000000",secondary1000:"#1C232B",secondary900:"#1C232B",secondary802:"#29333D",secondary801:"#212932",secondary800:"#212932",secondary702:"#3D4A58",secondary701:"#29333D",secondary700:"#29333D",secondary604:"#212932",secondary603:"#5A6877",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary501:"#889BAF",secondary500:"#5A6877",secondary400:"#889BAF",secondary302:"#BFC9D4",secondary301:"#A7B4C4",secondary300:"#A7B4C4",secondary201:"#E1E5EA",secondary200:"#BFC9D4",secondary101:"#EAEDF1",secondary100:"#E1E5EA",secondary51:"#EAEDF1",secondary50:"#E1E5EA",secondary49:"#FFFFFF",secondary3:"#FFFFFF",secondary2:"#F6F6F6",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#203753",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#27323F",lightCoralHover:"#203753",lightCoralPressed:"#203753",text:"#FFFFFF",textHover:"#00A1E7",textActive:"#0096D8",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#E1E5EA",buttonSecondaryText:"#1C232B",buttonSecondaryHover:"#BFC9D4",buttonSecondaryHoverText:"#1C232B",buttonSecondaryPressed:"#FFFFFF",buttonSecondaryPressedText:"#1C232B",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",birdColorNew1:"#FFFFFF",birdColorNew2:"#889BAF",birdColorNew3:"#242D36",birdColorNew4:"#242D36",linkPrimary:"#E1E5EA",linkPrimaryHover:"#FFFFFF",menuText:"#FFFFFF",menuBg:"#1C232B",menuPromoBg:"#29333D",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#29333D",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#E1E5EA",menuMobileBgColor:"rgba(28, 35, 43, 0.8)",kidsBannerBg:"#3E3C70",kidsBannerTitle:"#fff",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.25)",popupBg:"#29333D",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",raiAudioControlPrimary:"#FFF",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#14191F",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"},[ct]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#E1E5EA",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary501:"#889BAF",secondary500:"#889BAF",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#3D4A58",secondary201:"#29333D",secondary200:"#29333D",secondary101:"#212932",secondary100:"#212932",secondary51:"#212932",secondary50:"#1C232B",secondary49:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#FF7773",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#E75550",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[ut]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#FFFFFF",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#EAEDF1",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#E1E5EA",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#bfc9D4",secondary501:"#889BAF",secondary500:"#A7B4C4",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#5A6877",secondary201:"#3D4A58",secondary200:"#3D4A58",secondary101:"#29333D",secondary100:"#29333D",secondary51:"#212932",secondary50:"#212932",secondary49:"#212932",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#1C232B",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#B3E3F8",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#FFFFFF",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",menuMobileBgColor:"rgba(225,229,234, 0.8)",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",raiAudioControlPrimary:"#1C232B",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#F6F6F6",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[dt]:void 0},pt=ft[ct],mt="penTheme";function ht(e){return e?e.replace(/([A-Z]+)/g,"-$1").toLowerCase():e}const vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;const t={},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return Object.keys(e)}(e);for(const r of n)t[`--pen-${ht(r)}`]=`${e[r]??""}`;return t},yt=(e,t)=>{const n=(e=>`${ht(mt)}-${e}`)(e);if(document.getElementById(n))return;let r=`[data-${ht(mt)}="${e}"]{`;for(const e of Object.keys(t))r+=`${e}:${t[e]};`;r+="}";const a=document.createElement("style");a.innerText=r,a.id=n,document.head.appendChild(a)},gt=ct,_t=ft[gt],bt=it.createContext({theme:_t,themeId:ct,isDeviceTheme:!1,isDeviceThemeSupported:!1}),Et=e=>{let{children:t,forceThemeId:n=gt}=e;const r=ft[n],a=(0,it.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;const t=vt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t);yt(e,t),document.documentElement.dataset[mt]=e}),[]),o=(0,it.useCallback)(((e,t)=>{const n=document.createElement("style");n.innerText="body * { transition: none !important }",document.body.appendChild(n),a(e,t),document.body.scrollHeight,document.body.removeChild(n)}),[a]);(0,it.useEffect)((()=>{o(n,r)}),[o,n,r]);const i=(0,it.useMemo)((()=>({theme:r??_t,themeId:n})),[n,r]);return it.createElement(bt.Provider,{value:i},t)},wt="rus",At="eng",St=[{id:"adfoxScript",js:"https://yandex.ru/ads/system/adsdk.js"}],Ct="https://static.rutube.ru/static/img/_thumb_default_04.png",kt={[wt]:{title:"Видео 18+",description:"Данное видео не рекомендовано для просмотра несовершеннолетним пользователям",btn:"Мне уже есть 18 лет"},[At]:{title:"Video 18+",description:"This video is not recomended for underage users",btn:"I am 18 years old"}},Tt={[wt]:"Служба поддержки",[At]:"Email Support"},xt={[wt]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Данное видео временно недоступно. Приносим Вам свои извинения."))},[At]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}},Lt={[wt]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Извините, трансляция временно недоступна. Обновите страницу или обратитесь в поддержку"))},[At]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Sorry, this stream is temporarily unavailable."))}},Rt={[wt]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Просмотр видео временно недоступен. ",it.createElement("br",null),"Приносим свои извинения."))},[At]:{title:it.createElement("noindex",null,it.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}},Nt={[wt]:{title:"Отсутствует интернет-соединение. Проверьте подключение к Wi-Fi или мобильной сети."},[At]:{title:"No Internet connection. Make sure your Wi-Fi or mobile network in ON."}},Pt=["preroll","mobilpreroll","newmidroll","newmobilmidroll","newmobilemidroll"],It=["preroll","postroll","midroll","overlay","midpostroll"],Ot=["*.contra.gr","blog.rutube.ru","contra.gr","matchtv.ru","rufilmtv.org"],Mt=["preroll","mobilepreroll","livemidroll","mobilelivemidroll"],Dt=[4,5],Ft="caption",Vt="raichu-autoplay-next",Bt="raichu-user-history",Ht="raichu-user-quality",Ut="raichu-pause-recs-hidden",jt=5e3,Wt=8e3,$t=16/9;let zt=function(e){return e.INIT="player:init",e.PLAY_START="player:playStart",e.EVENT_STATE_CHANGE="player:stateChangeEvent",e.TOGGLE_VERTICAL_FULLSCREEN="player:toggleVerticalFullscreen",e.CHANGE_PLAYER_MODE="player:changePlayerMode",e.CLOSE_PLAYER="player:changePlayerMode",e.PREV_VIDEO="player:prevVideo",e.NEXT_VIDEO="player:nextVideo",e.SET_TIME="player:setTime",e.TOGGLE_CINEMA_MODE_PLAYER="player:toggleCinemaModePlayer",e.SET_END_SCREEN_VIDEO="player:setEndScreenVideo",e.CHANGE_VIDEO="player:changeEndScreenVideo",e.CURRENT_TIME="player:currentTime",e.FAKE_FULLSCREEN_ON="player:fakeFullscreenOn",e.FAKE_FULLSCREEN_OFF="player:fakeFullscreenOff",e.CHANGE_FULLSCREEN="player:changeFullscreen",e.PLAY_COMPLETE="player:playComplete",e.EVENT_ROLL_STATE_CHANGE="player:rollStateChange",e.ROLL_STATE="player:rollState",e.CHANGE_STATE="player:changeState",e.WOW_STATE_CHANGE="player:wowStateChange",e.READY="player:ready",e.VOLUME_CHANGE="player:volumeChange",e.BUFFERING="player:buffering",e.DURATION_CHANGE="player:durationChange",e.USER_ACTIVE="player:useractive",e.USER_INACTIVE="player:userinactive",e.NO_AD="player:noad",e.ERROR="player:error",e.QUALITY_LIST="player:qualityList",e.CURRENT_QUALITY="player:currentQuality",e.PLAYOPTIONS_LOADED="player:playOptionsLoaded",e.AD_REQUEST="player:adRequest",e.AD_START="player:adStart",e.AD_END="player:adEnd",e.SUBSCRIPTION_REQUEST="player:subscriptionRequest",e.SUBSCRIBE_BUTTON_SHOW="player:subscribeButtonShow",e.CHAPTERS_SHOW="player:chaptersShow",e.CHAPTER_CHANGE="player:chapterChange",e}({}),Yt=function(e){return e.PLAYING="playing",e.PAUSED="paused",e.STOPPED="stopped",e}({}),Gt=function(e){return e.RUTUBE="RUTUBE",e.PRY="PREMIER_RUTUBE_YAPPY",e}({});const Zt=(e,t,n)=>{const r={},a=new URL(e).searchParams.entries();let o=!n;for(const e of a)n&&e[0]===n&&(o=!0),o&&(r[e[0]]=t?decodeURIComponent(e[1]):e[1]);return r},Qt=e=>{const t=new URLSearchParams;return Object.keys(e).forEach((n=>{void 0!==e[n]&&t.append(n,e[n].toString())})),t};function Kt(e){const t=/(^\/pl|embed)(\/|$)/;return e?t.test(e):t.test(window.location.pathname)}function qt(e){return{r:"emw"+(e?"m":"d")}}function Xt(){try{if(window?.location?.ancestorOrigins)return[...window.location.ancestorOrigins]}catch(e){console.warn("ancestorOrigins is not available")}return[]}const Jt=e=>e?.replace(/^(https?:\/\/)?(www\.)?/,"").replace(/\/$/,"").split("/")[0]||"";function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectLastOrigin:!1};const{selectLastOrigin:t}=e;if("object"!=typeof window)return"";const{location:n}=window;if(Kt(n.pathname)){const e=Xt(),n=e.length?function(e,t){return t?e[e.length-1]:e[0]}(e,t):document.referrer;return n&&"null"!==n?n:""}return n.origin}function tn(){return encodeURIComponent(en())}const nn=e=>e.app.isLoaded,rn=e=>e.distribution.idDistribution,an=e=>e.distribution.isEmbedAllowed,on=e=>e.distribution.isAllowedChecking;n(2120),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446);var ln=Symbol("NOT_FOUND");function sn(e){if("function"!=typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var cn=e=>Array.isArray(e)?e:[e];function un(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var dn=(e,t)=>e===t;function fn(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}function pn(e,t){const n="object"==typeof t?t:{equalityCheck:t},{equalityCheck:r=dn,maxSize:a=1,resultEqualityCheck:o}=n,i=fn(r);let l=0;const s=a<=1?function(e){let t;return{get(n){return t&&e(t.key,n)?t.value:ln},put(e,n){t={key:e,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}(i):function(e,t){let n=[];function r(e){const r=n.findIndex((n=>t(e,n.key)));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return ln}return{get:r,put:function(t,a){r(t)===ln&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,i);function c(){let t=s.get(arguments);if(t===ln){if(t=e.apply(null,arguments),l++,o){const e=s.getEntries().find((e=>o(e.value,t)));e&&(t=e.value,0!==l&&l--)}s.put(arguments,t)}return t}return c.clearCache=()=>{s.clear(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}var mn="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},hn=0,vn=1;function yn(){return{s:hn,v:void 0,o:null,p:null}}function gn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yn();const{resultEqualityCheck:r}=t;let a,o=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=yn(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=yn(),e.set(n,t)):t=r}}const l=t;let s;if(t.s===vn)s=t.v;else if(s=e.apply(null,arguments),o++,r){const e=a?.deref?.()??a;null!=e&&r(e,s)&&(s=e,0!==o&&o--);a="object"==typeof s&&null!==s||"function"==typeof s?new mn(s):s}return l.s=vn,l.v=s,s}return i.clearCache=()=>{n=yn(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"==typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,i=0,l={},s=t.pop();"object"==typeof s&&(l=s,s=t.pop()),sn(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const c={...a,...l},{memoize:u,memoizeOptions:d=[],argsMemoize:f=gn,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,h=cn(d),v=cn(p),y=un(t),g=u((function(){return o++,s.apply(null,arguments)}),...h);const _=f((function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=g.apply(null,e),r}),...v);return Object.assign(_,{resultFunc:s,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var bn=_n(gn),En=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;!function(e){if("object"!=typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>En}),wn=(n(3575),n(1711),Symbol.for("immer-nothing")),An=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Cn(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kn=Object.getPrototypeOf;function Tn(e){return!!e&&!!e[Sn]}function xn(e){return!!e&&(Rn(e)||Array.isArray(e)||!!e[An]||!!e.constructor?.[An]||Mn(e)||Dn(e))}var Ln=Object.prototype.constructor.toString();function Rn(e){if(!e||"object"!=typeof e)return!1;const t=kn(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ln}function Nn(e,t){0===Pn(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Pn(e){const t=e[Sn];return t?t.type_:Array.isArray(e)?1:Mn(e)?2:Dn(e)?3:0}function In(e,t){return 2===Pn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function On(e,t,n){const r=Pn(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Mn(e){return e instanceof Map}function Dn(e){return e instanceof Set}function Fn(e){return e.copy_||e.base_}function Vn(e,t){if(Mn(e))return new Map(e);if(Dn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Rn(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Sn];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(kn(e),t)}{const t=kn(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Un(e)||Tn(e)||!xn(e)||(Pn(e)>1&&(e.set=e.add=e.clear=e.delete=Hn),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Bn(n,!0)}))),e}function Hn(){Cn(2)}function Un(e){return Object.isFrozen(e)}var jn,Wn={};function $n(e){const t=Wn[e];return t||Cn(0),t}function zn(){return jn}function Yn(e,t){t&&($n("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gn(e){Zn(e),e.drafts_.forEach(Kn),e.drafts_=null}function Zn(e){e===jn&&(jn=e.parent_)}function Qn(e){return jn={drafts_:[],parent_:jn,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kn(e){const t=e[Sn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function qn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Sn].modified_&&(Gn(t),Cn(4)),xn(e)&&(e=Xn(t,e),t.parent_||er(t,e)),t.patches_&&$n("Patches").generateReplacementPatches_(n[Sn].base_,e,t.patches_,t.inversePatches_)):e=Xn(t,n,[]),Gn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wn?e:void 0}function Xn(e,t,n){if(Un(t))return t;const r=t[Sn];if(!r)return Nn(t,((a,o)=>Jn(e,r,t,a,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return er(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,o=!1;3===r.type_&&(a=new Set(t),t.clear(),o=!0),Nn(a,((a,i)=>Jn(e,r,t,a,i,n,o))),er(e,t,!1),n&&e.patches_&&$n("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Jn(e,t,n,r,a,o,i){if(Tn(a)){const i=Xn(e,a,o&&t&&3!==t.type_&&!In(t.assigned_,r)?o.concat(r):void 0);if(On(n,r,i),!Tn(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(xn(a)&&!Un(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xn(e,a),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||er(e,a)}}function er(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bn(t,n)}var tr={get(e,t){if(t===Sn)return e;const n=Fn(e);if(!In(n,t))return function(e,t,n){const r=ar(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!xn(r)?r:r===rr(e.base_,t)?(ir(e),e.copy_[t]=lr(r,e)):r},has(e,t){return t in Fn(e)},ownKeys(e){return Reflect.ownKeys(Fn(e))},set(e,t,n){const r=ar(Fn(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=rr(Fn(e),t),i=r?.[Sn];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(o=r)?0!==a||1/a==1/o:a!=a&&o!=o)&&(void 0!==n||In(e.base_,t)))return!0;ir(e),or(e)}var a,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==rr(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ir(e),or(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Cn(11)},getPrototypeOf(e){return kn(e.base_)},setPrototypeOf(){Cn(12)}},nr={};function rr(e,t){const n=e[Sn];return(n?Fn(n):e)[t]}function ar(e,t){if(!(t in e))return;let n=kn(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=kn(n)}}function or(e){e.modified_||(e.modified_=!0,e.parent_&&or(e.parent_))}function ir(e){e.copy_||(e.copy_=Vn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Nn(tr,((e,t)=>{nr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),nr.deleteProperty=function(e,t){return nr.set.call(this,e,t,void 0)},nr.set=function(e,t,n){return tr.set.call(this,e[0],t,n,e[0])};function lr(e,t){const n=Mn(e)?$n("MapSet").proxyMap_(e,t):Dn(e)?$n("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=tr;n&&(a=[r],o=nr);const{revoke:i,proxy:l}=Proxy.revocable(a,o);return r.draft_=l,r.revoke_=i,l}(e,t);return(t?t.scope_:zn()).drafts_.push(n),n}function sr(e){return Tn(e)||Cn(10),cr(e)}function cr(e){if(!xn(e)||Un(e))return e;const t=e[Sn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Vn(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Vn(e,!0);return Nn(n,((e,t)=>{On(n,e,cr(t))})),t&&(t.finalized_=!1),n}var ur=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!=typeof t&&Cn(6),void 0!==n&&"function"!=typeof n&&Cn(7),xn(e)){const a=Qn(this),o=lr(e,void 0);let i=!0;try{r=t(o),i=!1}finally{i?Gn(a):Zn(a)}return Yn(a,n),qn(r,a)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===wn&&(r=void 0),this.autoFreeze_&&Bn(r,!0),n){const t=[],a=[];$n("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}Cn(1)},this.produceWithPatches=(e,n)=>{if("function"==typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...a)))};let r,a;return[this.produce(e,n,((e,t)=>{r=e,a=t})),r,a]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xn(e)||Cn(8),Tn(e)&&(e=sr(e));const t=Qn(this),n=lr(e,void 0);return n[Sn].isManual_=!0,Zn(t),n}finishDraft(e,t){const n=e&&e[Sn];n&&n.isManual_||Cn(9);const{scope_:r}=n;return Yn(r,t),qn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=$n("Patches").applyPatches_;return Tn(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},dr=ur.produce;ur.produceWithPatches.bind(ur),ur.setAutoFreeze.bind(ur),ur.setUseStrictShallowCopy.bind(ur),ur.applyPatches.bind(ur),ur.createDraft.bind(ur),ur.finishDraft.bind(ur);function fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pr=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),mr=()=>Math.random().toString(36).substring(7).split("").join("."),hr={INIT:`@@redux/INIT${mr()}`,REPLACE:`@@redux/REPLACE${mr()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mr()}`};function vr(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function yr(e,t,n){if("function"!=typeof e)throw new Error(fr(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(fr(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(fr(1));return n(yr)(e,t)}let r=e,a=t,o=new Map,i=o,l=0,s=!1;function c(){i===o&&(i=new Map,o.forEach(((e,t)=>{i.set(t,e)})))}function u(){if(s)throw new Error(fr(3));return a}function d(e){if("function"!=typeof e)throw new Error(fr(4));if(s)throw new Error(fr(5));let t=!0;c();const n=l++;return i.set(n,e),function(){if(t){if(s)throw new Error(fr(6));t=!1,c(),i.delete(n),o=null}}}function f(e){if(!vr(e))throw new Error(fr(7));if(void 0===e.type)throw new Error(fr(8));if("string"!=typeof e.type)throw new Error(fr(17));if(s)throw new Error(fr(9));try{s=!0,a=r(a,e)}finally{s=!1}return(o=i).forEach((e=>{e()})),e}f({type:hr.INIT});return{dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(fr(10));r=e,f({type:hr.REPLACE})},[pr]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(fr(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[pr](){return this}}}}}function gr(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const a=t[r];0,"function"==typeof e[a]&&(n[a]=e[a])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:hr.INIT}))throw new Error(fr(12));if(void 0===n(void 0,{type:hr.PROBE_UNKNOWN_ACTION()}))throw new Error(fr(13))}))}(n)}catch(e){a=e}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let o=!1;const i={};for(let a=0;a<r.length;a++){const l=r[a],s=n[l],c=e[l],u=s(c,t);if(void 0===u){t&&t.type;throw new Error(fr(14))}i[l]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?i:e}}function _r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function br(e){return vr(e)&&"type"in e&&"string"==typeof e.type}function Er(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"==typeof a?a(n,r,e):t(a)}}var wr=Er(),Ar=Er,Sr=(n(4823),function(){const e=_n(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t(Tn(e)?sr(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t});return t}(gn)),Cr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?_r:_r.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function kr(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Jr(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>br(t)&&t.type===e,n}function Tr(e){return["type","payload","error","meta"].indexOf(e)>-1}var xr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Lr(e){return xn(e)?dr(e,(()=>{})):e}function Rr(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Nr="RTK_autoBatch",Pr=e=>t=>{setTimeout(t,e)},Ir=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new xr(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,o=!1;const i=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Pr(10):"callback"===e.type?e.queueNotification:Pr(e.timeout),s=()=>{o=!1,a&&(a=!1,i.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{return r=!e?.meta?.[Nr],a=!r,a&&(o||(o=!0,l(s))),n.dispatch(e)}finally{r=!0}}})}}("object"==typeof n?n:void 0)),r};function Or(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new xr;return t&&("boolean"==typeof t?o.push(wr):o.push(Ar(t.extraArgument))),o},{reducer:n,middleware:r,devTools:a=!0,preloadedState:o,enhancers:i}=e||{};let l,s;if("function"==typeof n)l=n;else{if(!vr(n))throw new Error(Jr(1));l=gr(n)}s="function"==typeof r?r(t):t();let c=_r;a&&(c=Cr({trace:!1,..."object"==typeof a&&a}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(fr(15))};const i={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},l=t.map((e=>e(i)));return o=_r(...l)(a.dispatch),{...a,dispatch:o}}}(...s),d=Ir(u);return yr(l,o,c(..."function"==typeof i?i(d):d()))}function Mr(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Jr(28));if(r in t)throw new Error(Jr(29));return t[r]=n,a},addMatcher(e,t){return n.push({matcher:e,reducer:t}),a},addDefaultCase(e){return r=e,a}};return e(a),[t,n,r]}var Dr=Symbol.for("rtk-slice-createasyncthunk");function Fr(e,t){return`${e}/${t}`}function Vr(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Dr];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Jr(11));const a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer(e){return Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Jr(12));if(n in i.sliceCaseReducersByType)throw new Error(Jr(13));return i.sliceCaseReducersByType[n]=t,l},addMatcher(e,t){return i.sliceMatchers.push({matcher:e,reducer:t}),l},exposeAction(e,t){return i.actionCreators[e]=t,l},exposeCaseReducer(e,t){return i.sliceCaseReducersByName[e]=t,l}};function s(){const[t={},n=[],r]="function"==typeof e.extraReducers?Mr(e.extraReducers):[e.extraReducers],a={...t,...i.sliceCaseReducersByType};return function(e,t){let n,[r,a,o]=Mr(t);if("function"==typeof e)n=()=>Lr(e());else{const t=Lr(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...a.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===i.filter((e=>!!e)).length&&(i=[o]),i.reduce(((e,n)=>{if(n){if(Tn(e)){const r=n(e,t);return void 0===r?e:r}if(xn(e))return dr(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return i.getInitialState=n,i}(e.initialState,(e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=a[r],i={reducerName:r,type:Fr(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,a,{type:o,reducerName:i,createNotation:l}=e;if("reducer"in t){if(l&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Jr(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(i,r).exposeAction(i,a?kr(o,a):kr(o))}(i,o,l):function(e,t,n,r){let{type:a,reducerName:o}=e;if(!r)throw new Error(Jr(18));const{payloadCreator:i,fulfilled:l,pending:s,rejected:c,settled:u,options:d}=t,f=r(a,i,d);n.exposeAction(o,f),l&&n.addCase(f.fulfilled,l);s&&n.addCase(f.pending,s);c&&n.addCase(f.rejected,c);u&&n.addMatcher(f.settled,u);n.exposeCaseReducer(o,{fulfilled:l||Ur,pending:s||Ur,rejected:c||Ur,settled:u||Ur})}(i,o,l,t)}));const c=e=>e,u=new Map;let d;function f(e,t){return d||(d=s()),d(e,t)}function p(){return d||(d=s()),d.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return void 0===r&&n&&(r=p()),r}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Rr(u,n,(()=>new WeakMap));return Rr(r,t,(()=>{const r={};for(const[a,o]of Object.entries(e.selectors??{}))r[a]=Br(o,t,p,n);return r}))}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const h={name:n,reducer:f,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t??r;return e.inject({reducerPath:a,reducer:f},n),{...h,...m(a,!0)}}};return h}}function Br(e,t,n,r){function a(a){let o=t(a);void 0===o&&r&&(o=n());for(var i=arguments.length,l=new Array(i>1?i-1:0),s=1;s<i;s++)l[s-1]=arguments[s];return e(o,...l)}return a.unwrapped=e,a}var Hr=Vr();function Ur(){}var jr=Tn;function Wr(e){const t=$r(((t,n)=>e(n)));return function(e){return t(e,void 0)}}function $r(e){return function(t,n){function r(e){return br(t=e)&&Object.keys(t).every(Tr);var t}const a=t=>{r(n)?e(n.payload,t):e(n,t)};return jr(t)?(a(t),t):dr(t,a)}}function zr(e,t){return t(e)}function Yr(e){return Array.isArray(e)||(e=Object.values(e)),e}function Gr(e){return Tn(e)?sr(e):e}function Zr(e,t,n){e=Yr(e);const r=Gr(n.ids),a=new Set(r),o=[],i=[];for(const n of e){const e=zr(n,t);a.has(e)?i.push({id:e,changes:n}):o.push(n)}return[o,i,r]}function Qr(e){function t(t,n){const r=zr(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){e=Yr(e);for(const r of e)t(r,n)}function r(t,n){const r=zr(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function a(e,t){let n=!1;e.forEach((e=>{e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((e=>e in t.entities)))}function o(t,n){const r={},a={};t.forEach((e=>{e.id in n.entities&&(a[e.id]={id:e.id,changes:{...a[e.id]?.changes,...e.changes}})}));if((t=Object.values(a)).length>0){const a=t.filter((t=>function(t,n,r){const a=r.entities[n.id];if(void 0===a)return!1;const o=Object.assign({},a,n.changes),i=zr(o,e),l=i!==n.id;return l&&(t[n.id]=i,delete r.entities[n.id]),r.entities[i]=o,l}(r,t,n))).length>0;a&&(n.ids=Object.values(n.entities).map((t=>zr(t,e))))}}function i(t,r){const[a,i]=Zr(t,e,r);o(i,r),n(a,r)}return{removeAll:Wr((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:$r(t),addMany:$r(n),setOne:$r(r),setMany:$r((function(e,t){e=Yr(e);for(const n of e)r(n,t)})),setAll:$r((function(e,t){e=Yr(e),t.ids=[],t.entities={},n(e,t)})),updateOne:$r((function(e,t){return o([e],t)})),updateMany:$r(o),upsertOne:$r((function(e,t){return i([e],t)})),upsertMany:$r(i),removeOne:$r((function(e,t){return a([e],t)})),removeMany:$r(a)}}function Kr(e,t,n){const r=function(e,t,n){let r=0,a=e.length;for(;r<a;){let o=r+a>>>1;n(t,e[o])>=0?r=o+1:a=o}return r}(e,t,n);return e.splice(r,0,t),e}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{selectId:t,sortComparer:n}={sortComparer:!1,selectId:e=>e.id,...e},r=n?function(e,t){const{removeOne:n,removeMany:r,removeAll:a}=Qr(e);function o(t,n,r){t=Yr(t);const a=new Set(r??Gr(n.ids)),o=t.filter((t=>!a.has(zr(t,e))));0!==o.length&&c(n,o)}function i(t,n){if(0!==(t=Yr(t)).length){for(const r of t)delete n.entities[e(r)];c(n,t)}}function l(t,n){let r=!1,a=!1;for(let o of t){const t=n.entities[o.id];if(!t)continue;r=!0,Object.assign(t,o.changes);const i=e(t);if(o.id!==i){a=!0,delete n.entities[o.id];const e=n.ids.indexOf(o.id);n.ids[e]=i,n.entities[i]=t}}r&&c(n,[],r,a)}function s(t,n){const[r,a,i]=Zr(t,e,n);a.length&&l(a,n),r.length&&o(r,n,i)}const c=(n,r,a,o)=>{const i=Gr(n.entities),l=Gr(n.ids),s=n.entities;let c=l;o&&(c=new Set(l));let u=[];for(const e of c){const t=i[e];t&&u.push(t)}const d=0===u.length;for(const n of r)s[e(n)]=n,d||Kr(u,n,t);d?u=r.slice().sort(t):a&&u.sort(t);const f=u.map(e);(function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(l,f)||(n.ids=f)};return{removeOne:n,removeMany:r,removeAll:a,addOne:$r((function(e,t){return o([e],t)})),updateOne:$r((function(e,t){return l([e],t)})),upsertOne:$r((function(e,t){return s([e],t)})),setOne:$r((function(e,t){return i([e],t)})),setMany:$r(i),setAll:$r((function(e,t){e=Yr(e),t.entities={},t.ids=[],o(e,t,[])})),addMany:$r(o),updateMany:$r(l),upsertMany:$r(s)}}(t,n):Qr(t),a=function(e){return{getInitialState:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;const r=Object.assign({ids:[],entities:{}},t);return n?e.setAll(r,n):r}}}(r),o={getSelectors:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{createSelector:n=Sr}=t,r=e=>e.ids,a=e=>e.entities,o=n(r,a,((e,t)=>e.map((e=>t[e])))),i=(e,t)=>t,l=(e,t)=>e[t],s=n(r,(e=>e.length));if(!e)return{selectIds:r,selectEntities:a,selectAll:o,selectTotal:s,selectById:n(a,i,l)};const c=n(e,a);return{selectIds:n(e,r),selectEntities:c,selectAll:n(e,o),selectTotal:n(e,s),selectById:n(c,i,l)}}};return{selectId:t,sortComparer:n,...a,...o,...r}}var{assign:Xr}=Object;Symbol.for("rtk-state-proxy-original");function Jr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const ea={fragments:null,current:null,stage:null,active:!1},ta=Hr({name:"interactiveContent",initialState:ea,reducers:{cleanUp(e){e.fragments=ea.fragments,e.current=null,e.stage=null},init(e,t){e.fragments=t.payload,e.current=1,e.stage=1},setCurrentFragment(e,t){e.current=t.payload,e.stage&&(e.stage+=1)},setVisibility(e,t){e.active=t.payload}}});function na(e){return e.interactiveContent}const ra=bn(na,(function(e){let{fragments:t}=e;return t})),aa=bn(ra,Boolean),oa=bn(na,(function(e){let{active:t}=e;return t})),ia=bn(aa,na,((e,t)=>{let{current:n}=t;return e&&n?String(n):""})),la=bn(na,(e=>{let{stage:t}=e;return t?String(t):""})),{reducer:sa}=ta,{cleanUp:ca,init:ua,setCurrentFragment:da,setVisibility:fa}=ta.actions,pa=(e,t)=>0===e.length||e.includes(t),ma=(e,t)=>"string"==typeof e?e:t?e.mob:e.web;var ha=function(e){return e.SPACE_BAR="Space",e}(ha||{});const va={common:{1288:"xlg",968:"lg",864:"md",608:"sm",425:"xs",0:"xxs"},stats:{800:"xlarge",600:"large",400:"medium",320:"small",0:"xsmall"}},ya=(e,t)=>{if("number"!=typeof e||!t)return null;const n=va[t],r=Object.keys(n).reverse(),a=r.find(((t,n)=>e>Number(r[n])));return a?n[Number(a)]:null},ga={144:"144p",240:"240p",360:"360p",480:"480p",720:"720p",1080:"1080p",1440:"1440p",2160:"2160p"},_a="auto",ba=e=>t=>{if(!t)return!1;const n=Object.entries(ga).find((e=>{let[,n]=e;return t.value===n}));return!(!n||-1===e.indexOf(n[1]))},Ea=ba(["1080p","1440p"]),wa=ba(["2160p"]),Aa=e=>e.player,Sa=bn(Aa,(e=>e.error)),Ca=bn(Aa,(e=>e.videoId||"")),ka=bn(Aa,(e=>e.disabledFeatures)),Ta=bn(Aa,(e=>e.isEmbed)),xa=bn(Aa,(e=>e.isAutoQuality)),La=bn(Aa,(e=>e.isWaiting)),Ra=bn(Aa,(e=>e.qualities)),Na=bn(Aa,(e=>e.activeQuality)),Pa=bn(Ra,Na,((e,t)=>e.find((e=>{let{level:n}=e;return n===t})))),Ia=bn(Pa,Ea),Oa=bn(Pa,wa),Ma=bn(Aa,(e=>e.embedQuality)),Da=bn(Aa,(e=>e.userSettings.autoplay)),Fa=bn(Aa,oa,((e,t)=>!t&&e.isShowControls)),Va=bn(Aa,(e=>{let{duration:t,progress:n}=e;return n&&t?Math.round(t*n/100):0})),Ba=bn(Aa,(e=>e.isShowCenterControls)),Ha=bn(Aa,(e=>e.isBackgroundView)),Ua=bn(Aa,(e=>e.isVertical)),ja=bn(Aa,(e=>e.infoIcon)),Wa=bn(Aa,(e=>e.showStatsForNerds)),$a=bn(Aa,(e=>e.pepper)),za=bn(Aa,(e=>e.playerMode)),Ga=bn(Aa,(e=>Boolean(e.isFullScreen))),Za=bn(za,(e=>"cinema"===e)),Qa=bn(Aa,(e=>e.shouldShowStartButton&&!e.isStartButtonShowed)),Ka=bn(Aa,(e=>e.isPlaying)),qa=bn(Aa,(e=>e.wasPlayed)),Xa=bn(Aa,(e=>e.embedColor)),Ja=bn(za,(e=>"mini"===e)),eo=bn(Aa,(e=>e.isShowAdvert)),to=bn(Aa,(e=>e.isPreventHideContols)),no=bn(Aa,(e=>e.lastAdvertEvent)),ro=bn(Aa,(e=>e.playerSize)),ao=bn(ro,(e=>ya(e?.width,"common"))),oo=bn(ro,(e=>ya(e?.width,"stats"))),io=bn(Aa,(e=>e.playerCoordinates)),lo=bn(Aa,(e=>e.activePlaybackRate)),so=e=>e.player.ended,co=bn([e=>e.player.embedConfig,Aa,(e,t,n)=>({domain:t,queryParams:n})],((e,t,n)=>{let{domain:r,queryParams:a}=n;if(!e)return null;const{videoId:o}=t;return e.experiments.find((e=>((e,t,n,r)=>{const{domains:a,videoIds:o,queryParams:i}=e;return pa(a,t)&&pa(o,n)&&((e,t)=>0===e.length||e.some((e=>{let{parameter:n,values:r}=e;return t[n]&&r.includes(t[n])})))(i,r)})(e.conditions,r,o,a)))||null})),uo=e=>e.player.isShowPoster,fo=bn(Ta,so,uo,(e=>e.player.playOptions?.appearance),((e,t,n,r)=>e&&!r?.auto_start&&!t&&n)),po=bn(Aa,(e=>e.isTouch)),mo=bn(Aa,(e=>e.isAdultAllowed)),ho=bn(Aa,(e=>e.isEndReached)),vo=bn(Aa,(e=>e.isUserPlayFired)),yo=bn(Aa,(e=>e.isDeletedOrHiddenVideo)),go=bn(Aa,(e=>e.stubType)),_o=bn(Aa,(e=>e.trackId)),bo=bn(Aa,(e=>e.previewUrl||"")),Eo=bn(Aa,(e=>e.previewPosition)),wo=bn(Aa,(e=>e.previewTime)),Ao=bn(Aa,(e=>!e.playOptions?.live_streams?.hls&&-1!==e.previewUrl.indexOf("rutube")&&!e.activePanel)),So=bn([Aa,Ao,La],((e,t,n)=>{if(e.isTouch&&null!==e.previewPosition)return t&&!e.isEndReached||n})),Co=bn(Aa,(e=>e.playerReady)),ko=bn(Aa,(e=>e.isProviderReady)),To=bn(Aa,(e=>e.isStartStatEventSend)),xo=bn(Aa,(e=>e.isShowPlaylistButtons)),Lo=bn(Aa,(e=>e.isShowAdvertTimer)),Ro=bn(Aa,(e=>e.lang)),No=bn(Aa,(e=>e.bufferedSeconds)),Po=bn(Aa,(e=>e.platform)),Io=bn(Aa,(e=>e.isMuted)),Oo=bn(Aa,(e=>e.volume)),Mo=bn(Aa,(e=>e.userId)),Do=bn(Aa,(e=>e.userIsSubscribed)),Fo=bn(Aa,(e=>e.userPaidSubscription?.filter((e=>e.is_active))??[])),Vo=bn(Fo,(e=>e.map((e=>e.subscription_id)))),Bo=bn(Aa,(e=>e.isTouch?e.isShowUnmute:e.isShowUnmute&&e.wasPlayed&&!e.isShowAdvert)),Ho=bn(Aa,(e=>e.UUID)),Uo=bn(Aa,(e=>e.followedLink)),jo=bn(Aa,(e=>e.GUID)),Wo=bn(oa,(e=>{const t=[];return e&&t.push(ha.SPACE_BAR),t})),$o=bn(Aa,(e=>e.canAutoplay)),zo=bn(Aa,(e=>e.controlsAllowed)),Yo=bn(Aa,(e=>e.isLongPress)),Go=bn(Aa,(e=>e.isUserInteracted)),Zo=bn(Aa,(e=>e.isShowSubscribeButton)),Qo=(bn(Aa,(e=>e.visitorId)),bn(Aa,(e=>e.activeChapter))),Ko=bn(Aa,(e=>e.isFullScreen&&e.isShowChapters)),qo=Hr({name:"player",initialState:{isLoaded:!1},reducers:{init:e=>e,setIsLoaded:(e,t)=>{let{payload:n}=t;e.isLoaded=n}}}),{actions:Xo,reducer:Jo}=qo;var ei=n(451),ti=n.n(ei);const ni="raichu-spinner-module__spinner___MNV8J",ri=e=>{let{showDelay:t=100,show:n=!0,className:r}=e;const a=(0,it.useRef)(),[o,i]=it.useState((()=>n));return(0,it.useEffect)((()=>()=>a?.current&&clearTimeout(a.current)),[]),(0,it.useEffect)((()=>{a?.current&&clearTimeout(a.current),n?t?a.current=setTimeout((()=>i(n)),t):i(n):i(!1)}),[t,n]),o?it.createElement("div",{"data-testid":"spinner",className:ti()(ni,r)}):null};const ai=new class{constructor(e){this.externalUserAgent=e}get userAgent(){return this.externalUserAgent?this.externalUserAgent:"object"==typeof window?navigator.userAgent:""}get isAndroid(){return/Android/i.test(this.userAgent)}get isBlackBerry(){return/BlackBerry/i.test(this.userAgent)}get isiOSMobile(){const e="object"==typeof window&&navigator.maxTouchPoints>2;return/iPhone|iPad|iPod/i.test(this.userAgent)||/Macintosh/i.test(this.userAgent)&&e}get isOperaMini(){return/Opera Mini/i.test(this.userAgent)}get isHarmony(){return/HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi/i.test(this.userAgent)}get isFirefox(){return/Firefox/i.test(this.userAgent)}get isMobile(){return this.isAndroid||this.isBlackBerry||this.isiOSMobile||this.isHarmony||this.isOperaMini}},oi=e=>{try{return localStorage.getItem(e)}catch(e){}},ii=(e,t)=>{try{return localStorage.setItem(e,String(t))}catch(e){}},li=e=>{try{return sessionStorage.getItem(e)}catch(e){console.error(e)}},si=(e,t)=>{try{return t?sessionStorage.setItem(e,t):sessionStorage.setItem(e,"")}catch(e){console.error(e)}},ci=e=>{try{return sessionStorage.removeItem(e)}catch(e){console.error(e)}},ui=()=>it.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M23.5425 23.5425L8.45754 8.45757M23.5425 23.5425C25.5429 21.5421 26.6667 18.829 26.6667 16C26.6667 13.1711 25.5429 10.458 23.5425 8.45757C21.5421 6.45718 18.829 5.33337 16 5.33337C13.171 5.33337 10.4579 6.45718 8.45754 8.45757L23.5425 23.5425ZM23.5425 23.5425C21.5421 25.5429 18.829 26.6667 16 26.6667C13.171 26.6667 10.4579 25.5429 8.45754 23.5425C6.45715 21.5421 5.33334 18.829 5.33334 16C5.33334 13.1711 6.45715 10.458 8.45754 8.45757L23.5425 23.5425Z",stroke:"#E1E5EA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var di=n(6043);function fi(e){e()}var pi={notify(){},get:()=>[]};function mi(e,t){let n,r=pi,a=0,o=!1;function i(){c.onStateChange&&c.onStateChange()}function l(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fi((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function s(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=pi)}const c={addNestedSub:function(e){l();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,l())},tryUnsubscribe:function(){o&&(o=!1,s())},getListeners:()=>r};return c}var hi=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),vi=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),yi=(()=>hi||vi?it.useLayoutEffect:it.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var gi=Symbol.for("react-redux-context"),_i="undefined"!=typeof globalThis?globalThis:{};function bi(){if(!it.createContext)return{};const e=_i[gi]??=new Map;let t=e.get(it.createContext);return t||(t=it.createContext(null),e.set(it.createContext,t)),t}var Ei=bi();var wi=function(e){const{children:t,context:n,serverState:r,store:a}=e,o=it.useMemo((()=>{const e=mi(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}}),[a,r]),i=it.useMemo((()=>a.getState()),[a]);yi((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,i]);const l=n||Ei;return it.createElement(l.Provider,{value:o},t)};function Ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;return function(){return it.useContext(e)}}var Si=Ai();function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;const t=e===Ei?Si:Ai(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var ki=Ci();function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;const t=e===Ei?ki:Ci(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var xi=Ti(),Li=(e,t)=>e===t;function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;const t=e===Ei?Si:Ai(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=Li}="function"==typeof n?{equalityFn:n}:n;const a=t(),{store:o,subscription:i,getServerState:l}=a,s=(it.useRef(!0),it.useCallback({[e.name](t){return e(t)}}[e.name],[e])),c=(0,di.useSyncExternalStoreWithSelector)(i.addNestedSub,o.getState,l||o.getState,s,r);return it.useDebugValue(c),c};return Object.assign(n,{withTypes:()=>n}),n}var Ni=Ri(),Pi=fi;const Ii="raichu-iframe-stub-module__iframeWrapper___M46on",Oi=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints>2}catch(e){return!1}},Mi=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/^((?!chrome|android).)*safari/i.test(e)}catch(e){return!1}},Di=()=>{try{return/Android|BlackBerry|HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi|iPhone|iPad|iPod/i.test(window.navigator.userAgent)||/Macintosh/i.test(window.navigator.userAgent)&&window.navigator.maxTouchPoints>2}catch(e){return!1}},Fi="object"==typeof window&&"ontouchstart"in window&&/Linux|Macintosh|Windows/i.test(window.navigator.userAgent),Vi=/mobile?/,Bi="SCTE35-OUT",Hi="EXT-X-DATERANGE",Ui="PLANNED-DURATION",ji=(e,t)=>{let n=[];return n=t?e.filter((e=>e.name.search(Vi)>=0)).map((e=>({...e,name:e.name.replace(Vi,"")}))):e.filter((e=>e.name.search(Vi)<0)),n.map((e=>({...e,isMobile:t})))},Wi=(e,t,n)=>{if(!e)return{};let r=!1;const a=ji(e,n).filter((e=>It.includes(e.name.replace(/\d+/,"")))).map((e=>(e.name.indexOf("midpostroll")>=0&&(r=!0),e.start<0?{...e,start:Math.floor(t+e.start)}:e.name.indexOf("postroll")>=0?{...e,start:Math.floor(t)}:{...e}))).filter((e=>{if(e.name.indexOf("midroll")>=0&&r){return t-e.start>50}return!0}));return[...new Set(a.map((e=>e.start)))].map((e=>({[e]:a.filter((t=>t.start===e))}))).reduce(((e,t)=>({...e,...t})),{})},$i=(e,t)=>{if(!e)return!1;const n=t?/newmobile?/:/newmidroll/;return e.some((e=>e.name.search(n)>=0))},zi=bn([Aa],(e=>!!e.playOptions?.live_streams?.hls)),Yi=bn(Aa,(e=>e.liveInfo)),Gi=bn(Yi,(e=>e.access_status)),Zi=bn(Yi,(e=>e.stream_status)),Qi=(e,t,n)=>{if(e>n)return 1;if(e<t)return 0;return(e-t)/(n-t)},Ki=(e,t)=>e.length<1||null===t?null:e.find((e=>e.start<=t&&e.end>t&&e.end-e.start>=5)),qi=/^([0-9]{1,2}:)?[0-9]{1,2}:[0-9]{1,2} /,Xi=/^[\s\u2010\u2015\u002D\u2212\u2013\uFE58\uFE63\uFF0D]+/,Ji=bn(Aa,(e=>e.playOptions)),el=bn(Aa,(e=>e.time)),tl=bn(Aa,(e=>e.temporaryTime)),nl=bn(Aa,(e=>Math.floor(e.time||0))),rl=bn(Aa,(e=>e.tvStreamDelta)),al=bn(el,rl,((e,t)=>e-t)),ol=bn(nl,tl,((e,t)=>t?t.time:e)),il=bn(Aa,tl,nl,((e,t,n)=>{const r=null!==e.timeAtAdvertStarted?e.timeAtAdvertStarted:t?.time||n;return Math.floor(r)})),ll=bn(tl,(e=>!!e)),sl=bn(Aa,(e=>e.progress||0)),cl=bn(sl,tl,((e,t)=>t?t.progress:e)),ul=bn(Aa,(e=>e.startTime)),dl=bn(Aa,(e=>e.stopTime)),fl=bn(Aa,(e=>Number(e.duration)||0)),pl=bn(Aa,(e=>e.totalViewingTime)),ml=bn(Aa,(e=>e.watchTime)),hl=bn([Ji,fl],((e,t)=>!!e?.live_streams?.hls?.[0]?.is_dvr&&t!==1/0)),vl=bn(Aa,(e=>e.playOptions?.description)),yl=bn([zi,vl],(function(e){if(e)return[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split("\n").filter((e=>qi.test(e))).map((e=>e.trim()))})),gl=bn([yl,cl,fl,No,zi,hl],(function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;const o=t*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/100;let i=[];if(e.length){const t=e[0],n=t.split(" ")[0];i=[{name:t.replace(n,"").replace(Xi,"").trim(),time:0}]}else i=[{name:"",time:0}];for(let n=1;n<e.length;n++){const r=e[n].match(qi)?.[0]||"",a=Ee(r),o=a-(i.length>0?i[i.length-1].time:0),l=n===e.length-1&&t-a<=5;o>=5&&!l&&i.push({time:a,name:e[n].replace(r,"").replace(Xi,"").trim()})}i.push({time:t,name:""});const l=[];for(let e=1;e<i.length;e++){const s=i[e-1].name,c=i[e-1].time,u=Math.min(i[e].time,t);if(c<t){let e=0;const i=Qi(n,c,u),d=l.reduce(((e,t)=>{let{width:n}=t;return e+n}),0),f=t===1/0?100:u/t*100-d;o>c&&(e=(o-c)/(u-c)),(o>u||r&&!a)&&(e=1),l.push({name:s,start:c,end:u,width:f,progress:e,buffered:i})}}return l})),_l=bn([gl,ol],((e,t)=>Ki(e,t))),bl=bn(gl,(e=>e.length));let El;El=pn;const wl=El,Al=bn(Aa,(e=>e.playOptions)),Sl=bn([Al,fl],((e,t)=>{if(!e)return[];const n=e.advert;return Wi(n,t,e?.mobile)})),Cl=bn(Aa,(e=>e.advertState)),kl=bn(Cl,(e=>e.duration)),Tl=bn(Cl,(e=>e.skipDuration)),xl=bn(Cl,(e=>e.isPlaying)),Ll=bn(Cl,(e=>e.id)),Rl=bn(Cl,(e=>e.vastBase64)),Nl=bn(Cl,(e=>e.ownerId)),Pl=bn(Aa,(e=>e.limitAdverts||{})),Il=bn(Aa,(e=>e.advertPreloading)),Ol=bn(Aa,(e=>e.showAdvertTimer)),Ml=bn(Aa,(e=>e.advert)),Dl=bn([Al],(e=>((e,t)=>e?t?e.filter((e=>e.name.search(Vi)>=0)).map((e=>({...e,name:e.name.replace(Vi,"")}))):e.filter((e=>e.name.search(Vi)<0)):[])(e?.limits,e?.mobile))),Fl=bn([Ml,nl,zi],((e,t,n)=>{if(!e)return[];for(const r of Object.keys(e).reverse())if(+r===t||n){const t=e[r].filter((e=>e.name?.indexOf("overlay")>=0));if(t.length>0)return t}return e?.[!n&&t?t:0]||[]})),Vl=bn(Aa,(e=>e.viewedAdverts||[])),Bl=(bn(Fl,Vl,((e,t)=>e&&window.ya?e.filter((e=>!t.includes(e.name))):[])),bn(Aa,(e=>e.lastTtMidrollTime))),Hl=bn(Ml,pl,Al,Dl,zi,Bl,((e,t,n,r,a,o)=>{if(!e||a||null===t)return[];const i=n?.mobile;if(0===t)return e[i?"mobilpreroll":"preroll"];const l=r.find((e=>e?.name.indexOf("newmidroll")>-1));return l&&((e,t,n)=>{if(!t||n===e)return!1;let r=t.first_period_freq,a=e%r==0;return e>t.end_first_period&&(r=t.second_period_freq,a=(e-t.end_first_period)%r==0),a})(t,l,o)?e.newmidroll:null})),Ul=bn(Hl,Vl,((e,t)=>e?.length&&window.ya?t.includes(e[0]?.name)?[]:e:[])),jl=bn(Ml,Vl,il,((e,t,n)=>{let r;for(let a=0;a<=5;a++)if(r=n+a,r>=0&&e&&e[r])return e[r].filter((e=>!t.includes(e.name)));return[]})),Wl=bn(jl,Po,Dl,Pl,((e,t,n,r)=>{if("player-carousel"===t)return null;const a=e?.[0];if(a&&r){const e=a.name.replace(/\d+/,""),t=e&&r[e],o=n.find((t=>t.name===e));if(o&&t&&o.limit<=t)return null}return a})),$l=bn(jl,Ga,Po,Dl,Pl,((e,t,n,r,a)=>{if(Oi()&&t||"player-carousel"===n)return 0;const o=e?.[0];if(o&&a){const t=o.name.replace(/\d+/,""),n=(t&&a[t])??0,i=r.find((e=>e.name===t));if(i&&"number"==typeof n){const t=Math.min(e.length,i.limit-n);return t>0?t:0}}return 0})),zl=bn(Ul,Ga,Po,((e,t,n)=>Oi()&&t||"player-carousel"===n?null:e?.[0])),Yl=_n(wl,((e,t)=>e?.name===t?.name))(Wl,(e=>e)),Gl=bn(Al,(e=>$i(e?.advert,e?.mobile))),Zl=bn(Yl,zl,Gl,((e,t,n)=>n?t:e)),Ql=bn([Al],(e=>e?.advert?e.advert.reduce(((e,t)=>(e[t.name]=t,e)),{}):{})),Kl=(bn([Sl,nl],((e,t)=>null!==t?e[t]:[])),bn([Pa],(e=>({desiredBitrate:e?.bitrate?Math.round(e.bitrate/1e3):3975,height:e?.height??720,width:e?.width??1280})))),ql=bn(Aa,(e=>e.wasMutedBeforeAdvert));let Xl=function(e){return e.Video="video",e.HLS="hls",e.IFrame="iframe",e.Json="json",e}({});const Jl=e=>e.player.playOptions,es=bn([Jl],(e=>String(e?.viewer||""))),ts=bn([Jl],(e=>"broadcast"===e?.stream_type)),ns=bn([Jl],(e=>"stream_pull"===e?.stream_type)),rs=bn([Jl],(e=>"brdcast_tag"===e?.stream_type)),as=bn([rs,ts],((e,t)=>e||t)),os=bn([Jl],(e=>"stream_push"===e?.stream_type)),is=e=>[...e?.stat||[],...e?.stat_api||[]].reduce(((e,t)=>(e[t.name]=e[t.name]||[],e[t.name].push(t),e)),{}),ls=bn([Jl],(e=>is(e))),ss=bn([Jl],(e=>(e=>(e?.stat_api||[]).reduce(((e,t)=>(e[t.name]=e[t.name]||[],e[t.name].push(t),e)),{}))(e))),cs=bn([Jl],(e=>Boolean(e?.detail))),us=bn([Jl],(e=>e?.title)),ds=bn([Jl],(e=>e?.video_url)),fs=bn([Jl],(e=>e?.thumbnail_url)),ps=bn([fs,ro,eo],((e,t,n)=>{if(n)return{};const r={backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center"};var a,o;return t?.width&&e&&!n&&(r.backgroundImage=(a=e,o=t.width,`-webkit-image-set(${[1,1.5,2,3].map((e=>`url("${a}?width=${Math.floor(o*e)}") ${e}x`)).join(", ")})`)),r})),ms=bn([Jl],(e=>e?.author?.logo)),hs=bn([Jl],(e=>e?.black_rabbit)),vs=bn([Jl],(e=>{if(e?.live_streams?.hls)return{m3u8:e.live_streams.hls?.[0]?.url};if(e?.video_balancer_vertical?.m3u8)return e?.video_balancer_vertical;const t=e?.video_balancer;return t?.m3u8||t?.json?e?.video_balancer:void 0})),ys=bn([vs],(e=>e?.m3u8)),gs=bn(vs,(e=>e?.json)),_s=bn([Jl],(e=>e?.iframe_url)),bs=bn([ys,gs,_s],((e,t,n)=>e?[Xl.HLS,e]:n?[Xl.IFrame,n]:t?[Xl.Video,t]:[void 0,void 0])),Es=bn([Jl],(e=>"iframe"===e?.player)),ws=bn([as,hl,zi,aa],((e,t,n,r)=>!r&&(!n||t&&!e))),As=bn([Jl],(e=>!!e?.is_spatial)),Ss=bn(Jl,(e=>e&&e?.detail?.image)),Cs=bn(Jl,(e=>e?.detail?.url)),ks=bn([Jl],(e=>e?.detail?.languages?.map((e=>e.lang)))),Ts=bn([Jl,Ro],((e,t)=>e?.detail?.languages?.find((e=>e.lang===t)))),xs=bn(Jl,(e=>e?.detail?.product_codes)),Ls=bn(Jl,(e=>e?.detail?.name)),Rs=bn([Jl],(e=>Boolean(e?.video_balancer_vertical&&(e?.video_balancer_vertical?.default||e?.video_balancer_vertical?.json||e?.video_balancer_vertical?.m3u8)))),Ns=bn([ls,fl],((e,t)=>e&&e.statevent&&t?e.statevent.reduce(((e,n)=>{let r=n.start,a=n.count;for(;r<t&&a>0;)e[r]=e[r]||[],e[r].push(n),r+=n.delay,a-=1;return e}),{}):{})),Ps=bn([ls],(e=>e&&e.heartbeat&&e.watchtime?[...e.heartbeat,...e.watchtime]:[])),Is=bn([ls],(e=>(e&&e.statevent?[...e.statevent]:[]).map(((e,t)=>({...e,id:t}))))),Os=bn(bs,Zl,eo,zi,Vl,((e,t,n,r,a)=>{let[o,i]=e;return!!o&&(!!r||(!!t&&a.includes(t.name)||!n&&!t?.name?.includes("preroll")||!!t&&t?.name?.includes("overlay")))})),Ms=bn([Jl],(e=>{if(e?.tv?.id)return{id:e?.tv?.id,name:e?.tv?.name,avatar:e?.tv?.appearance?.avatar_image,type:"tv"}})),Ds=bn([Jl],(e=>({id:e?.author?.id,name:e?.author?.name,avatar:e?.author?.avatar_url,type:"userchannel"}))),Fs=bn([Jl,Ta],((e,t)=>{const n=e?.author?.url;return t?n?.replace("/video/person/","/channel/"):n})),Vs=bn([Ms,Ds],((e,t)=>e||t)),Bs=e=>e.player.playbackRates,Hs=bn(Jl,(e=>e?.captions)),Us=bn(Jl,(e=>e?.pg_rating)),js=bn(Us,(e=>e?.age)),Ws=bn(Jl,js,((e,t)=>!!(e?.category?.id&&Dt.includes(e.category.id)&&e.is_licensed&&(e.is_adult||t&&t>=16)))),$s=(e,t,n)=>{if(!e&&!t)return 0;return n&&e?e/$t:(e&&(e&&t&&(e/t==.5625||t>e))?e:t)||0},zs=(e,t)=>{const n=Object.keys(ga),r=!(!t||!e)&&t/e>parseFloat($t.toFixed(1));for(let a=1;a<n.length;a++){const o=+n[a-1],i=+n[a];if($s(t,e,r)<=o+(i-o)/2)return ga[o]}const a=Number(n[n.length-1]);return ga[a]},Ys={access_status:null,dt:null,hide_chat:!1,hide_comments:!1,stream_status:null,title:"",description:"",is_donate_allowed:!1,is_adult:!1,category:{id:null,name:"",category_url:""}},Gs={duration:null,skipDuration:null,isPlaying:!1,id:"",requestTimestamp:null,vastBase64:null,ownerId:null},Zs={playOptions:null,embedConfig:null,distributionInfo:null,statistics:null,videoId:"",endScreenContent:null,hideEndScreen:!1,isEndScreenVisible:!1,isWaiting:!1,shouldShowStartButton:!1,isStartButtonShowed:!1,isShowAdvertTimer:!1,progress:null,isPlaying:!1,isMuted:!1,isFullScreen:!1,isStartStatEventSend:!1,isShowUnmute:!1,isTouch:!1,bytesLoadedForCurrentVideo:0,volume:1,time:0,temporaryTime:null,timeAtAdvertStarted:null,fragmentTime:null,fragmentCurrentTime:null,tvStreamDelta:0,watchTime:0,totalViewingTime:0,duration:null,playerMode:"default",infoIcon:null,showStatsForNerds:!1,isShowControls:!0,isPreventHideContols:!1,isShowCenterControls:!0,isShowSettings:!1,isBackgroundView:!1,qualities:[],activeQuality:-1,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],activePlaybackRate:1,bufferedTime:null,isShowPlaylistButtons:!1,isShowCinemaMode:!1,isShowMiniPlayer:!1,isPrevBtnShow:!1,isNextBtnShow:!1,ended:!1,isEmbed:!1,isPlayerCarousel:!1,lang:wt,isDeletedOrHiddenVideo:!1,isAutoQuality:!0,isShowAdvert:!1,playerUrl:null,stubType:null,isAdultAllowed:!1,liveInfo:{...Ys},GUID:"",UUID:"",gaCid:"",yclid_p:"",movieIndex:0,isFirstQuartileReached:!1,isSecondQuartileReached:!1,isThirdQuartileReached:!1,isEndReached:!1,activePanel:null,isLoaded:!1,pepper:null,trackId:"",embedQuality:"",embedColor:"",isAdminMode:!1,platform:"",userId:null,userIsSubscribed:!1,isPlayed:!1,bufferedSeconds:0,previewUrl:"",previewPosition:null,previewTime:null,isUserPlayFired:!1,isStatEventsShow:{},statsEventsLaunches:{},advert:null,viewedAdverts:[],limitAdverts:{},advertPreloading:!1,showAdvertTimer:!1,followedLink:null,followedResourceId:null,playerReady:!1,error:"",lastAdvertEvent:null,lastTtMidrollTime:null,liveMidrollState:{needToPrefetch:!1,startPlay:!1,duration:null,active:!1,isPlaying:!1,showPreroll:!0},advertState:{...Gs},startTime:null,stopTime:null,segments:"",captionsSettings:{show:null,textSettings:{color:"#ffffff",size:"medium"},backgroundSettings:{color:"#000000",opacity:7}},captions:null,savedCaptions:null,activeCaption:null,isShowPoster:!0,userSettings:{autoplay:!0},isVertical:!1,playerSize:null,playerCoordinates:null,pauseRecsAllowed:!1,pauseRecsHidden:!1,pauseRecsActive:!1,wasPlayed:!1,disabledFeatures:{},playlistId:null,canAutoplay:!1,wasMutedBeforeAdvert:!1,controlsAllowed:!0,isLongPress:!1,isUserInteracted:!1,isShowSubscribeButton:!0,visitorId:"",userPaidSubscription:null,isProviderReady:!1,activeChapter:null,isShowChapters:!1},Qs=Hr({name:"player",initialState:Zs,reducers:{loadPlayOptions:(e,t)=>e,startPlay:(e,t)=>e,onVideoStart:e=>{e.wasPlayed=!0},setIsStartStatEventSend:(e,t)=>{let{payload:n}=t;e.isStartStatEventSend=n},setLastAdvertEvent:(e,t)=>{let{payload:n}=t;e.lastAdvertEvent=n},setProgress:(e,t)=>{let{payload:n}=t;e.progress=n},setPlaying:(e,t)=>{let{payload:n}=t;e.isPlaying=n},setMuted:(e,t)=>{let{payload:n}=t;e.isMuted=n},setVolume:(e,t)=>{let{payload:n}=t;e.volume=n},incrementBytes:(e,t)=>{let{payload:n}=t;e.bytesLoadedForCurrentVideo+=n},resetBytes:e=>{e.bytesLoadedForCurrentVideo=0},setError:(e,t)=>{let{payload:n}=t;e.error=n},setPlaylistId:(e,t)=>{let{payload:n}=t;e.playlistId=n},setTime:(e,t)=>{let{payload:n}=t;"number"==typeof n&&(e.time=n)},setFragmentTime:(e,t)=>{let{payload:n}=t;e.fragmentTime=n,e.fragmentCurrentTime=n},setTVStreamDelta:(e,t)=>{let{payload:n}=t;e.tvStreamDelta=n},setTimeAndProgress:(e,t)=>e,setTemporaryTime:(e,t)=>{let{payload:n}=t;e.temporaryTime=null!==n?{time:n,progress:n/Number(e.duration)*100}:n},setTimeAtAdvertStarted:(e,t)=>{let{payload:n}=t;e.timeAtAdvertStarted=n},setAdvertPreloading:(e,t)=>{let{payload:n}=t;e.advertPreloading=n},setShowAdvertTimer:(e,t)=>{let{payload:n}=t;e.showAdvertTimer=n},incrementWatchTime:e=>{e.watchTime+=1,e.fragmentCurrentTime&&(e.fragmentCurrentTime+=1e3),e.watchTime>=6&&(e.pauseRecsAllowed=!0)},incrementTVT:function(e){e.totalViewingTime+=1},setTotalViewingTime:(e,t)=>{let{payload:n}=t;e.totalViewingTime=n},resetWatchTime:e=>{e.watchTime=0},setDurationAndProgress:(e,t)=>e,setDuration:(e,t)=>{let{payload:n}=t;"number"==typeof n&&(e.duration=n)},setFullscreen:(e,t)=>{let{payload:n}=t;e.isFullScreen=n},setIsWating:(e,t)=>{let{payload:n}=t;e.isWaiting=n},setEndScreenContent:(e,t)=>{let{payload:n}=t;e.endScreenContent=n},hideEndScreen:(e,t)=>{let{payload:n}=t;e.hideEndScreen=n},setEndScreenVisible:(e,t)=>{let{payload:n}=t;e.isEndScreenVisible=n},setTouchDevice:(e,t)=>{let{payload:n}=t;e.isTouch=n},initActiveRate:(e,t)=>{let{payload:n}=t;e.activePlaybackRate=n},setShouldShowStartButton:(e,t)=>{let{payload:n}=t;e.shouldShowStartButton=n,n&&(e.isShowCenterControls=!1)},setStartButtonShowed:(e,t)=>{let{payload:n}=t;e.isStartButtonShowed=n,!e.isStartButtonShowed||e.temporaryTime||e.isShowCenterControls||(e.isShowCenterControls=!0)},setShowUnmute:(e,t)=>{let{payload:n}=t;e.isShowUnmute=n},setIsPreventHideControls:(e,t)=>{let{payload:n}=t;e.isPreventHideContols=n},setActiveRate:(e,t)=>{let{payload:n}=t;e.activePlaybackRate=n},setActiveQuality:(e,t)=>{let{payload:n}=t;e.activeQuality=n.level},setAutoQuality:(e,t)=>{let{payload:n}=t;e.isAutoQuality=n},setQualities:(e,t)=>{let{payload:n}=t;const r=[{level:-1,value:_a}],a=n.filter((e=>e.height)).map(((e,t)=>({value:e.height?zs(e.height,e.width):_a,height:e.height,width:e.width,level:t,bitrate:e.bitrate,frameRate:e.frameRate,edge:e.edge,isAuto:e.isAuto}))).sort(((e,t)=>{if(t.height&&e.height){if(e.height<t.height)return 1;if(t.height<e.height)return-1}return 0}));r.push(...a),e.qualities=r},showStatsForNerds:e=>{e.showStatsForNerds=!0},hideStatsForNerds:e=>{e.showStatsForNerds=!1},setInfoIcon:(e,t)=>{let{payload:n}=t;e.infoIcon={...n,updatedAt:n.updatedAt??(new Date).getTime()}},clearInfoIcon:e=>{e.infoIcon=null},changePlayerMode:(e,t)=>{let{payload:n}=t;e.playerMode=n},setPlayerMode:(e,t)=>e,setBufferedTime:(e,t)=>{let{payload:n}=t;e.bufferedTime=n},setBufferedSeconds:(e,t)=>{let{payload:n}=t;e.bufferedSeconds=n},setNextBtnShow:(e,t)=>{let{payload:n}=t;e.isNextBtnShow=n},setPrevBtnShow:(e,t)=>{let{payload:n}=t;e.isPrevBtnShow=n},setShowPlaylistBtns:(e,t)=>{let{payload:n}=t;e.isShowPlaylistButtons=n},setShowControls:(e,t)=>{let{payload:n}=t;e.isShowControls=n,e.isShowControls&&!e.isShowCenterControls&&(e.isShowCenterControls=!0)},setShowCenterControls:(e,t)=>{let{payload:n}=t;e.isShowCenterControls=n},setEnded:(e,t)=>{let{payload:n}=t;e.ended=n,n&&(e.wasPlayed=!1,e.isShowUnmute=!1)},setEmbed:(e,t)=>{let{payload:n}=t;e.isEmbed=n},setPlayerCarousel:(e,t)=>{let{payload:n}=t;e.isPlayerCarousel=n},setLang:(e,t)=>{let{payload:n}=t;e.lang=n},setVideoId:(e,t)=>{let{payload:n}=t;e.videoId=n},setDeletedOrHiddenVideo:(e,t)=>{let{payload:n}=t;e.isDeletedOrHiddenVideo=n},setEmbedConfig:(e,t)=>{let{payload:n}=t;e.embedConfig=n},setPlayOptions:(e,t)=>{let{payload:n}=t;e.playOptions=n},setPlayOptionsAutoplay:(e,t)=>{let{payload:n}=t;e.playOptions&&(e.playOptions.appearance||(e.playOptions.appearance={}),e.playOptions.appearance.auto_start=n)},setStatistics:(e,t)=>{let{payload:n}=t;e.statistics=n},setDistributionInfo:(e,t)=>{let{payload:n}=t;e.distributionInfo=n},setShowAdvert:(e,t)=>{let{payload:n}=t;e.isShowAdvert=n},setPlayerUrl(e,t){let{payload:n}=t;e.playerUrl=n},setGUID(e,t){let{payload:n}=t;e.GUID=n},setUUID(e,t){let{payload:n}=t;e.UUID=n},setGaCid(e,t){let{payload:n}=t;e.gaCid=n},setParentYclid(e,t){let{payload:n}=t;e.yclid_p=n},incrementMovieIndex(e){e.movieIndex+=1},setFirstQuartileReached:(e,t)=>{let{payload:n}=t;e.isFirstQuartileReached=n},setSecondQuartileReached:(e,t)=>{let{payload:n}=t;e.isSecondQuartileReached=n},setThirdQuartileReached:(e,t)=>{let{payload:n}=t;e.isThirdQuartileReached=n},setEndReached:(e,t)=>{let{payload:n}=t;e.isEndReached=n},trackStat:(e,t)=>e,registerStatLaunch:(e,t)=>{let{payload:n}=t;const r=n.eventName;e.statsEventsLaunches={...e.statsEventsLaunches,[r]:"number"==typeof e.statsEventsLaunches[r]?e.statsEventsLaunches[r]+1:1}},trackIntervalEvent:(e,t)=>e,sendStat:(e,t)=>e,sendYm:(e,t)=>e,sendClickEvent:(e,t)=>e,setAdultAllowed(e,t){let{payload:n}=t;e.isAdultAllowed=n},setStubType(e,t){let{payload:n}=t;e.stubType=n},setLiveInfo(e,t){let{payload:n}=t;e.liveInfo=n},resetLiveInfo(e){e.liveInfo={...Ys}},setActivePanel(e,t){let{payload:n}=t;e.activePanel=n},setLoaded(e,t){let{payload:n}=t;e.isLoaded=n},setPepper(e,t){let{payload:n}=t;e.pepper=n},setTrackId(e,t){let{payload:n}=t;e.trackId=n},setEmbedQuality(e,t){let{payload:n}=t;e.embedQuality=n},setEmbedColor(e,t){let{payload:n}=t;e.embedColor=n},setIsAdminMode(e,t){let{payload:n}=t;e.isAdminMode=n},setPlatform(e,t){let{payload:n}=t;e.platform=n},setShowPoster(e,t){let{payload:n}=t;e.isShowPoster=n},setPreviewUrl(e,t){let{payload:n}=t;e.previewUrl=n},setPreviewTime(e,t){let{payload:n}=t;e.previewTime=n},setPreviewPosition(e,t){let{payload:n}=t;e.previewPosition=n},setUserPlayFired(e,t){let{payload:n}=t;e.isUserPlayFired=n},setStatEventsShow(e,t){let{payload:n}=t;e.isStatEventsShow=n},setStatsEventsLaunches(e,t){let{payload:n}=t;e.statsEventsLaunches=n},upStatsEventsLaunches(e,t){let{payload:n}=t;e.statsEventsLaunches={...e.statsEventsLaunches,[n]:e.statsEventsLaunches[n]?e.statsEventsLaunches[n]+1:0}},setAdvert(e,t){let{payload:n}=t;e.advert=n},addViewedAdverts(e,t){let{payload:n}=t;e.viewedAdverts=[...e.viewedAdverts||[],n]},setViewedAdverts(e,t){let{payload:n}=t;e.viewedAdverts=n},removeViewedAdvert(e,t){let{payload:n}=t;e.viewedAdverts=e.viewedAdverts.filter((e=>e!==n))},setLimitAdverts(e,t){let{payload:n}=t;e.limitAdverts=n},setFollowedLink(e,t){let{payload:n}=t;e.followedLink=n},setFollowedResourceId(e,t){let{payload:n}=t;e.followedResourceId=n},setUserId(e,t){let{payload:n}=t;e.userId=n??null},setUserSubscribed(e,t){let{payload:n}=t;e.userIsSubscribed=n},setPlayerReady(e,t){let{payload:n}=t;e.playerReady=n},setLastTtMidrollTime(e){e.lastTtMidrollTime=e.totalViewingTime},setLiveMidrollState(e,t){let{payload:n}=t;e.liveMidrollState=n},setLiveMidrollNeedTorPrefetch(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,needToPrefetch:n}},setLiveMidrollStartPlay(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,startPlay:n}},setLiveMidrollDuration(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,duration:n}},setLiveMidrollActive(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,active:n}},setLiveMidrollIsPlaying(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,isPlaying:n}},setLiveMidrollShowPreroll(e,t){let{payload:n}=t;e.liveMidrollState={...e.liveMidrollState,showPreroll:n}},setAdvertDuration(e,t){let{payload:n}=t;e.advertState.duration=n},setAdvertSkipDuration(e,t){let{payload:n}=t;e.advertState.skipDuration=n},setAdvertRequestTimestamp(e,t){let{payload:n}=t;e.advertState.requestTimestamp=n},setAdvertIsPlaying(e,t){let{payload:n}=t;e.advertState.isPlaying=n},setAdvertId(e,t){let{payload:n}=t;e.advertState.id=n},setAdvertVast(e,t){let{payload:n}=t;e.advertState.vastBase64=n},setAdvertOwnerId(e,t){let{payload:n}=t;e.advertState.ownerId=n},setBackgroundView(e,t){let{payload:n}=t;e.isBackgroundView=n},resetAdvertState(e){e.advertState={...Gs}},loadEmbedConfig:e=>e,getPlaybackTimings:(e,t)=>e,setStartTime(e,t){let{payload:n}=t;e.startTime=n},setStopTime(e,t){let{payload:n}=t;e.stopTime=n},setPuidSegments(e,t){let{payload:n}=t;e.segments=n},setIsAdvertTimerShowing(e,t){let{payload:n}=t;e.isShowAdvertTimer=n},initPuidSegments(e){return e},getPuidSegments(e){return e},setSavedCaptions(e,t){let{payload:n}=t;e.savedCaptions=n},setActiveCaption(e,t){let{payload:n}=t;e.activeCaption=n},setPlayerCaptions(e,t){let{payload:n}=t;e.captions=n},setCaptionSettingsShow(e,t){let{payload:n}=t;e.captionsSettings.show=n},setCaptionSettingsTextColor(e,t){let{payload:n}=t;e.captionsSettings.textSettings.color=n},setCaptionTextSize(e,t){let{payload:n}=t;e.captionsSettings.textSettings.size=n},setCaptionSettingsBackgroundColor(e,t){let{payload:n}=t;e.captionsSettings.backgroundSettings.color=n},setCaptionSettingsBackgroundOpacity(e,t){let{payload:n}=t;e.captionsSettings.backgroundSettings.opacity=n},resetCaptionSettingToInitial(e){e.captionsSettings={...Zs.captionsSettings,show:!0}},resetCaptionSettings:e=>e,setCaptionVisibility:(e,t)=>e,setCaptionColor:(e,t)=>e,setCaptionBackgroundColor:(e,t)=>e,setCaptionBackgroundOpacity:(e,t)=>e,setCaptionSize:(e,t)=>e,setSavedSubs:(e,t)=>e,deleteSavedSubs:(e,t)=>e,setAllAndActiveCaptionsState:(e,t)=>e,initCaptions:e=>e,setAutoplay(e,t){let{payload:n}=t;e.userSettings.autoplay=n},setIsVertical(e,t){let{payload:n}=t;e.isVertical=n},setPlayerSize(e,t){let{payload:n}=t;e.playerSize=n},setPlayerCoordinates(e,t){let{payload:n}=t;e.playerCoordinates=n},setPauseRecsHidden(e,t){let{payload:n}=t;e.pauseRecsHidden=n},setPauseRecsActive(e,t){let{payload:n}=t;e.pauseRecsActive=n},setDisabledFeatures(e,t){let{payload:n}=t;e.disabledFeatures={},n.forEach((t=>{e.disabledFeatures[t]=!0}))},setCanAutoplay(e,t){let{payload:n}=t;e.canAutoplay=n},setWasMutedBeforeAdvert(e,t){let{payload:n}=t;e.wasMutedBeforeAdvert=n},setControlsAllowed(e,t){let{payload:n}=t;e.controlsAllowed=n},setIsShowSubscribeButton(e,t){let{payload:n}=t;e.isShowSubscribeButton=n},setIsLongPress(e,t){let{payload:n}=t;e.isLongPress=n},setUserInteracted(e,t){let{payload:n}=t;e.isUserInteracted=n},setVisitorId(e,t){let{payload:n}=t;e.visitorId=n},setUserPaidSubscription(e,t){let{payload:n}=t;e.userPaidSubscription=n},setIsProviderReady(e,t){let{payload:n}=t;e.isProviderReady=n},setActiveChapter(e,t){let{payload:n}=t;e.activeChapter=n},setShowChapters(e,t){let{payload:n}=t;e.isShowChapters=n},reset(e){["activePanel","wasPlayed","isPlaying","time","fragmentTime","fragmentCurrentTime","tvStreamDelta","watchTime","duration","qualities","ended","activeQuality","bufferedTime","endScreenContent","isEndScreenVisible","shouldShowStartButton","isStartButtonShowed","isAutoQuality","isShowUnmute","isShowSettings","isShowControls","isDeletedOrHiddenVideo","playOptions","embedConfig","statistics","isShowAdvert","progress","isStartStatEventSend","isFirstQuartileReached","isSecondQuartileReached","isThirdQuartileReached","isEndReached","isLoaded","pepper","trackId","isUserPlayFired","isStatEventsShow","advert","viewedAdverts","limitAdverts","bufferedSeconds","statsEventsLaunches","playerReady","followedLink","error","lastAdvertEvent","liveMidrollState","advertState","captions","activeCaption","isShowPoster","previewTime","previewPosition","previewUrl","startTime","hideEndScreen","pauseRecsAllowed","pauseRecsActive","advertPreloading","showAdvertTimer","isUserInteracted","previewUrl","isProviderReady","isShowChapters"].forEach((t=>{e[t]=Zs[t]}))}}});const Ks=Qs.actions,qs=Qs.reducer,Xs=()=>{const e=xi(),t=Ni(Ca),n=Ni(Jl),{detail:r}=n||{},{access_url:a}=r||{},[o,i]=(0,it.useState)(!1),l=(0,it.useCallback)((()=>{e(Ks.loadPlayOptions({videoId:t,incrementIndex:!1}))}),[e,t]);return(0,it.useEffect)((()=>{const e=e=>{let t;t=e.data;try{t=JSON.parse(t)}catch(e){}const n=t&&"string"!=typeof t&&t.type?t.type:t;"frame:loaded"===n?i(!0):"frame:checkOptions"===n&&setTimeout(l,1e3)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[l]),a?it.createElement(it.Fragment,null,it.createElement("div",{className:Ii,style:{opacity:o?1:0}},it.createElement("iframe",{src:a,title:t})),!o&&it.createElement(ri,null)):null},Js="raichu-stub-manager-module__mini___atEJC",ec="raichu-stub-wrapper-module__stub___ltX7P",tc="raichu-stub-wrapper-module__blurry___JTwjy",nc="raichu-stub-wrapper-module__body___zqoDF",rc="raichu-stub-wrapper-module__title___CdUdD",ac="raichu-stub-wrapper-module__description___WCW4e",oc="raichu-stub-wrapper-module__buttons___g9eWQ",ic="raichu-stub-wrapper-module__button___wG39o",lc="raichu-stub-wrapper-module__header___PKebL",sc="raichu-stub-wrapper-module__lang___j54uU",cc="raichu-stub-wrapper-module__active___Z9Zxh",uc="raichu-stub-wrapper-module__mail___DtLjx",dc=e=>{const{backgroundColor:t,help:n,title:r,description:a="",btnText:o,onBtnClick:i,backgroundImage:l,isBlurred:s=!1}=e,c=xi(),u=Ni(Ro),d=Ni(ks),f=e=>{c(Ks.setLang(e))};return it.createElement("div",{"data-testid":"stub",className:ti()(ec,{[tc]:s}),style:{backgroundImage:`url(${l})`}},it.createElement("div",{className:lc},it.createElement("div",null,it.createElement("a",{href:"mailto:help@rutube.ru",className:uc,target:"_blank",rel:"noreferrer"},n)),it.createElement("div",null,(!d||d?.includes(wt))&&it.createElement("span",{onClick:()=>f(wt),className:ti()(sc,{[cc]:u===wt})},"Rus"),(!d||d?.includes(At))&&it.createElement("span",{onClick:()=>f(At),className:ti()(sc,{[cc]:u===At})},"Eng"))),it.createElement("div",{className:nc},r&&it.createElement("div",{className:rc},r),a&&it.createElement("div",{className:ac},a),o&&i&&it.createElement("div",{className:oc},it.createElement("button",{className:ic,type:"button",onClick:i,style:{backgroundColor:t}},o))))},fc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==typeof window)try{window.parent.postMessage(JSON.stringify({type:e,data:{...t,playerId:"video_frame"}}),"*")}catch(e){console.warn(e)}},pc=e=>new URL(e,window.location.href).origin,mc={[Gt.PRY]:"/feeds/subs/1/",[Gt.RUTUBE]:"/feeds/subs/2/"},hc=e=>{const{backgroundColor:t,backgroundImage:n,description:r,help:a,title:o,urlTitle:i,videoId:l}=e,s=Ni(Ta),c=Ni(xs),u=Ni(_o),d=Ni(ds)||"",f=Ni(Ls),p=c&&c.length>0?c[0]:null,m=s?u:l,h=m?`/api/video/${m}/thumbnail/?redirect=1`:n,v=i||"Оформить";(0,it.useEffect)((()=>{const e=p&&f?{productCode:p,name:f}:void 0;fc(zt.SUBSCRIBE_BUTTON_SHOW,e)}),[p,f]);return it.createElement(dc,{help:a,title:o,description:r,backgroundImage:h,backgroundColor:t,btnText:v,onBtnClick:()=>{if(s){const e=p?mc[p]:null,t=pc(d);e&&window.open(`${t}${e}`,"_blank")}else{const e=p&&f?{productCode:p,place:"stub",name:f}:void 0;fc(zt.SUBSCRIPTION_REQUEST,e)}},isBlurred:Boolean(p)})},vc=bn([e=>e.player.playOptions],(e=>e?.appearance||{})),yc=bn(vc,(e=>!!e?.show_endscreen)),gc=bn([vc,zo],((e,t)=>!e.forbid_html_controls&&t)),_c=bn([vc,Xa],((e,t)=>e.color||t?`#${t||e.color}`:"var(--pen-accent)")),bc=(bn([vc],(e=>e.allow_auto_seek&&window.location.search.indexOf("t=")<0)),bn([vc,ka],((e,t)=>!t.cinemaMode&&e.cinema_mode)),bn([vc],(e=>e.show_logotype))),Ec=bn([vc],(e=>e.show_share_button)),wc=bn([Ec,Ta,Ga,Za,(e,t)=>t],((e,t,n,r,a)=>{const o=e&&!t;return e&&t||(!a&&o&&(n||r)||a&&o&&n)})),Ac=e=>t=>wc(t,e),Sc=bn([vc],(e=>e.show_author)),Cc=bn([vc],(e=>Boolean(e.show_subscription))),kc=bn([vc],(e=>{let{show_title:t}=e;return!!t})),Tc=bn([vc],(e=>{let{available_title_click:t}=e;return!!t})),xc=bn([vc],(e=>{let{available_logo_click:t}=e;return!!t})),Lc=bn([vc],(e=>e?.auto_start)),Rc=()=>{},Nc="https://static.rutube.ru/static/img/png/player-stubs/countdown-stub-bg.png",Pc=e=>{let{handleClickDefaultPlayer:t=Rc}=e;const n=xi(),r=Ni(go),a=Ni(Ro),o=Ni(_c),i=Ni(Ts),l=Ni(Cs),s=Ni(Ss),c=Ni(Ja),u=Ni(Ca),d=e=>{e.preventDefault(),ii("psaa","1"),n(Ks.setAdultAllowed(!0))},f=e=>{e.preventDefault(),window.open(l,"_blank")};if(c&&ai.isMobile)return it.createElement("div",{className:Js,onClick:e=>{e.stopPropagation(),t()},style:{backgroundImage:u?`url(/api/video/${u}/thumbnail/?redirect=1)`:void 0,backgroundSize:"contain",boxShadow:"inset 0 0 0 1000px rgba(0, 0, 0, .7)"}},it.createElement(ui,null));switch(r){case"common":return it.createElement(dc,{help:Tt[a],title:i?.title||"",description:i?.description||"",backgroundImage:s||"",backgroundColor:o,btnText:l?i?.url_title||"Перейти":void 0,onBtnClick:l?f:void 0});case"subscription":return it.createElement(hc,{help:Tt[a],title:i?.title??"",description:i?.description??"",backgroundImage:s??"",backgroundColor:o,urlTitle:i?.url_title,videoId:u});case"adult":return it.createElement(dc,{title:kt[a].title,description:kt[a].description,backgroundColor:o,help:Tt[a],btnText:kt[a].btn,onBtnClick:d,backgroundImage:"https://static.rutube.ru/static/img/svg/adult-stub.svg"});case"iframed":return it.createElement(Xs,null);case"error":return it.createElement(dc,{backgroundColor:o,help:Tt[a],title:xt[a].title,backgroundImage:Nc});case"live_load_error":return it.createElement(dc,{backgroundColor:o,help:Tt[a],title:Lt[a].title,backgroundImage:Nc});case"distribution_error":return it.createElement(dc,{backgroundColor:o,help:Tt[a],title:Rt[a].title,backgroundImage:Nc});case"offline":return it.createElement(dc,{backgroundColor:o,help:Tt[a],title:Nt[a].title,backgroundImage:Nc});default:return it.createElement(ri,null)}},Ic="raichu-stub-embed-module__wrapper___iuS20",Oc="raichu-stub-embed-module__icon___q1MCj",Mc=e=>{let{backgroundImage:t,handleStubPlay:n}=e;return t?it.createElement("div",{className:Ic,style:{backgroundImage:`url(${t})`},onClick:n},it.createElement("div",{className:Oc})):null},Dc=(e,t)=>{const n=(0,it.useRef)();return(0,it.useCallback)((function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];n.current&&clearTimeout(n.current),n.current=window.setTimeout((()=>{n.current&&clearTimeout(n.current),e(...a)}),t)}),[e,t])};function Fc(e){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0,isPortrait:e&&window.innerHeight>window.innerWidth,isMobile:e&&window.innerWidth<=1024}}function Vc(){const e="object"==typeof window,[t,n]=(0,it.useState)((()=>Fc(e)));return(0,it.useEffect)((()=>{if(e)return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)};function t(){n(Fc(e))}}),[e]),t}const Bc=e=>{const t=e=>"object"==typeof window&&window.matchMedia(e).matches,[n,r]=(0,it.useState)(t(e));return(0,it.useEffect)((()=>{const n=()=>{r(t(e))};if(n(),"object"==typeof window)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[e]),n},Hc=()=>(0,it.useMemo)((()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[]);function Uc(e,t,n){it.useEffect((()=>{const r=r=>{!e.current||e.current.contains(r.target)||n?.(r)||t(r)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t,n])}function jc(e,t){const n=(0,it.useRef)();(0,it.useEffect)((()=>{n.current=e}),[e]),(0,it.useEffect)((()=>{if(null!==t){const e=setInterval((function(){void 0!==n.current&&n.current()}),t);return()=>clearInterval(e)}}),[t])}const Wc="object"==typeof window?navigator.userAgent:"",$c=(/iPhone|iPad|iPod/i.test(Wc)||/Macintosh/i.test(Wc)&&navigator.maxTouchPoints,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,it.useRef)(),[r,a]=(0,it.useState)(e);(0,it.useEffect)((()=>()=>n?.current&&clearTimeout(n.current)),[]);return[r,r=>(n?.current&&clearTimeout(n.current),n.current=setTimeout((()=>a(e)),t),a(r))]});function zc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,a]=it.useState(void 0),o=it.useRef(null),i=function(e){const t=it.useRef(e);t.current=e;const n=it.useRef(null);return it.useRef(new Proxy(n,{set(e,n,r,a){return"current"===n&&e.current!==r&&t.current(r,e.current),Reflect.set(e,n,r,a)}})).current}(((e,t)=>{a(void 0),t&&o.current?.unobserve(t),e&&o.current?.observe(e)}));return it.useEffect((()=>{if("function"==typeof IntersectionObserver)return o.current=new IntersectionObserver((e=>{let[n]=e;n.isIntersecting&&i.current&&o.current&&!t&&(o.current.unobserve(i.current),o.current.disconnect()),a(n.isIntersecting)}),{rootMargin:e,threshold:n}),i.current&&o.current?.observe(i.current),()=>{a(!1),o.current?.disconnect(),o.current=null}}),[i,e,t,n]),[i,r]}const Yc=["statpause","statresume","statrewind","statfullscreen","statexitFullscreen"];let Gc=function(e){return e.ENTER_FULLSCREEN="statfullscreen",e.EXIT_FULL_SCREEN="statexitFullscreen",e.SEEK="statrewind",e.PAUSE="statpause",e.RESUME="statresume",e.LOAD="statload",e.EMBED_LOAD="statembedload",e.START="statstart",e.STAT="statevent",e.FIRST_QUARTILE="statfirstQuartile",e.MIDDLE="statmiddle",e.THIRD_QUARTILE="statthirdQuartile",e.END="statend",e.HEARTBEAT="heartbeat",e.WATCHTIME="watchtime",e.AD_START_BUILT_IN="adstartbuiltin",e.AD_END_BUILT_IN="adendbuiltin",e.SHOW_ENDSCREEN="showendscreen",e.CLICK_ENDSCREEN="clickendscreen",e.CLICK_ENDSCREEN_ACTION="clickendscreenAction",e.CANCEL_ENDSCREEN="cancelendscreen",e.FIRST_PLAY_BUTTON="firstplaybutton",e.SUBSCRIBE_CLICK="subscrib_click",e.AUTHOR_EMBED_CLICK="author_embd_click",e.LONG_PRESS="statxrewind",e.WATCH_ON_RUTUBE_VIEW="watch_rutube_view",e.WATCH_ON_RUTUBE_CLICK="watch_rutube_click",e.AD_OFF_BUTTON_SHOW="ad_off_show",e.AD_OFF_BUTTON_CLICK="ad_off_click",e}({}),Zc=function(e){return e.SCREEN_MODE="screen_mode",e.LOAD_AFTER_AD="player_load_after_ad",e.REWIND="rewind_mode",e.REWIND_MODE_RUTS="statrewind",e.PAUSE="play_pause",e.QUALITY="playback_quality",e.SPEED="playback_speed",e.END_SCREEN="end_screen_rec",e.PAUSE_SCREEN="pause_screen",e.SUBSCRIBE="subscribe_player",e.NEXT_VIDEO="next_video",e.AD_VIEW="ad_view",e.AD_REQUEST="ad_request",e.FROM_BEGINNINIG="from_beginning",e.AD_CLICK="ad_click",e.CLICK_EVENT="rutube_button",e.HB_INTERVALS="hb_intervals_stat",e.UNLOAD="statstop_close",e.UNMUTE_BUTTON_SHOW="unmute_view",e.UNMUTE_BUTTON_CLICK="unmute_click",e.AUTHOR_CLICK="author_click",e.AUTHOR_TITLE_CLICK="author_nm_click",e.SHOW_MORE="show_more",e.SOUND_ON="sound_on",e.SOUND_OFF="sound_off",e.VOLUME_SET="sound_set",e.UNMUTE_VIEW="unmute_view",e.UNMUTE_CLICK="unmute_click",e.ADVERT_STAT_BLOCK_START="ad_block_start",e.ADVERT_STAT_BLOCK_START_PREROLL="ad_preroll_block_start",e.ADVERT_STAT_BLOCK_START_MIDROLL="ad_midroll_block_start",e.ADVERT_STAT_BLOCK_START_POSTROLL="ad_postroll_block_start",e.ADVERT_STAT_BLOCK_END="ad_block_end",e.ADVERT_STAT_BLOCK_END_PREROLL="ad_preroll_block_end",e.ADVERT_STAT_BLOCK_END_MIDROLL="ad_midroll_block_end",e.ADVERT_STAT_BLOCK_END_POSTROLL="ad_postroll_block_end",e.EXTENDED_PLAYER_MENU="extended_player_menu",e.PREV_VIDEO="previous_video",e.SHARE="share_video",e.PLAYBACK_AUTOPLAY="playback_autoplay",e.SUBTITLES="subtitles",e.RECOMMENDATIONS_PAUSE_SCREEN_SHOW="pause_recomendation",e.RECOMMENDATIONS_PAUSE_SCREEN_CLICK="pause_recomendation_click",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW="endscreen_nextvideo",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK="endscreen_nextvideo_click",e.RECOMMENDATIONS_END_SCREEN_RECS_SHOW="endscreen_recomendation",e.RECOMMENDATIONS_END_SCREEN_RECS_CLICK="endscreen_recomendation_click",e.RECOMMENDATIONS_SEASONS_BUTTON_SHOW="episod_choice_view",e.RECOMMENDATIONS_SEASONS_OPEN="episod_choice_open",e.RECOMMENDATIONS_SEASONS_EPISODE_CLICK="episod_choice_click",e.INTERACTIVE_BUTTON="new_frag",e.MORE_MENU_CLICK="show_more",e.MORE_MENU_COPY_LINK="esch_copylink_click",e.MORE_MENU_COPY_LINK_AT_TIME="esch_copylinkattime_click",e.MORE_MENU_COPY_TAG="esch_copytag_click",e.MORE_MENU_REPLAY="esch_replay_click",e.MORE_MENU_REPORT_ERROR="esch_reperr_click",e.MORE_MENU_COPY_INFO="esch_copyinfo_click",e.MORE_MENU_REPORT_VIDEO="esch_reperrvid_click",e.MORE_MENU_HOTKEY_MANUAL="esch_hotkeys_manual",e.WATCH_ON_RUTUBE="watch_on_rutube",e.WATCH_FROM_START_SHOW="from_beginning_show",e.WATCH_FROM_START_CLICK="from_beginning_click",e.CHAPTER_BUTTON_SHOW="episod_button_show",e.CHAPTER_BUTTON_CLICK="episod_button_click",e.CHAPTER_MENU_CLICK="episod_menu_click",e.CHAPTER_DESC_CLICK="episod_desc_click",e}({}),Qc=function(e){return e.RUTUBE_LOGO="rutube",e.CHANNEL_LOGO="channel",e.VIDEO_TITLE="video",e}({});const Kc={ADVERT_STAT_RECEIVE:"adreceive",ADVERT_STAT_RECEIVE_PREROLL:"adreceivepreroll",ADVERT_STAT_RECEIVE_MIDROLL:"adreceivemidroll",ADVERT_STAT_RECEIVE_POSTROLL:"adreceivepostroll",ADVERT_STAT_RECEIVE_OVERLAY:"adreceiveoverlay",ADVERT_STAT_START:"adstart",ADVERT_STAT_START_PREROLL:"adstartpreroll",ADVERT_STAT_START_MIDROLL:"adstartmidroll",ADVERT_STAT_START_POSTROLL:"adstartpostroll",ADVERT_STAT_START_OVERLAY:"adstartoverlay",ADVERT_STAT_BLOCK_START:"ad_block_start",ADVERT_STAT_BLOCK_START_PREROLL:"ad_preroll_block_start",ADVERT_STAT_BLOCK_START_MIDROLL:"ad_midroll_block_start",ADVERT_STAT_BLOCK_START_NEWMIDROLL:"ad_newmidroll_block_start",ADVERT_STAT_BLOCK_START_LIVEMIDROLL:"ad_livemidroll_block_start",ADVERT_STAT_BLOCK_START_POSTROLL:"ad_postroll_block_start",ADVERT_STAT_BLOCK_END:"ad_block_end",ADVERT_STAT_BLOCK_END_PREROLL:"ad_preroll_block_end",ADVERT_STAT_BLOCK_END_MIDROLL:"ad_midroll_block_end",ADVERT_STAT_BLOCK_END_NEWMIDROLL:"ad_newmidroll_block_end",ADVERT_STAT_BLOCK_END_LIVEMIDROLL:"ad_livemidroll_block_end",ADVERT_STAT_BLOCK_END_POSTROLL:"ad_postroll_block_end",ADVERT_STAT_END:"ad_end",ADVERT_STAT_END_CLOSE:"ad_end_close",ADVERT_STAT_CLICK:"ad_click",ADVERT_STAT_CLOSE:"adclose",ADVERT_STAT_ERROR:"aderror",ADVERT_STAT_SEND:"adsend",ADVERT_STAT_SKIP:"ad_skip",ADVERT_STAT_SEND_PREROLL:"adsendpreroll",ADVERT_STAT_SEND_MIDROLL:"adsendmidroll",ADVERT_STAT_SEND_POSTROLL:"adsendpostroll",ADVERT_STAT_SEND_OVERLAY:"adsendoverlay"};let qc=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e}({}),Xc=function(e){return e.BUTTON="button",e.TAP="tap",e.HOTKEY="hotkey",e.EXTERNAL="external",e.MEDIA_CONTROLS="media_controls",e.LONG_TAP="long_tap",e}({}),Jc=function(e){return e.BACK="back",e.FORWARD="forward",e}({});const eu="data-prevent-hide-controls",tu={[eu]:"true"},nu="data-allow-event-processing",ru={[nu]:!0},au="data-raichu-popup",ou={[au]:"true"},iu=()=>!!document.querySelector(`[${au}="true"]`),lu=e=>"true"===e.getAttribute(eu)||!!e.closest(`[${eu}="true"]`),su=e=>!(iu()||lu(e));var cu=n(3983),uu=n.n(cu);const du={getEndScreenContent:kr("GET_END_SCREEN_CONTENT")},fu={onPlayerUnmount:kr("lifecycle/onPlayerUnmount"),onVideoEnded:kr("lifecycle/onVideoEnded")},pu={initUserHistory:kr("INIT_USER_HISTORY"),saveVideoHistoryById:kr("SAVE_VIDEO_HISTORY_BY_ID")},mu=it.createContext(null),hu=(e,t,n)=>{const r=document.createElement("script");r.src=e,r.onload=t,r.onerror=n;const a=document.getElementsByTagName("script")[0];a.parentNode?.insertBefore(r,a)},vu={},yu=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hu;const o=e=>window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:void 0,i=o(t);return i&&r(i)?Promise.resolve(i):new Promise(((r,i)=>{if(vu[e])return void vu[e].push({resolve:r,reject:i});vu[e]=[{resolve:r,reject:i}];const l=t=>{vu[e].forEach((e=>e.resolve(t)))};if(n){const e=()=>window[n];window[n]=()=>{e&&e(),l(o(t))}}a(e,(()=>{n||l(o(t))}),(t=>{vu[e].forEach((e=>{e.reject(t)})),delete vu[e]}))}))},gu=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none"},it.createElement("path",{d:"M1 7L7 1L13 7",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},_u=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14",viewBox:"0 0 8 14",fill:"none"},it.createElement("path",{d:"M1 13L7 7L0.999999 1",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},bu="raichu-360-video-controls-module__wrapper___ecMRV",Eu="raichu-360-video-controls-module__withControls___T3Yfq",wu="raichu-360-video-controls-module__wrapperHover___bFOcQ",Au="raichu-360-video-controls-module__arrowWrapper___oMVNF",Su="raichu-360-video-controls-module__arrowWrapperTop___ePS2d",Cu="raichu-360-video-controls-module__arrowWrapperRight___JCrzB",ku="raichu-360-video-controls-module__arrowWrapperBottom___PGaDq",Tu="raichu-360-video-controls-module__arrowWrapperLeft___JY7vd",xu=e=>{const{onStartRotate:t,onCancelRotate:n,withPlayerControls:r}=e,[a,o]=(0,it.useState)(!1),i=a?"rgb(90, 104, 119)":"rgba(27, 41, 56, .45)";return it.createElement("div",{onPointerDown:e=>e.stopPropagation(),onMouseMove:()=>o(!0),onMouseLeave:()=>o(!1),className:ti()(bu,{[wu]:a,[Eu]:r})},it.createElement("div",{className:ti()(Au,Su),onMouseDown:()=>t("up"),onMouseLeave:n,onMouseUp:n},it.createElement(gu,{color:i})),it.createElement("div",{className:ti()(Au,Cu),onMouseDown:()=>t("right"),onMouseLeave:n,onMouseUp:n},it.createElement(_u,{color:i})),it.createElement("div",{className:ti()(Au,ku),onMouseDown:()=>t("down"),onMouseLeave:n,onMouseUp:n},it.createElement(gu,{color:i})),it.createElement("div",{className:ti()(Au,Tu),onMouseDown:()=>t("left"),onMouseLeave:n,onMouseUp:n},it.createElement(_u,{color:i})))},Lu="raichu-360-video-module__video360___lB_vC",Ru=(e,t,n)=>{try{e.current&&n.current&&t.current&&(e.current.aspect=t.current.clientWidth/t.current.clientHeight,e.current.updateProjectionMatrix(),n.current.setSize(t.current.clientWidth,t.current.clientHeight))}catch(e){console.error(e)}},Nu=e=>{const{player:t,isTouchDevice:n,handlePlay:r,handleFullScreen:a,isTouchedRef:o,withPlayerControls:i}=e,l=(0,it.useRef)(null),s=(0,it.useRef)(null),c=(0,it.useRef)(0),u=(0,it.useRef)(0),d=(0,it.useRef)(null),f=(0,it.useRef)(null),p=(0,it.useRef)(null),m=(0,it.useRef)(!1),h=(0,it.useRef)(0),v=(0,it.useRef)(0),y=(0,it.useRef)(0),g=(0,it.useRef)(0),_=(0,it.useRef)(null),b=Ni(za),[E,w]=(0,it.useState)(!1),A=(0,it.useRef)(!1),S=(0,it.useRef)(r),C=(0,it.useRef)(a),[k,T]=(0,it.useState)(!0);let x;(0,it.useEffect)((()=>{S.current=r,C.current=a}),[r,a]),(0,it.useEffect)((()=>{const e=t.current;if(!e)return;const n=()=>{w(!0)};return e.addEventListener("loadeddata",n),()=>{if(e)return e.removeEventListener("loadeddata",n)}}),[t]);const L=e=>{m.current=!0,A.current=!0,h.current=e.clientX,v.current=e.clientY,y.current=u.current,g.current=c.current},R=e=>{if(!0===m.current){const t=h.current-e.clientX,n=v.current-e.clientY;(Math.abs(n)>=5||Math.abs(t)>=5)&&(T(!1),A.current=!1,u.current=.1*t+y.current,c.current=.1*n+g.current)}},N=()=>{A.current&&!n&&(S.current("user"),A.current=!1),m.current=!1},P=()=>{S.current("user"),C.current()},I=(0,it.useCallback)((e=>{k||(T(!0),o.current=null,e.preventDefault(),e.stopPropagation())}),[o,k]),O=(0,it.useCallback)((()=>{o.current=null,T(!0)}),[o]);(0,it.useEffect)((()=>{if(l.current&&l.current.clientWidth&&!d.current){const e=()=>{_.current&&(()=>{switch(_.current){case"up":c.current-=1;break;case"down":c.current+=1;break;case"right":u.current+=1;break;case"left":u.current-=1}})();c.current=Math.max(-85,Math.min(85,c.current));const e=window.THREE.MathUtils.degToRad(90-c.current),t=window.THREE.MathUtils.degToRad(u.current);d.current&&f.current&&p.current&&(d.current.position.x=50*Math.sin(e)*Math.cos(t),d.current.position.y=50*Math.cos(e),d.current.position.z=50*Math.sin(e)*Math.sin(t),d.current.lookAt(0,0,0),f.current.render(p.current,d.current))},n=()=>{requestAnimationFrame(n),e()},r=()=>{Ru(d,l,f)};"ResizeObserver"in window&&l.current&&!x&&(x=new ResizeObserver(r),x.observe(l.current));return E&&(async()=>{try{await yu("https://static.rutube.ru/static/player_sdk/three.min.js","THREE");const e=l?.current?.clientWidth??0,a=l?.current?.clientHeight??0;d.current=new window.THREE.PerspectiveCamera(75,e/a,1,1100),p.current=new window.THREE.Scene;const o=new window.THREE.SphereGeometry(500,60,40);o.scale(-1,1,1);const i=t.current&&new window.THREE.VideoTexture(t.current);i&&(i.needsUpdate=!0);const c=new window.THREE.MeshBasicMaterial({map:i});c.needsUpdate=!0;const u=new window.THREE.Mesh(o,c);p.current.add(u),f.current=new window.THREE.WebGLRenderer,f.current.setPixelRatio(window.devicePixelRatio),f.current.setSize(e,a),s.current&&s.current.appendChild(f.current.domElement),l.current&&(l.current.addEventListener("pointerdown",L),window.addEventListener("pointermove",R),window.addEventListener("pointerup",N),window.addEventListener("resize",r),window.addEventListener("fullscreenchange",r),l.current.addEventListener("dblclick",P)),n()}catch(e){console.error(e)}})(),()=>{l.current&&(l.current.removeEventListener("pointerdown",L),window.removeEventListener("pointerup",N),window.removeEventListener("resize",r),window.removeEventListener("fullscreenchange",r),l.current.removeEventListener("dblclick",P),x&&(x.unobserve(l.current),x.disconnect()),x=null)}}}),[t,E,l]),(0,it.useEffect)((()=>{const e=l.current;return e&&(e.addEventListener("touchend",I),window.addEventListener("touchend",O)),()=>{e&&(e.removeEventListener("touchend",I),window.removeEventListener("touchend",O))}}),[l,k,I,O]),(0,it.useEffect)((()=>{b&&l.current&&setTimeout((()=>Ru(d,l,f)),100)}),[b,l]);return it.createElement("div",{"data-testid":"video-360",className:Lu,style:{position:"absolute",width:"100%",height:"100%",maxWidth:"calc(16 / 9 * 100%)",zIndex:1}},it.createElement("div",{style:{position:"relative",top:"50%",paddingBottom:"56.25%",margin:"auto 0 auto 0",transform:"translateY(-50%)"},ref:l},it.createElement("div",{style:{position:"absolute",zIndex:1},ref:s})),!n&&"mini"!==b&&it.createElement(xu,{onStartRotate:e=>{_.current=e},onCancelRotate:()=>{_.current=null},withPlayerControls:i}))},Pu="ADD_MESSAGE",Iu="REMOVE_MESSAGE",Ou="RESET_QUEUE",Mu=2500;function Du(e){return{type:Ou,queue:e}}function Fu(e,t){switch(t.type){case Pu:{const n=e.find((e=>e.id===t.message.id));return 0===e.length?[t.message]:n?e:[...e,t.message]}case Iu:return e.length?e.slice(1):e;case Ou:return t.queue?.length?t.queue:[];default:return e}}function Vu(e){let{timeout:t=Mu,defaultQueue:n=[]}=e;const[r,a]=(0,it.useReducer)(Fu,n),[o,i]=(0,it.useState)(n.length>0),l=(0,it.useRef)(o),s=(0,it.useRef)(),c=(0,it.useRef)(n),u=(0,it.useCallback)((e=>{a(function(e){return{type:Pu,message:e}}(e))}),[]),d=(0,it.useCallback)((e=>{a(function(e){return{type:Iu,id:e}}(e))}),[]),f=(0,it.useCallback)((()=>{a(Du(n))}),[n]),p=(0,it.useCallback)((()=>{s.current&&(clearTimeout(s.current),s.current=void 0)}),[]),m=(0,it.useCallback)((()=>{l.current||i(!0)}),[]),h=(0,it.useCallback)((()=>{l.current&&i(!1),p()}),[p]),v=(0,it.useCallback)((()=>{s.current=setTimeout((()=>{h(),s.current=void 0}),t)}),[h,t]);return(0,it.useEffect)((()=>()=>p()),[p]),(0,it.useEffect)((()=>{const[e]=r;e&&(o||m())}),[r,o,m]),(0,it.useEffect)((()=>{l.current=o}),[o]),(0,it.useEffect)((()=>{n.length!==c?.current.length&&(a(Du(n)),c.current=n,s.current&&(clearTimeout(s.current),s.current=void 0))}),[n]),{queue:r,visible:o,addMessage:u,removeMessage:d,resetQueue:f,hideMessage:h,startTimer:v,clearTimer:p}}const Bu=it.createContext({});function Hu(){return(0,it.useContext)(Bu)}function Uu(e){let{children:t,timeout:n,defaultQueue:r=[]}=e;const a=Vu({timeout:n,defaultQueue:r});return it.createElement(Bu.Provider,{value:a},t)}const ju=e=>{const{name:t,url_template:n}=e,r=Zt(n);return{name:t,type:t.replace(/\d+/,""),urlParams:r}};let Wu=function(e){return e.START="start",e.INITIALIZED="initialized",e.BALANCER_REQUEST="balancer_request",e.VIDEO_PLAYING="video_playing",e.VIDEO_PAUSE="video_pause",e.BUFFERING="buffering",e.VIDEO_PLAYING_END="video_playing_end",e.A_REQUEST="a_request",e.A_PLAYING="a_playing",e.FATAL="fatal",e}({}),$u=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.BL_REQUEST="bl_request",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e.FIRST_FRAGMENT="first_fragment",e}({});const zu="https://static.rutube.ru/static/img/jpg/black.jpg",Yu="raichu-advert-pay-button-module__button___tpJpt",Gu="raichu-advert-pay-button-module__small___EfR1H",Zu=(0,it.memo)((e=>{let{ads:t,advertName:n}=e;const r=Ni(ro),a=xi(),o=r?.height&&r?.height<350,i=(e=>{if(!e?.height)return 140;const t=.1*e.height;return e.height>252?t+70:70})(r);return(0,it.useEffect)((()=>{a(Ks.trackStat({eventName:Gc.AD_OFF_BUTTON_SHOW,advertName:n}))}),[n]),it.createElement("button",{style:{bottom:i},className:ti()(Yu,{[Gu]:o}),onClick:()=>{fc(zt.SUBSCRIPTION_REQUEST,{productCode:Gt.RUTUBE}),a(Ks.trackStat({eventName:Gc.AD_OFF_BUTTON_CLICK,advertName:n})),t&&t.adPlaybackController.pauseAd()}},"Отключить рекламу")}));var Qu=n(9845),Ku=n(8572),qu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu="html",Ju="svg",ed=function(e,t){var n,r,a,o={};if(e===Xu)a=document.createElement("div");else{if(e!==Ju)throw new Error('Invalid element type "'.concat(e,'" for createPortalNode: must be "html" or "svg".'));a=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"==typeof t)for(var i=0,l=Object.entries(t.attributes);i<l.length;i++){var s=l[i],c=s[0],u=s[1];a.setAttribute(c,u)}var d={element:a,elementType:e,setPortalProps:function(e){o=e},getInitialPortalProps:function(){return o},mount:function(t,a){if(a!==r){if(d.unmount(),t!==n&&!function(e,t){var n,r,a,o=null!==(n=e.ownerDocument)&&void 0!==n?n:document,i=null!==(a=null!==(r=o.defaultView)&&void 0!==r?r:o.parentWindow)&&void 0!==a?a:window;if(t===Xu)return e instanceof i.HTMLElement;if(t===Ju)return e instanceof i.SVGElement;throw new Error('Unrecognized element type "'.concat(t,'" for validateElementType.'))}(t,e))throw new Error('Invalid element type for portal: "'.concat(e,'" portalNodes must be used with ').concat(e," elements, but OutPortal is within <").concat(t.tagName,">."));t.replaceChild(d.element,a),n=t,r=a}},unmount:function(e){e&&e!==r||n&&r&&(n.replaceChild(r,d.element),n=void 0,r=void 0)}};return d},td=(function(e){function t(t){var n=e.call(this,t)||this;return n.addPropsChannel=function(){Object.assign(n.props.node,{setPortalProps:function(e){n.setState({nodeProps:e})}})},n.state={nodeProps:n.props.node.getInitialPortalProps()},n}qu(t,e),t.prototype.componentDidMount=function(){this.addPropsChannel()},t.prototype.componentDidUpdate=function(){this.addPropsChannel()},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.node;return Ku.createPortal(it.Children.map(n,(function(t){return it.isValidElement(t)?it.cloneElement(t,e.state.nodeProps):t})),r.element)}}(it.PureComponent),function(e){function t(t){var n=e.call(this,t)||this;return n.placeholderNode=it.createRef(),n.passPropsThroughPortal(),n}return qu(t,e),t.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},t.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,n=t.parentNode;e.mount(n,t),this.passPropsThroughPortal()},t.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode.setPortalProps({}),this.currentPortalNode=e);var t=this.placeholderNode.current,n=t.parentNode;e.mount(n,t),this.passPropsThroughPortal()},t.prototype.componentWillUnmount=function(){var e=this.props.node;e.unmount(this.placeholderNode.current),e.setPortalProps({})},t.prototype.render=function(){return it.createElement("div",{ref:this.placeholderNode})},t}(it.PureComponent));ed.bind(null,Xu),ed.bind(null,Ju);const nd=(0,it.forwardRef)(((e,t)=>{let{node:n,src:r,onLoadedMetadata:a,style:o,...i}=e;const[l,s]=(0,it.useState)(!1),c=(0,it.useCallback)((e=>{s(!0),a&&a(e)}),[a]);(0,it.useEffect)((()=>{if(n){const e=n.element.querySelector("video");e&&(e.offsetHeight,"function"==typeof t?t(e):t&&(t.current=e))}return()=>{if(n){const e=n.element.querySelector("video");e&&(async()=>{try{document.pictureInPictureElement&&await document.exitPictureInPicture()}catch(e){console.info(e)}})().finally((()=>{e.pause(),e.currentTime=0}))}}}),[n]);const u={...o||{},opacity:l?1:0,backgroundColor:"black"};return n?it.createElement(td,(0,Qu.default)({"data-testid":"video-portal",node:n,src:r},i,{style:u,onLoadedMetadata:c})):it.createElement("video",(0,Qu.default)({"data-testid":"video",ref:t,src:r,style:u},i,{onLoadedMetadata:c}))})),rd=[657766,23460655,23606264,26302101,23178409],ad="raichu-advert-module__SDKWrapper___fN6jA",od="raichu-advert-module__SDKVideo___KuXxV",id="raichu-advert-module__SDKVideoHidden___lPNzX",ld="raichu-advert-module__Overlay___WKD67",sd="raichu-advert-module__OverlayAd___BnY7q",cd="raichu-advert-module__end___xrFLc",ud="raichu-advert-timeline-module__timeline___lvVfd",dd="raichu-advert-timeline-module__timeline_filled___zRj0e",fd=e=>{let{viewed:t}=e;return t?it.createElement("div",{className:ud},it.createElement("div",{className:dd,style:{transform:`scaleX(${t.toString()}%)`}})):null};const pd={Play:"player:play",ChangeVideo:"player:changeVideo",Pause:"player:pause",SetCurrentTime:"player:setCurrentTime",SetSkinColor:"player:setSkinColor",RelativeSeek:"player:relativelySeek",Stop:"player:stop",Suspend:"player:suspend",GotoTimecode:"player:gotoTimecode",WakeUp:"player:wakeup",Mute:"player:mute",Unmute:"player:unMute",SetVolume:"player:setVolume",ChangeQuality:"player:changeQuality",ShowControls:"player:showControls",HideControls:"player:hideControls",SubscriptionCancel:"player:subscriptionCancel",SubscriptionSuccess:"player:subscriptionSuccess"};function md(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(0,it.useRef)(e);a.current=e;const o=(0,it.useRef)();(0,it.useEffect)((()=>{let e;return o.current||n||(o.current=new Promise((t=>{e=t}))),()=>{e&&e(void 0)}}),[n]),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,it.useEffect)((()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),t)}((e=>{if(!n&&!r)return;if("string"!=typeof e.data)return;let t;try{t=JSON.parse(e.data)}catch(e){return}if(-1===Object.values(pd).indexOf(t.type))return;const i=a.current[t.type],{data:l}=t;i&&(o.current?o.current.then((()=>i(l))):i(l))}),t)}const hd=e=>{const t=Ni(Oo);return(0,it.useCallback)((()=>{if(e.current){const n=e.current.volume,r=Number((t/100).toFixed(10));r&&n>r&&(e.current.volume=r)}}),[e,t])},vd=xi,yd=Ni,gd=(e,t)=>{const n=document.createElement("video");n.playsInline=!0,n.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAARmbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAA+gAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA5B0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+gAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAIAAAACAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPoAAAEAAABAAAAAAMIbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAAyAAAAMgBVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACs21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAnNzdGJsAAAAv3N0c2QAAAAAAAAAAQAAAK9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAIAAgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAANWF2Y0MBZAAK/+EAGWdkAAqs2V+IiMBEAAADAAQAAAMAyDxIllgBAAVo74bywP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAAfkAAAH5AAAAAYc3R0cwAAAAAAAAABAAAAGQAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAANhjdHRzAAAAAAAAABkAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAGQAAAAEAAAB4c3RzegAAAAAAAAAAAAAAGQAAAsMAAAAMAAAADAAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAANAAAADgAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAAUc3RjbwAAAAAAAAABAAAElgAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTkuMTYuMTAwAAAACGZyZWUAAAP6bWRhdAAAAqkGBf//pdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNTUgcjI5MTcgMGE4NGQ5OCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTggLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgzIG1lPWRpYSBzdWJtZT0xIHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0wIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PTAgdGhyZWFkcz0xIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0xIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3JmIG1idHJlZT0wIGNyZj0yMC4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIHBiX3JhdGlvPTEuMzAgYXE9MToxLjAwAIAAAAASZYiEABL/6v/CVT+9s3RcRf/xAAAACEGaJBiCn/7wAAAACEGeQkIJf5KBAAAACAGeYUQR/5eAAAAACAGeY0QR/5eBAAAACUGaaDRMQU/+8QAAAApBnoZFESwT/4yBAAAACAGepUQR/5eBAAAACAGep0QS/5KAAAAACUGarDRMQU/+8AAAAApBnspFFSwT/4yBAAAACAGe6UQS/5KAAAAACAGe60QS/5KAAAAACUGa8DRMQU/+8QAAAApBnw5FFSwT/4yBAAAACAGfLUQS/5KBAAAACAGfL0QS/5KAAAAACUGbNDRMQU/+8AAAAApBn1JFFSwT/4yBAAAACAGfcUQS/5KAAAAACAGfc0QS/5KAAAAACUGbeDRMQU/+8QAAAApBn5ZFFSwU/4aAAAAACAGftUQS/5KBAAAACAGft0QS/5KB",n.autoplay=!0,n.style.visibility="hidden",document.body.appendChild(n),n.play().then(e).catch(t).finally((()=>{n.remove()}))},_d=e=>{const t=e.xmlString;return(new DOMParser).parseFromString(t,"text/xml")},bd=e=>{if(!e||!window.DOMParser)return;const t=_d(e).querySelector("Creative Duration")?.childNodes[0]?.nodeValue??"";if(!t)return e.children.length?bd(e.children[0]):void 0;const n=t.split(":"),r=parseInt(n[2],10)+60*parseInt(n[1],10);return"number"==typeof r?r:void 0},Ed=async e=>{let{url:t,video:n,wrapper:r,timeout:a,subscribes:o,decode:i,containerId:l,dispatch:s}=e;const c=window.ya,u=Zt(t.toLowerCase()),d={wrapperMaxCount:5,adFoxParameters:{ownerId:`${u.ownerid}`,params:Zt(t.toLowerCase(),i,"ownerid"),containerId:l}},f={wrapperMaxCount:5,partnerId:+u.partnerid,impId:+u.impid,category:+u.category||0,vmapLoadTimeout:a,targetRef:window.location.href,additionalParams:{"partner-stat-id":window.location.href}},p={wrapperMaxCount:5,vmapLoadTimeout:a,targetRef:window.location.href,adBreakType:"preroll",vastUrl:t},m=t.includes("ssp.rutube")?p:f,h=t.includes("adfoxsdk")?d:m;if(!c)throw new Error("YandexSDK: No SDK found");try{const e=await c.videoAd.loadModule("AdLoader"),t=await e.AdLoader.create(h),i=await t.loadAd(),l=i.getNonYandexVastXmlTree(),u=(e=>{if(!e||!window.DOMParser)return;const t=_d(e).querySelector("Extension[type=campaignId]");return t?.textContent?.trim()||""})(l),d=bd(l),f=(e=>{if(!e||!window.DOMParser)return 0;const t=(_d(e)?.querySelector("Creative Linear")?.getAttribute("skipoffset")??"").split(":"),n=parseInt(t[2],10);return Number.isNaN(n)?0:n})(l),p=(e=>{if(e&&window.DOMParser)return _d(e).querySelector("Ad")?.getAttribute("id")||""})(l),m=(e=>{if(!e)return;const t=(new TextEncoder).encode(e),n=Array.from(t,(e=>String.fromCodePoint(e))).join("");return window.btoa(n)})(l?.xmlString);o.AdvertLoad(u);const y=Boolean(n.offsetWidth&&n.offsetWidth>450),g=i.createPlaybackController(n,r,function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{vpaidTimeout:e,bufferEmptyLimit:3,bufferFullTimeout:5e3,controlsSettings:{controlsVisibility:{play:t,mute:t,adLabel:!1,timeline:!1,loader:!0}}}}(a,y));return v=g,(-1===window.location.href.indexOf("https://rutube.ru/")||window.location.search.includes("debug_ad"))&&["AdClickThru","AdContentSizeChange","AdPlayingStateChange","AdPodClose","AdPodComplete","AdPodError","AdPodImpression","AdPodSkipped","AdPodStarted","AdPodStopped","AdPodVideoFirstQuartile","AdPodVideoMidpoint","AdPodVideoThirdQuartile","AdRemainingTimeChange","AdSkippableStateChange","AdStarted","AdStopped","AdVolumeAvailabilityStateChange","AdVolumeChange","AllAdPodVideoComplete"].forEach((e=>{v.subscribe(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.info(e,n)}))})),(e=>{let{xmlTree:t,duration:n,skipDuration:r,isSkipable:a}=e;const o="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_yandex_sdk"),i=t?.xmlString;if(o){const e=e=>(new DOMParser).parseFromString(e,"text/xml");console.info("xmlString:",e(i)),console.info("Creative Duration",e(i).querySelector("Creative Duration")),console.info("Creative Linear",e(i)?.querySelector("Creative Linear")),console.info("Duration:",n),console.info("SkipDuration:",r),console.info("isSkipable:",a)}})({xmlTree:l,duration:d,skipDuration:f,isSkipable:g?.getAdSkippableState()}),s&&(d&&s(Ks.setAdvertDuration(d)),f&&s(Ks.setAdvertSkipDuration(f)),p&&s(Ks.setAdvertId(p)),m&&s(Ks.setAdvertVast(m))),n.volume=0,g?.setAdVolume(0),Object.keys(o).forEach((e=>g.subscribe(e,o[e]))),{adViewer:i,adPlaybackController:g}}catch(e){throw console.error(e),e}var v},wd=()=>window.performance?.now?parseInt(window.performance.now()?.toFixed()):(new Date).getTime(),Ad=53182297,Sd=e=>`yaCounter${e}`,Cd=e=>{try{const t=new RegExp("^Yandex.(.+?)\\((.*)\\);?$","gm").exec(e);if(!t)return;const[n,r,a]=t,o=new RegExp("^\\s?(\\d+),\\s?['\"](.+)['\"]\\s?,({.+})","gm").exec(a);if(!o)return;const[i,l,s]=o;let c={};if(o[3])try{c=JSON.parse(o[3])}catch(e){"string"==typeof e&&console.error(`Parse stat api params error: ${e.toString()}`)}return{method:r,counterId:Number.parseInt(l,10),target:s,params:c}}catch(e){if("string"==typeof e)return void console.error(`Parse stat_api method error: ${e.toString()}`)}},kd=e=>window[Sd(e)]||null,Td=e=>{if(e&&!kd(e))try{window[Sd(e)]=new Ya.Metrika2({id:e,defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ecommerce:"dataLayer",webvisor:!1,triggerEvent:!0})}catch(t){console.error(`Init stat_api ym counter ${e} error: ${t}`)}},xd=e=>{try{window[Sd(e.counterId)][e.method](e.target,e.params)}catch(e){console.error(`Send statistics error: ${e}`)}},Ld=()=>{Td(Ad);const e=kd(Ad);return e?.getClientID()||""},Rd="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_r_stat"),Nd=async e=>{let{method:t,url:n,body:r}=e;const a=Date.now();if(Rd&&console.warn(`Sending stat to: ${n}`),"get"===t){let e;e=n.indexOf("tns-counter")<0?`${n}${n.indexOf("?")>=0?"&":"?"}t=${a}`:n,(new Image).src=e}else{const e=n.indexOf("ruform.trex.media")>=0;try{await fetch(n,{method:t,headers:{"Content-Type":"application/json;charset=utf-8"},credentials:e?"include":"same-origin",body:r})}catch(e){console.error(e)}}},Pd=e=>e.player.endScreenContent,Id=bn(Pd,(e=>e?.next_video)),Od=bn(Pd,((e,t)=>t),((e,t)=>{const n=e?.recommendation||[];return t?n.slice(0,t):n})),Md=bn([Pd,yc],((e,t)=>!!t&&(!!e?.next_video||!!e?.recommendation&&Array.isArray(e.recommendation)&&!!e.recommendation.length))),Dd=bn(ka,(e=>!e.endScreen||!e.pauseScreen||!e.nextVideoControl)),Fd=bn(Aa,(e=>e.hideEndScreen)),Vd=bn(Aa,(e=>e.isEndScreenVisible)),Bd=bn(ka,eo,Zl,so,Md,zi,Fd,((e,t,n,r,a,o,i)=>!e.endScreen&&!t&&!n&&r&&a&&!o&&!i)),Hd=(new Date).getTimezoneOffset()/60*-1,Ud=()=>String(Hd);function jd(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Wd=0;function $d(e){return"__private_"+Wd+++"_"+e}var zd,Yd,Gd,Zd,Qd,Kd,qd,Xd,Jd,ef,tf,nf,rf,af,of,lf,sf,cf,uf,df,ff,pf,mf,hf,vf=function(e){return e[e.ERROR=1]="ERROR",e[e.WARN=3]="WARN",e[e.LOG=7]="LOG",e[e.DEBUG=15]="DEBUG",e}({}),yf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vf.LOG;He(this,e),this._name=t,this._level=n}return We(e,[{key:"_getLevel",value:function(){return"function"==typeof this._level?this._level():this._level}},{key:"name",get:function(){return"string"==typeof this._name?this._name:this._name()}},{key:"isGrouped",value:function(e){return e.length>1&&"string"==typeof e[0]}},{key:"grouped",value:function(e){console.group(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(n),console.groupEnd()}},{key:"log",value:function(){if((this._getLevel()&vf.LOG)===vf.LOG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],a=t.slice(1);this.grouped.apply(this,["[1m[32m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Ne(a)))}else console.log("[1m[32m[".concat(this.name,"]: [0m").concat(t))}}},{key:"warn",value:function(){if((this._getLevel()&vf.WARN)===vf.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],a=t.slice(1);this.grouped.apply(this,["[1m[33m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Ne(a)))}else console.log("[1m[33m[".concat(this.name,"]: [0m").concat(t))}}},{key:"error",value:function(){if((this._getLevel()&vf.ERROR)===vf.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],a=t.slice(1);this.grouped.apply(this,["[1m[31m[".concat(this.name,"]: ").concat(r,"[0m")].concat(Ne(a)))}else console.log("[1m[31m[".concat(this.name,"]: [0m").concat(t))}}},{key:"level",set:function(e){this._level=e}}]),e}(),gf=$d("DEFAULT_NAMESPACE"),_f=$d("capitalize"),bf=$d("makeGroupName"),Ef=$d("logger"),wf=$d("_namespace"),Af=$d("_registeredEvents"),Sf=$d("_contextProvider"),Cf=$d("_onSend"),kf=$d("_external"),Tf=$d("context"),xf=$d("CounterHelperBuilder"),Lf=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yf((function(){return"CounterHelper".concat(jd(t,wf)[wf]?" "+jd(t,wf)[wf]:"")}),vf.ERROR);He(this,e),Object.defineProperty(this,Tf,{get:Rf,set:void 0}),Object.defineProperty(this,Ef,{writable:!0,value:void 0}),Object.defineProperty(this,wf,{writable:!0,value:void 0}),Object.defineProperty(this,Af,{writable:!0,value:{}}),Object.defineProperty(this,Sf,{writable:!0,value:void 0}),Object.defineProperty(this,Cf,{writable:!0,value:function(){jd(t,Ef)[Ef].warn("send handler has not been added")}}),Object.defineProperty(this,kf,{writable:!0,value:void 0}),jd(this,wf)[wf]=jd(e,gf)[gf],jd(this,Ef)[Ef]=n}return We(e,[{key:"namespace",get:function(){return jd(this,wf)[wf]}},{key:"get",value:function(e){var t;return null===(t=jd(this,Af)[Af][e])||void 0===t?void 0:t.bind(this)}}],[{key:"builder",value:function(t){return new(jd(e,xf)[xf])(new e(t))}}]),e}();function Rf(){if(jd(this,Sf)[Sf])return jd(this,Sf)[Sf]()}function Nf(e){var t=jd(this,uf)[uf],n=jd(this,hf)[hf](e);jd(this,lf)[lf]=function(e,r){var a=jd(this,Tf)[Tf];t({event:e,context:a,params:r})&&jd(this,Cf)[Cf](n({event:e,context:a,params:r}))}}function Pf(e){var t=jd(this,uf)[uf],n=jd(this,hf)[hf](e);jd(this,lf)[lf]=function(e){var r=jd(this,Tf)[Tf];t({context:r,params:e})&&jd(this,Cf)[Cf](n({params:e,context:r}))}}function If(e){var t=jd(this,uf)[uf],n=jd(this,hf)[hf](e);jd(this,lf)[lf]=function(e){var r=jd(this,Tf)[Tf];t({event:e,context:r})&&jd(this,Cf)[Cf](n({event:e,context:r}))}}function Of(e){var t=jd(this,uf)[uf],n=jd(this,hf)[hf](e);jd(this,lf)[lf]=function(){var e=jd(this,Tf)[Tf];t({context:e})&&jd(this,Cf)[Cf](n({context:e}))}}function Mf(e){var t,n=null===(t=jd(this,of)[of])||void 0===t?void 0:t.transform;return n?function(t){return n(e(t),{context:t.context})}:e}function Df(e,t){e()&&jd(this,Gd)[Gd].warn(t())}zd=Lf,Object.defineProperty(Lf,gf,{writable:!0,value:"default"}),Object.defineProperty(Lf,_f,{writable:!0,value:function(e){return e.length>0?e[0].toUpperCase()+e.slice(1):e}}),Object.defineProperty(Lf,bf,{writable:!0,value:function(e,t){return t?"".concat(t).concat(jd(zd,_f)[_f](e)):e}}),Object.defineProperty(Lf,xf,{writable:!0,value:(Gd=$d("builderLogger"),Zd=$d("instance"),Qd=$d("hasController"),Kd=$d("assert"),qd=$d("CounterHelperGroupBuilder"),Xd=$d("CounterHelperEventBuilder"),Yd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yf("CounterHelperBuilder");He(this,e),Object.defineProperty(this,Kd,{value:Df}),Object.defineProperty(this,Gd,{writable:!0,value:void 0}),Object.defineProperty(this,Zd,{writable:!0,value:void 0}),Object.defineProperty(this,Qd,{writable:!0,value:!1}),jd(this,Zd)[Zd]=t,jd(this,Gd)[Gd]=n}return We(e,[{key:"register",value:function(e,t){var n=this;jd(this,Kd)[Kd]((function(){return e in jd(jd(n,Zd)[Zd],Af)[Af]}),(function(){return"try to register existed event with name: ".concat(e)})),jd(jd(this,Zd)[Zd],Af)[Af][e]=t}},{key:"withNamespace",value:function(e){var t=this;return jd(this,Kd)[Kd]((function(){return jd(jd(t,Zd)[Zd],wf)[wf]!==jd(zd,gf)[gf]}),(function(){return"try to override defined namespace: ".concat(jd(t,Zd)[Zd].namespace," with value: ").concat(e)})),jd(jd(this,Zd)[Zd],wf)[wf]=e,this}},{key:"withContext",value:function(e){return jd(jd(this,Zd)[Zd],Sf)[Sf]="function"==typeof e?e:function(){return e},this}},{key:"debug",value:function(){if(jd(this,Qd)[Qd])throw new Error("builder has already logger controller");return jd(jd(this,Zd)[Zd],Ef)[Ef].level=vf.DEBUG,this}},{key:"loggerLevelController",value:function(e){return jd(jd(this,Zd)[Zd],Ef)[Ef].level=function(){return e.level},jd(this,Qd)[Qd]=!0,this}},{key:"event",value:function(e){return new(jd(jd(zd,xf)[xf],Xd)[Xd])(this,e,jd(jd(this,Zd)[Zd],kf)[kf])}},{key:"group",value:function(e){return new(jd(jd(zd,xf)[xf],qd)[qd])(this,e,jd(jd(this,Zd)[Zd],kf)[kf])}},{key:"onSend",value:function(e){return jd(jd(this,Zd)[Zd],Cf)[Cf]=function(t){jd(this,Ef)[Ef].log("sending message",t),e(t)},this}},{key:"extends",value:function(e){var t=this;return Object.entries(jd(e,Af)[Af]).forEach((function(e){var n=be(e,2),r=n[0],a=n[1];jd(jd(t,Zd)[Zd],Af)[Af][r]=a})),this}},{key:"use",value:function(e){if(jd(jd(this,Zd)[Zd],kf)[kf])throw jd(jd(this,Zd)[Zd],Ef)[Ef].error("external group builder has been already added"),new Error("external group builder has been already added");return jd(jd(this,Zd)[Zd],kf)[kf]=e.copyWith(this),this}},{key:"build",value:function(){return jd(this,Zd)[Zd]}}]),e}(),Object.defineProperty(Yd,qd,{writable:!0,value:(Jd=$d("builder"),ef=$d("prefix"),tf=$d("name"),nf=$d("parentGroup"),function(){function e(t,n){var r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;He(this,e),Object.defineProperty(this,Jd,{writable:!0,value:void 0}),Object.defineProperty(this,ef,{writable:!0,value:void 0}),Object.defineProperty(this,tf,{writable:!0,value:void 0}),Object.defineProperty(this,nf,{writable:!0,value:void 0}),this.transform=null,this.copyWith=function(t){var n=new e(t,jd(a,ef)[ef],jd(a,nf)[nf]);return n.transform=a.transform,n},jd(this,ef)[ef]=n,jd(this,tf)[tf]=jd(zd,bf)[bf](n,null==o?void 0:o.name),jd(this,Jd)[Jd]=t,jd(this,nf)[nf]=o,this.transform=null!==(r=null==o?void 0:o.transform)&&void 0!==r?r:null}return We(e,[{key:"name",get:function(){return jd(this,tf)[tf]}},{key:"endGroup",value:function(){var e;return jd(this,nf)[nf]===jd(jd(jd(this,Jd)[Jd],Zd)[Zd],kf)[kf]?jd(this,Jd)[Jd]:null!==(e=jd(this,nf)[nf])&&void 0!==e?e:jd(this,Jd)[Jd]}},{key:"event",value:function(e){return new(jd(jd(zd,xf)[xf],Xd)[Xd])(jd(this,Jd)[Jd],e,this)}},{key:"group",value:function(e){return new(jd(jd(zd,xf)[xf],qd)[qd])(jd(this,Jd)[Jd],e,this)}},{key:"withTransform",value:function(e){var t,n=this;return null!==(t=jd(this,nf)[nf])&&void 0!==t&&t.transform?this.transform=function(t){for(var r,a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return(r=jd(n,nf)[nf]).transform.apply(r,[e.apply(void 0,[t].concat(o))].concat(o))}:this.transform=e,this}}]),e}())}),Object.defineProperty(Yd,Xd,{writable:!0,value:(rf=$d("builder"),af=$d("name"),of=$d("group"),lf=$d("_handler"),sf=$d("_hasEvent"),cf=$d("_hasParams"),uf=$d("_predicate"),df=$d("createCounterWithEventAndParams"),ff=$d("createCounterWithParams"),pf=$d("createCounterWithEvent"),mf=$d("createCounterWithoutArgs"),hf=$d("applyGroupTransform"),function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;He(this,e),Object.defineProperty(this,hf,{value:Mf}),Object.defineProperty(this,mf,{value:Of}),Object.defineProperty(this,pf,{value:If}),Object.defineProperty(this,ff,{value:Pf}),Object.defineProperty(this,df,{value:Nf}),Object.defineProperty(this,rf,{writable:!0,value:void 0}),Object.defineProperty(this,af,{writable:!0,value:void 0}),Object.defineProperty(this,of,{writable:!0,value:void 0}),Object.defineProperty(this,lf,{writable:!0,value:function(){throw new Error("you forgot add message to event with name: ".concat(jd(r,af)[af]))}}),Object.defineProperty(this,sf,{writable:!0,value:!1}),Object.defineProperty(this,cf,{writable:!0,value:!1}),Object.defineProperty(this,uf,{writable:!0,value:function(){return!0}}),jd(this,rf)[rf]=t,jd(this,af)[af]=jd(zd,bf)[bf](n,null==a?void 0:a.name),jd(this,of)[of]=a}return We(e,[{key:"name",get:function(){return jd(this,af)[af]}},{key:"domEvent",value:function(){return jd(this,sf)[sf]=!0,this}},{key:"params",value:function(){return jd(this,cf)[cf]=!0,this}},{key:"permit",value:function(e){return jd(this,uf)[uf]=e,this}},{key:"message",value:function(e){return jd(this,lf)[lf]=e,this}},{key:"commit",value:function(){return jd(this,sf)[sf]&&jd(this,cf)[cf]?jd(this,df)[df](jd(this,lf)[lf]):jd(this,cf)[cf]?jd(this,ff)[ff](jd(this,lf)[lf]):jd(this,sf)[sf]?jd(this,pf)[pf](jd(this,lf)[lf]):jd(this,mf)[mf](jd(this,lf)[lf]),jd(this,rf)[rf].register(jd(this,af)[af],jd(this,lf)[lf]),jd(this,of)[of]===jd(jd(jd(this,rf)[rf],Zd)[Zd],kf)[kf]?jd(this,rf)[rf]:jd(this,of)[of]||jd(this,rf)[rf]}}]),e}())}),Yd)});var Ff=function(){function e(t){var n;if(He(this,e),this._level=vf.ERROR,this._logger=new yf("logger level controller",vf.LOG),this.id=t,"object"==typeof window)try{var r=window.localStorage.getItem(e.getId(t));r&&(this._level=vf[r])}catch(e){}this._level=null!==(n=this._level)&&void 0!==n?n:vf.ERROR}return We(e,[{key:"level",get:function(){return this._level}},{key:"changeLevel",value:function(t){if("object"==typeof window)try{window.localStorage.setItem(e.getId(this.id),vf[t])}catch(e){}this._level=t,this._logger.log("level has been changed to ".concat(vf[t]," for ").concat(this.id))}},{key:"bindEnableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,vf.DEBUG))}},{key:"bindDisableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,vf.ERROR))}}]),e}();Ff.getId=function(e){return"__".concat(e,"__")};const Vf="Raichu Metrics",Bf=new yf(Vf);n(9139);var Hf=n(1337);function*Uf(){return yield(0,Hf.take)(...arguments)}function*jf(){return yield(0,Hf.takeEvery)(...arguments)}function*Wf(){return yield(0,Hf.takeLatest)(...arguments)}function*$f(){return yield(0,Hf.put)(...arguments)}function*zf(){return yield(0,Hf.call)(...arguments)}function*Yf(){return yield(0,Hf.fork)(...arguments)}function*Gf(){return yield(0,Hf.select)(...arguments)}function*Zf(){return yield(0,Hf.delay)(...arguments)}const Qf={lastTimestamp:null,watchTime:0},Kf=Hr({name:"advertWatchTime",initialState:Qf,reducers:{cleanUp:()=>Qf,start:e=>{e.lastTimestamp=(new Date).getTime()},stop:e=>{if(e.lastTimestamp){const t=(new Date).getTime();e.watchTime+=t-e.lastTimestamp}e.lastTimestamp=null},increment:e=>{const t=(new Date).getTime();e.lastTimestamp&&(e.watchTime+=t-e.lastTimestamp),e.lastTimestamp=t}}}),qf=Kf.reducer,Xf=Kf.actions;function*Jf(e){const{type:t}=e;if(t===Xf.cleanUp.type)return void(yield $f(Xf.stop()));const n=e.payload;if(n)for(yield $f(Xf.start());n;)yield Zf(200),yield $f(Xf.increment());else yield $f(Xf.stop())}function*ep(){yield*Wf([Ks.setAdvertIsPlaying,Xf.cleanUp],Jf)}const tp={lastProcessedTimestamp:null,watchTime:0},np=Hr({name:"watchTime",initialState:tp,reducers:{cleanUp:()=>tp,incrementWatchTime:e=>{const t=(new Date).getTime(),n=e.lastProcessedTimestamp?t-e.lastProcessedTimestamp:0;n>0&&n<250?e.watchTime+=n:n>=250&&(e.watchTime+=200),e.lastProcessedTimestamp=t},stop:e=>{if(e.lastProcessedTimestamp){const t=(new Date).getTime();e.watchTime+=t-e.lastProcessedTimestamp}e.lastProcessedTimestamp=null},start:e=>{e.lastProcessedTimestamp=(new Date).getTime()}}}),rp=np.reducer,ap=np.actions;function*op(e){if(e.type===ap.cleanUp.type)return void(yield $f(ap.stop()));const t=e.payload;if(t)for(yield $f(ap.start());t;)yield Zf(200),yield $f(ap.incrementWatchTime());else yield $f(ap.stop())}function*ip(){yield*Wf([Ks.setPlaying,ap.cleanUp],op)}const lp=e=>e.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:0}),sp=e=>e.aggregatedStats,cp=e=>e.map((e=>Math.round(1e3*e))).join(","),up=e=>sp(e).nextHbConfig,dp=e=>{const t=sp(e).playbackActionsLog;return t[t.length-1]||""},fp=e=>cp(sp(e).rangeStartLog),pp=e=>cp(sp(e).rangeEndLog),mp=e=>{const t=(e=>sp(e).volumeLog)(e);return t.map(Math.round).join(",")},hp=e=>sp(e).speedLog.map(lp).join(","),vp=e=>sp(e).qualityLog,yp=e=>vp(e).join(","),gp=e=>sp(e).subtitlesLanguagesLog,_p=e=>gp(e).join(","),bp=e=>sp(e).playerSizeLog,Ep=e=>bp(e).join(","),wp=e=>sp(e).isBuffering,Ap=e=>sp(e).isSeeking,Sp=e=>sp(e).rewindStartPosition,Cp=bn(Aa,(e=>e.captions)),kp=bn(Aa,(e=>e.activeCaption)),Tp=bn(Aa,(e=>e.captionsSettings)),xp=bn(Tp,(e=>e.show)),Lp=bn(Tp,(e=>e.textSettings)),Rp=bn(Lp,(e=>e.color)),Np=bn(Lp,(e=>e.size)),Pp=bn(Tp,(e=>e.backgroundSettings)),Ip=bn(Pp,(e=>e.color)),Op=bn(Pp,(e=>e.opacity)),Mp=bn(Aa,(e=>e.savedCaptions)),Dp=bn([Mp,Ca],((e,t)=>e&&e[t]));const Fp=bn(kp,(function(e){return e?.langTitle||""})),Vp=Di(),Bp=e=>{switch(e){case"fullscreen":return"FS";case"mini":return Vp?"F":"M";case"cinema":return"W";default:return"S"}},Hp=bn(Ta,(e=>e?"embed":"web")),Up=bn(Da,(e=>e?"1":"0")),jp=bn((e=>e.player.playOptions),(e=>JSON.stringify({advert:e?.advert,limits:e?.limits,meta:e?.meta}))),Wp=bn(Cl,(e=>{const{id:t,requestTimestamp:n}=e;return t&&n?`${t}_${String(n)}_${Math.random()}`:""})),$p=e=>{const t=xp(e),n=kp(e);return t&&n?.langTitle||"0"},zp=bn([Ra,Na],((e,t)=>e.find((e=>{let{level:n}=e;return n===t})))),Yp=bn([zp,xa],((e,t)=>t?_a:e?.value||"")),Gp=e=>document.pictureInPictureElement?"P":Bp(e.player.playerMode),Zp=bn((e=>e.stats),(e=>{const t=ot(),{loadedTimestamp:n,viewCount:r}=e;return`${t}_${String(n)}_${String(r)}`})),Qp=[{getter:ye,names:["{{fingerprint_id}}"]},{names:["{{cid}}"],selector:e=>e.player.UUID},{names:["{{url_location}}","{{full_url}}"],getter:()=>window.location.href},{names:["{{screen_name}}"],getter:()=>window.location.pathname},{names:["{{aOris}}"],getter:()=>Xt().map((e=>encodeURIComponent(e||""))).join(",")},{cyclic:{selector:e=>sp(e).playbackActionsLog.join(",")},selector:dp,names:["{{event_action}}"]},{names:["{{ru_session_id}}"],getter:()=>Ke(ot(),(e=>Bf.log(`New session_id generated. sessionId: '${e}'`)))},{names:["{{ru_cid}}"],getter:ot},{names:["{{VTSmmm}}"],getter:()=>(new Date).getTime().toString()},{names:["{{time_zone}}"],getter:Ud},{names:["{{range_start}}"],cyclic:{selector:fp},selector:e=>{const t=sp(e).rangeStartLog,n=el(e),r=t[t.length-1],a=void 0===r?n:r;return Math.round(1e3*a).toString()}},{names:["{{range_end}}"],cyclic:{selector:pp},selector:e=>{const t=sp(e).rangeEndLog,n=el(e),r=t[t.length-1],a=void 0===r?n:r;return Math.round(1e3*a).toString()}},{names:["{{audio_vol}}"],cyclic:{selector:mp},selector:e=>{const t=Io(e),n=Oo(e);return t?"0":Math.round(n).toString()}},{names:["{{event_source}}"],getter:()=>"rutube"},{names:["{{play_speed}}"],cyclic:{selector:hp},selector:e=>{const t=lo(e);return lp(t)}},{names:["{{video_quality}}"],cyclic:{selector:yp},selector:Yp},{names:["{{subs_lang}}"],cyclic:{selector:_p},selector:$p},{names:["{{playlist_id}}"],selector:e=>(e.player.playlistId||"").toString()},{names:["{{content_next_item_id}}"],selector:e=>JSON.stringify(e.player.endScreenContent?.recommendation?.map((e=>e.video.id))||[])},{names:["{{auto_play}}"],selector:Up},{names:["{{touch_point}}"],selector:Hp},{names:["{{screen_size}}"],cyclic:{selector:Ep},selector:Gp},{names:["{{device_orientation}}"],getter:()=>{try{return window.matchMedia("(orientation: landscape)").matches?"H":window.matchMedia("(orientation: portrait)").matches?"V":"N"}catch(e){return"N"}}},{names:["{{watchtime}}"],selector:e=>String(Math.round(((e=>e.watchTime)(e).watchTime||0)/1e3))},{names:["{{random_int}}"],getter:()=>String(wd())},{names:["{{authorid}}","{{id_channel}}"],selector:e=>String(e.player.playOptions?.author?.id||"")},{names:["{{cid}}"],selector:e=>e.player.UUID||""},{names:["{{trackid}}"],selector:e=>String(e.player.playOptions?.id||"")},{names:["{{dl}}"],selector:e=>String(e.player.playOptions?.referer||"")},{names:["{{video_id}}"],selector:e=>String(e.player.playOptions?.video_id||"")},{names:["{{mid}}"],selector:e=>String(e.player.movieIndex)},{names:["{{pid}}"],selector:e=>e.player.GUID},{names:["{{ga_cid}}"],selector:e=>e.player.gaCid},{names:["{{live}}"],selector:e=>String(e.player.playOptions?.live_streams?.hls?"1":"0")},{selector:e=>String(Mo(e)||"na"),names:["{{viewer_id}}"]},{selector:e=>es(e)||"na",names:["{{viewer_id_na}}"]},{names:["{{full_referer}}"],selector:e=>e.player.playOptions?.referer||""},{names:["{{fts}}"],selector:e=>String(nl(e))},{names:["{{random}}"],getter:()=>String(Math.random())},{names:["{{click_video}}"],selector:e=>String(e.player.endScreenContent?.next_video?.id)},{names:["{{endscreen_videos}}"],selector:e=>String(e.player.endScreenContent?.next_video?.id)},{names:["{{referral_rutube}}"],selector:e=>e.player.followedLink||""},{names:["{{resource_id}}"],selector:e=>String(e.player.followedResourceId||"")},{names:["{{yclid}}"],getter:Ld},{names:["{{id_distribution}}"],selector:e=>e.player.distributionInfo?.id_distribution||""},{names:["{{id_website}}"],selector:e=>e.player.distributionInfo?.id_website||""},{names:["{{vts}}"],getter:()=>String(Math.floor(Date.now()/1e3))},{names:["{{puid50}}"],selector:e=>e.player.segments},{names:["{{screen_mode}}"],selector:e=>String(e.player.playerMode)},{names:["{{player_width}}"],selector:e=>String(e.player.playerSize?.width)},{names:["{{player_height}}"],selector:e=>String(e.player.playerSize?.height)},{names:["{{playback_qualiti}}"],selector:e=>{return t=e.player.qualities,n=e.player.activeQuality,t.find((e=>e.level===n))?.value||"";var t,n}},{names:["{{playback_speed}}"],selector:e=>String(e.player.activePlaybackRate)},{names:["{{toggle}}"],selector:e=>e.player.userSettings.autoplay?"on":"off"},{names:["{{yclid_p}}"],selector:e=>e.player.yclid_p},{names:["{{position}}"],getter:()=>""},{names:["{{contentCurrentPosition}}"],selector:e=>String(e.player.fragmentCurrentTime?Math.floor(e.player.fragmentCurrentTime/1e3):Math.floor(e.player.time))},{names:["{{ab_tag}}"],getter:()=>(e=>{const t=Ae.get(e),n=[];if(t)try{const e=JSON.parse(t);for(const t in e)n.push({id:t,group:e[t]?.active})}catch(e){console.error("statistics",e)}return JSON.stringify(n)})("canary1")},{names:["{{final}}"],selector:e=>sp(e).final?"1":"0"},{names:["{{player_name}}"],getter:()=>"raichu"},{names:["{{ad_dur}}"],selector:e=>String(kl(e))},{names:["{{ad_wt}}"],selector:e=>String(Math.round(((e=>e.advertWatchTime)(e).watchTime||0)/1e3))},{names:["{{ad_id}}"],selector:Ll},{names:["{{ads_rule_lim}}"],selector:e=>String(e.player.playOptions?.meta?.advert_limit_rule_id||"")},{names:["{{ads_skipt}}"],selector:e=>String(Tl(e))},{names:["{{ads_src}}"],selector:e=>String(Rl(e))},{names:["{{ads_opt}}"],selector:jp},{names:["{{ads_viewid}}"],selector:Wp},{names:["{{ads_owner_id}}"],selector:e=>String(Nl(e)??"na")},{names:["{{call_place}}"],getter:()=>"Main"},{names:["{{user_agent_cl}}"],getter:()=>window.navigator.userAgent??"na"},{names:["{{cvid}}"],selector:Zp},{names:["{{doc_ref}}"],getter:()=>document.referrer},{names:["{{appv}}"],getter:()=>"@rutube/raichu-embed@1.90.0-embed"},{names:["{{hdom}}"],getter:()=>Xt().findLast((e=>!e.includes("localhost")))||"https://rutube.ru"},{names:["{{cs_id_list}}"],selector:e=>Vo(e).join(",")},{names:["{{cs_id_list_na}}"],selector:e=>Vo(e).join(",")||"na"},{names:["{{is_backgr_player}}"],selector:e=>String(ai.isMobile&&Ha(e)?1:0)},{names:["{{player_size}}"],selector:e=>String(oo(e)??"")}],Kp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce(((e,t)=>function(e,t){let{names:n,value:r}=t,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.reduce(((e,t)=>e.replaceAll(t,a?encodeURIComponent(r):r)),e)}(e,t,n)),e)},qp=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.map((t=>{let{names:r,cyclic:a,...o}=t;const{selector:i,getter:l}=n&&a?a:o;return{names:r,value:l?l():i?i(e):""}}))},Xp=(e,t)=>{const n=qp(t,Qp);return Kp(e,n,!0)},Jp=(e,t,n)=>((e,t,n,r)=>{const{type:a="",advertName:o="",campaignId:i="",buttonType:l="",clickedUrl:s="",rewindDirection:c,rewindType:u,clickedItemTitle:d="",socialNetwork:f="",rawMacros:p={}}=r||{};let m=Object.entries(p).reduce(((e,t)=>{let[n,r]=t;return e.replaceAll(`{{${n}}}`,r)}),n);return m=m.replaceAll("{{format}}",a).replaceAll("{{adformat}}",o).replaceAll("{{clicked_url}}",encodeURIComponent(s)).replaceAll("{{random_int}}",String(wd())).replaceAll("{{campaign_id}}",i).replaceAll("{{type_button}}",String(l)).replaceAll("{{rewind}}",String(c)).replaceAll("{{type_rewind}}",String(u)).replaceAll("{{clicked_item_title}}",d).replaceAll("{{social_network}}",String(f)),e(m,t)})(Xp,e,t,n),em=(e,t,n)=>{const r={};return Object.keys(t).forEach((n=>{if("list_of_cards"===n)r[n]=(e=>{const t=e.endScreenContent,n=[];return t?.next_video?.id&&n.push({title:t.next_video.title,url:t.next_video.video_url,position:0}),Array.isArray(t?.recommendation)&&t?.recommendation.forEach(((e,t)=>{n.push({title:e.video.title,url:e.video.video_url,position:t+1})})),n})(e);else r[n]=t[n]})),r},tm=(e,t,n)=>((e,t,n,r)=>{try{for(const a of e){const e=a.hasOwnProperty("method_str"),o=t(n,e?a.method_str:a.url_template,r);if(e){const e=Cd(o);e&&xd(e)}else{const e={url:o,body:a.body?t(n,a.body,r):"",method:a.method};Nd(e)}}}catch(e){console.error(e)}})(e,Jp,t,n);const nm=e=>{let{node:t,advert:n,onAdvertSuccess:r,onAdvertError:a,onAdvertRequest:o,onAdvertStart:i,onAdvertClick:l,onAdvertClose:s,onAdvertLoad:c,onAdvertSkipped:u,onImpression:d,onCanPlay:f}=e;const p=ki(),m=xi(),h=(0,it.useRef)(null),v=(0,it.useRef)(null),[y,g]=(0,it.useState)(!1),_=(0,it.useRef)(!1),b=(0,it.useRef)(!1),E=Ni(so),w=(0,it.useRef)(null),A=Ni(ol),S=Ni(xl),C=-1!==n.name?.indexOf("overlay"),[k,T]=(0,it.useState)(!1),x=Ni(eo),L=Ni(Il),R=Ni(Kl),N=(0,it.useRef)(null),P=(0,it.useRef)(null),[I,O]=(0,it.useState)(0),M=Boolean(n?.name?.includes("preroll")),D=Ni(Ds),F=Ni(Io),V=Ni(Ta),B=!!D?.id&&rd.includes(D.id),H=Ni(Fo),U=b.current&&!_.current&&0===H.length&&!V&&!B,j=(0,it.useRef)(i);j.current=i;const W=(0,it.useRef)(a);W.current=a;const $=(0,it.useRef)(r);$.current=r;const z=(()=>{const[e,t]=(0,it.useState)(!1);return(0,it.useLayoutEffect)((()=>{gd((()=>{t(!0)}),(()=>{t(!1)}))}),[gd]),e})();(0,it.useEffect)((()=>{const e=()=>{w.current&&(document.hidden?(w.current?.adPlaybackController?.pauseAd?.(),m(Ks.setAdvertIsPlaying(!1))):(w.current?.adPlaybackController?.resumeAd?.(),m(Ks.setAdvertIsPlaying(!0))))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[m]),(0,it.useEffect)((()=>{const e=window.matchMedia("(orientation: portrait)"),t=()=>{if(w.current){const e=Boolean(h.current?.offsetWidth&&h.current?.offsetWidth>450);w.current?.adPlaybackController?.setControlsVisibility({play:e,mute:e,adLabel:!1,timeline:!1,loader:!0})}};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}),[w]),(0,it.useEffect)((()=>{L&&k&&w.current?.adViewer?.preload({videoSlot:h,...R})}),[L,k]);const Y=(0,it.useCallback)((()=>{w.current?.adViewer?.destroy&&(w.current.adViewer.destroy(),w?.current?.adPlaybackController&&(w.current=null)),T(!1)}),[w]),G=()=>{_.current||(_.current=!0,-1!==n.name.indexOf("preroll")&&m(Ks.setLiveMidrollShowPreroll(!1)),$.current(),m(Ks.resetAdvertState()),Y(),g(!0))},Z=()=>{b.current||(j.current(),b.current=!0)};(0,it.useEffect)((()=>{if(!_.current){const e=k&&w?.current&&!S&&!L,t=n.name.startsWith("preroll");(n.name.startsWith("postroll")?E:e||t)&&w?.current?.adPlaybackController.playAd()}}),[k,L,A,n,E,S]);const Q=()=>{_.current||(_.current=!0,-1!==n.name.indexOf("preroll")&&m(Ks.setLiveMidrollShowPreroll(!1)),m(Ks.resetAdvertState()),W.current(),g(!0),Y())},K=()=>{const e=w?.current?.adPlaybackController?.getAdVolumeAvailabilityState();if(z&&e){const e=w.current?.adPlaybackController?.getAdVolume()||0,t=.5*(Io(p.getState())?0:Oo(p.getState()))/(e>1?1:100),n=Mi()&&M?0:t;w.current?.adPlaybackController?.setAdVolume(n)}},q=(0,it.useRef)(K);q.current=K;(0,it.useEffect)((()=>()=>{P.current&&clearTimeout(P.current)}),[]),(0,it.useEffect)((()=>{N.current=null,O(0);(async()=>{try{if(!h.current||!v.current)return;o(),w.current=await Ed({url:Jp(p.getState(),n.url_template),video:h.current,wrapper:v.current,timeout:1e3*(n.adtimeout||3),subscribes:{AdStarted:()=>{q?.current()},AdPodStarted:()=>{q?.current(),Z()},AdPodError:e=>{Q(),console.error(e)},AdPodSkipped:e=>{u(),G(),console.info(e)},AdPodClose:e=>{s?.(),G(),console.info(e)},AdClickThru:e=>{l(),console.info(e)},AdPodImpression:()=>{P.current=null,q?.current(),d()},AdPodStopped:()=>G(),AdStopped:()=>{G()},AdvertLoad:e=>{c("string"==typeof e?e:"")},AdPlayingStateChange:e=>{"string"!=typeof e&&("pause"===e?.playingState&&m(Ks.setAdvertIsPlaying(!1)),"play"===e?.playingState&&(Z(),m(Ks.setAdvertIsPlaying(!0))))},AdRemainingTimeChange:()=>{const e=w?.current?.adPlaybackController?.getAdRemainingTime();N.current||(N.current=e||null);const t=((e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0})(N.current,e||null);O((e=>e>t?e:t))}},decode:!0,containerId:ad,dispatch:m})}catch(e){console.error(e),Q()}T(!0)})()}),[JSON.stringify(n),h,v]);const X=hd(h),J=yd(ps);return md({[pd.SubscriptionCancel]:()=>{w.current&&w.current.adPlaybackController?.resumeAd?.()}}),it.createElement(it.Fragment,null,it.createElement("div",{className:ti()({[ad]:!C,[ld]:C,[id]:!w.current&&!x,[cd]:y}),style:J,id:ad,ref:v},it.createElement(nd,{node:t,className:ti()("raichu-adver-tag",{[od]:!C,[sd]:C}),poster:C?void 0:zu,ref:h,playsInline:!0,onLoadedMetadata:()=>{P.current=setTimeout((()=>{0===h.current?.currentTime&&Q()}),1e4)},onError:Q,muted:F||M,onCanPlay:f,onVolumeChange:X})),U&&it.createElement(Zu,{ads:w.current,advertName:n?.name}),it.createElement(fd,{viewed:I}))},rm="ADFOX_SDK",am={[rm]:nm},om=e=>{let{node:t,isTouchDevice:n,isTtVersion:r,onAdvertStart:a,onAdvertEnd:o,onAdvertPackEnd:i,playerProvider:l}=e;const s=xi(),c=Ni(ls),[u,d]=(0,it.useState)(!1),[f,p]=(0,it.useState)(!1),[m,h]=(0,it.useState)([]),v=Ni(Zl),y=Ni(Il),g=!!v,_=Ni(Pl),b=(0,it.useRef)(""),E=l?.instance,w=Ni(il),A=Ni(ol),S=Ni(fl),C=Ni($l),k=(0,it.useRef)(C),[T,x]=(0,it.useState)(C),L=Ni(eo),R=Ni(Ca),{resetQueue:N}=Hu();(0,it.useEffect)((()=>{C&&C<k.current&&A!==w&&s(Ks.setTime(w)),k.current=C}),[C]),(0,it.useEffect)((()=>{Pi((()=>{g?((A<v.start||v.name.includes("midroll")&&A<S)&&s(Ks.setAdvertPreloading(!0)),s(Ks.setTimeAtAdvertStarted(v.start))):s(Ks.setTimeAtAdvertStarted(null))}))}),[g]),(0,it.useEffect)((()=>{(T<=0&&C>0||T>0&&0===C&&!v)&&x(C)}),[C,v,T]),(e=>{const t=(0,it.useRef)(),n=(0,it.useRef)(),r=xi();(0,it.useEffect)((()=>{Pi((()=>{if(e&&!t.current){const{type:a,name:o}=ju(e),i=a.replace(/mobile?/,""),l=`ADVERT_STAT_BLOCK_START_${i.toUpperCase()}`;r(Ks.sendYm({statEventType:Zc.ADVERT_STAT_BLOCK_START,params:{type_ad:o}})),r(Ks.sendYm({statEventType:Zc[l],params:{type_ad:o}})),r(Ks.trackStat({eventName:Kc.ADVERT_STAT_BLOCK_START,advertName:o})),r(Ks.trackStat({eventName:Kc[`ADVERT_STAT_BLOCK_START_${i.toUpperCase()}`],advertName:o})),t.current=i,n.current=o}})),Pi((()=>{if(!e&&t.current&&n.current){const e=`ADVERT_STAT_BLOCK_START_${t.current.toUpperCase()}`;r(Ks.sendYm({statEventType:Zc.ADVERT_STAT_BLOCK_END,params:{type_ad:n.current}})),r(Ks.sendYm({statEventType:Zc[e],params:{type_ad:n.current}})),r(Ks.trackStat({eventName:Kc.ADVERT_STAT_BLOCK_END,advertName:n.current})),r(Ks.trackStat({eventName:Kc[`ADVERT_STAT_BLOCK_END_${n.current.toUpperCase()}`],advertName:n.current})),t.current=void 0,n.current=void 0}}))}),[e,r])})(v),(e=>{let{advertName:t,wasStarted:n,campaignId:r}=e;const a=xi();(0,it.useEffect)((()=>{const e=()=>{n&&a(Ks.trackStat({eventName:Kc.ADVERT_STAT_END_CLOSE,advertName:t,campaignId:r}))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[t,r,n])})({advertName:v?.name,campaignId:b?.current,wasStarted:f});const P=e=>{if(o(e),x(T-1),r&&(s(Ks.removeViewedAdvert("newmidroll")),m.length)){const e=m.filter((e=>"newmidroll"!==e.item.name));h(e)}s(Xf.cleanUp())},I=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.name.replace(/\d+/,""),r=_[n];t&&s(Ks.setLimitAdverts({..._,[n]:r?r+1:1})),s(Ks.addViewedAdverts(e.name))},O=(0,it.useCallback)((e=>{const t=e.name;I(e),P(e),p(!1),Pi((()=>{s(Ks.trackStat({eventName:Kc.ADVERT_STAT_END,advertName:t,campaignId:b.current})),fc(zt.AD_END,{aformat:t,did:ye(),videoId:R,e:$u.A_END,axurl:e.url_template}),s(Ks.setLastAdvertEvent({event:$u.A_END,name:t})),s(Ks.setLastTtMidrollTime()),c[Zc.LOAD_AFTER_AD]?.length&&c[Zc.LOAD_AFTER_AD].forEach((e=>{const t=e;s(Ks.sendStat(t))}))}))}),[v,r,m]),M=()=>{setTimeout((()=>{E?.startLoad&&E?.startLoad()}),1e3)};(0,it.useEffect)((()=>{if(!v&&L)return i(),void N();if(v&&m.every((e=>e.item.name!==v.name))){const e=(e=>{const{url_template:t}=e;return t?rm:null})(v);m.reduce(((e,t)=>(e[t.item.name]=t,e)),{})[v.name]||h((t=>e?[...t,{item:v,mapper:am[e]}]:t))}}),[v,T,L,N]);const D=(0,it.useMemo)((function(){return m.map(((e,o)=>{const i=e.mapper,l=o+1===m.length;return l?it.createElement(it.Fragment,{key:e.item.name},it.createElement(i,{key:e.item.name,node:l?t:void 0,advert:e.item,onAdvertSuccess:()=>O(e.item),onAdvertRequest:()=>(e=>{const{type:t,name:n,urlParams:r}=ju(e);"livemidroll"!==n.replace(/\d+/,"")&&E?.stopLoad(),Pi((()=>{s(Ks.setAdvertOwnerId(r?.ownerId)),s(Ks.sendYm({statEventType:Zc.AD_REQUEST,params:{type_ad:n}})),s(Ks.trackStat({eventName:Kc.ADVERT_STAT_SEND,advertName:n})),s(Ks.trackStat({eventName:Kc[`ADVERT_STAT_SEND_${t.toUpperCase()}`],advertName:n})),s(Ks.setAdvertRequestTimestamp((new Date).getTime()))}))})(e.item),onAdvertError:()=>(e=>{const{name:t}=e;E?.startLoad&&E?.startLoad(),I(e,!1),r&&(s(Ks.removeViewedAdvert("newmidroll")),s(Ks.removeViewedAdvert("newmobilmidroll"))),s(Ks.setLastTtMidrollTime()),P(e),d(!0),p(!1),Pi((()=>{s(Ks.trackStat({eventName:Kc.ADVERT_STAT_ERROR,advertName:t,campaignId:b.current})),fc(zt.AD_END,{aformat:t,did:ye(),videoId:R,e:$u.A_END,axurl:e.url_template}),s(Ks.setLastAdvertEvent({event:$u.A_END,name:t}))}))})(e.item),onAdvertStart:()=>(e=>{const{type:t,name:r}=ju(e);a(e),d(!0),p(!0),n&&s(Ks.setShowControls(!1)),Pi((()=>{s(Ks.trackStat({eventName:Kc.ADVERT_STAT_START,advertName:r,campaignId:b.current})),s(Ks.trackStat({eventName:Kc[`ADVERT_STAT_START_${t.toUpperCase()}`],advertName:t,campaignId:b.current})),fc(zt.AD_START,{aformat:r,did:ye(),videoId:R,e:$u.A_START,axurl:e.url_template}),s(Ks.setLastAdvertEvent({event:$u.A_START,name:r}))}))})(e.item),onAdvertClick:()=>(e=>{s(Ks.trackStat({eventName:Kc.ADVERT_STAT_CLICK,advertName:e.name,campaignId:b.current})),s(Ks.sendYm({statEventType:Zc.AD_CLICK,params:{advertName:e.name}}))})(e.item),onAdvertClose:()=>(e=>{const{name:t}=e;I(e),P(e),p(!1),Pi((()=>{s(Ks.trackStat({eventName:Kc.ADVERT_STAT_CLOSE,advertName:t,campaignId:b.current})),fc(zt.AD_END,{aformat:t,did:ye(),videoId:R,e:$u.A_END,axurl:e.url_template}),s(Ks.setLastAdvertEvent({event:$u.A_END,name:t}))})),s(Ks.setLastTtMidrollTime())})(e.item),onAdvertSkipped:()=>(e=>{const{name:t}=e;p(!1),s(Xf.cleanUp()),s(Ks.trackStat({eventName:Kc.ADVERT_STAT_SKIP,advertName:t,campaignId:b.current}))})(e.item),onImpression:M,onAdvertLoad:t=>((e,t)=>{const{type:n,name:r}=ju(e),{url_template:a}=e;b.current=t,E?.startLoad&&E?.startLoad(),Pi((()=>{y&&s(Ks.setShowAdvertTimer(!0)),s(Ks.trackStat({eventName:Kc.ADVERT_STAT_RECEIVE,advertName:r,campaignId:b.current})),s(Ks.trackStat({eventName:Kc[`ADVERT_STAT_RECEIVE_${n.toUpperCase()}`],advertName:r,campaignId:b.current})),fc(zt.AD_REQUEST,{aformat:r,did:ye(),videoId:R,e:$u.A_REQUEST,axurl:a}),s(Ks.setLastAdvertEvent({event:$u.A_REQUEST,name:r}))}))})(e.item,t||"")})):null}))}),[m,t]),F=v&&v.name.includes("preroll")?v.start>w:!v||!L,V=yd(ps);return it.createElement("div",{key:"raichu-advert","data-testid":"advert",style:{position:"absolute",top:0,width:"100%",height:"100%",justifyContent:"center",pointerEvents:v||u?"all":"none",opacity:v||u?1:0,visibility:F?"hidden":"visible",display:"flex"}},m&&m.length>0&&-1===m[m.length-1]?.item?.name.indexOf("overlay")&&it.createElement(it.Fragment,null,!u&&it.createElement("div",{style:{...V,position:"absolute",width:"100%",height:"100%",zIndex:10,pointerEvents:"none"}},it.createElement(ri,null))),it.createElement("div",{style:{opacity:u?"1":"0"}},D))},im="raichu-advert-counter-module__wrapper___aBbLU",lm=e=>e.player.liveMidrollState,sm=bn(lm,(e=>e.showPreroll)),cm=bn(lm,(e=>e.needToPrefetch)),um=bn([lm],(e=>e.startPlay)),dm=bn([lm],(e=>e.active)),fm=bn([lm],(e=>e.isPlaying)),pm=bn([e=>e.player.advert,dm,sm],((e,t,n)=>e?.preroll&&n?e?.preroll[0]:!t||e?.preroll&&n||!e?.livemidroll?null:e?.livemidroll[0])),mm=bn([lm],(e=>e.duration)),hm=e=>{const t=Zt(e.url_template);return t?.gowast_title||"Реклама"},vm=()=>{const e=Ni($l),t=Ni(as),n=Ni(eo),r=Ni(t?pm:Zl),a=(0,it.useRef)(0),[o,i]=(0,it.useState)(0),[l,s]=(0,it.useState)(0);if((0,it.useEffect)((()=>{e&&!a.current&&(i(e),s(1)),e<a.current&&s((e=>e+1)),a.current=e}),[e]),!r||!n)return null;const c=`${hm(r)}${o>1?` ${l} из ${o}`:""}`;return it.createElement("span",{role:"alert","aria-live":"polite",className:im},c)},ym=(e,t)=>{const n=(()=>{const e=(0,it.useRef)(!0);return e.current?(e.current=!1,!0):e.current})();(0,it.useEffect)((()=>{if(!n)return e()}),t)},gm="raichu-advert-timer-module__wrapper___g3sQQ",_m="raichu-advert-timer-module__wrapper_advertActive___yYMLQ",bm="raichu-advert-timer-module__wrapper_hiddenControls___MfOwr",Em="raichu-advert-timer-module__hidden___h_76j",wm=(0,it.memo)((()=>{const e=xi(),t=Ni(Zl),n=Ni(fl),r=Ni(nl),a=Ni(Ol),o=Ni(Fa),i=Ni(eo),l=Ni(Ka),s=Ni(so),c=Ni(ll),u=Ni(ro),d=Ni(Ga),[f,p]=(0,it.useState)(0),m=(0,it.useRef)(null),h=Oi()&&d;function v(){t&&!m.current&&(m.current=setInterval((()=>{p((e=>e-1))}),1e3))}function y(){m.current&&(clearInterval(m.current),m.current=null)}function g(){Pi((()=>{e(Ks.setAdvertPreloading(!1)),e(Ks.setShowAdvertTimer(!1))}))}(0,it.useEffect)((()=>{if(a&&t&&!i){const e=Math.floor(n-r),t=Math.min(e,5);p(t),!l||c||h||v()}return()=>{y()}}),[a,t,i]),ym((()=>{f<=0&&g()}),[f]),(0,it.useEffect)((()=>{s&&a&&g()}),[s,a]),(0,it.useEffect)((()=>{!l||c||h?y():l&&!c&&f&&v()}),[l,c,h]);const _=ti()(gm,{[bm]:!o,[_m]:a,[Em]:u&&u.width<=768&&ai.isMobile&&o});return(0,it.useEffect)((()=>{e(!i&&t&&f>0?Ks.setIsAdvertTimerShowing(!0):Ks.setIsAdvertTimerShowing(!1))}),[t,i,f]),!i&&t&&f>0?it.createElement("span",{className:_},"Реклама начнется через ",f):null})),Am="raichu-advert-wrapper-module__advertWrapper___ETIJB",Sm="raichu-advert-wrapper-module__hiddenAdvertWrapper___MoVuA",Cm=e=>{let{advertComponent:t,isTVLiveStream:n,wasStarted:r,isAdBlock:a,advertList:o,renderMidroll:i}=e;return it.createElement("div",{className:ti()(Am,{[Sm]:a||0===Object.keys(o).length})},t,r&&n&&i())},km={"Русский":"ru","Английский":"en"},Tm=e=>{const{caption:t,cueChangeHandler:n,active:r,isCaptionsOn:a,isFullScreen:o}=e,i=(0,it.useRef)(null),[l,s]=(0,it.useState)(!1),c=xi();return(0,it.useEffect)((()=>{if(i?.current){const e=i.current.track;r&&Oi()&&"disabled"===e.mode&&l&&c(Ks.setCaptionSettingsShow(!1)),e.mode="hidden",r&&a&&o&&Oi()&&(e.mode="showing",s(!0)),!r||o&&Oi()||(e.mode="hidden"),r||(e.mode="hidden",e.removeEventListener("cuechange",n)),r&&e.addEventListener("cuechange",n)}return()=>{i?.current?.track?.removeEventListener("cuechange",n)}}),[i,r,o,a,n,l]),(0,it.useEffect)((()=>{if(i?.current){const e=i.current.track;return"showing"===e.mode&&e.addEventListener("cuechange",n),"showing"===e.mode&&Oi()&&o&&c(Ks.setActiveCaption(t)),()=>{r||i?.current?.track?.removeEventListener("cuechange",n)}}}),[i?.current?.track.mode]),it.createElement("track",{id:`${t.sub_id??"track_0"}`,ref:i,src:t.file,kind:"captions",srcLang:km[t.langTitle]})},xm="raichu-captions-module__captions___m1A5J",Lm="raichu-captions-module__captionsFontMedium___smSoX",Rm="raichu-captions-module__captionsFontSmall___Gu1Po",Nm="raichu-captions-module__captionsFontLarge___gSXxQ",Pm="raichu-captions-module__captionsWithControls___UO5NI",Im="raichu-captions-module__span___oJDdb";var Om=n(7140),Mm=n.n(Om);const Dm=["script","object","applet","embed","frameset","iframe","form","textarea","input","select","button","img","picture","canvas","figure","audio","video"],Fm=(e,t)=>{Array.from(e.childNodes).forEach((e=>{const n=e.nodeName.toLowerCase();if("#text"===n)return;Fm(e,t);if(t.includes(n)){const t=document.createElement(n);t.innerHTML=e.innerHTML,e.replaceWith(t)}else e.replaceWith(...e.childNodes)}))},Vm=e=>{const{video:t,isControlsShown:n}=e,r=xi(),a=Ni(Hs),o=Ni(Cp),i=Ni(kp),l=Ni(xp),[s,c]=(0,it.useState)(null),u=Ni(Rp),d=Ni(Ip),f=Ni(Op),p=Ni(Np),m=(0,it.useRef)({}),h=Ni(Ga);(0,it.useEffect)((()=>{a?.length&&r(Ks.setAllAndActiveCaptionsState({playOptionsCaptions:a}))}),[r,a]);const v=(0,it.useCallback)((e=>{const t=e?.target;if(h&&Oi()&&"showing"===t?.mode&&t?.id&&o){const e=parseInt(t.id),n=o[e]??null;n&&Pi((()=>{r(Ks.setCaptionSettingsShow(!0)),r(Ks.setActiveCaption(n))}))}if(t&&t.activeCues?.length){const e=((e,t)=>{const n=(new DOMParser).parseFromString(e,"text/html");return n.querySelectorAll(Dm.join(",")).forEach((e=>e.remove())),Fm(n.body,t),n.body.innerHTML})(t.activeCues[0].text,["b","i","strong","em"]);c(e)}else c(null)}),[h,o,r]);(0,it.useEffect)((()=>{t&&o&&Object.keys(o).forEach((e=>{const t=parseInt(e),n=o[t],r={...n};n&&!m.current[t]&&("vtt"===n.format&&(r.file=n.file,m.current={...m.current,[t]:r}),(async e=>{const t=await fetch(e);let n,r="";return t&&(n=await t.blob()),n&&(r=await Mm()(n)),r})(n.file).then((e=>{if(r.file=e,m.current={...m.current,[t]:r},!r.file)return null})).catch((e=>{console.warn("fetchCaptionError",e)})))}))}),[t,o,m]);const y=(0,it.useMemo)((()=>{if(s&&l){const e=(e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(d),t={color:u,background:`rgba(${e?.r??0}, ${e?.g??0}, ${e?.b??0}, ${f/10})`};return it.createElement("div",{className:ti()(xm,{[Pm]:n,[Lm]:"medium"===p,[Nm]:"large"===p,[Rm]:"small"===p})},it.createElement("span",{className:Im,style:t,dangerouslySetInnerHTML:{__html:s}}))}return null}),[s,l,d,u,f,n,p]);return it.createElement(it.Fragment,null,(()=>{if(!t||!window?.Hls)return null;const e=Object.values(m.current).map((e=>it.createElement(Tm,{key:e.sub_id,active:e.sub_id===i?.sub_id,cueChangeHandler:v,caption:e,isCaptionsOn:l,isFullScreen:h})));return Ku.createPortal(e,t)})(),y)},Bm="raichu-livemidroll-module__SDKWrapper___Q_FTh",Hm="raichu-livemidroll-module__SDKVideo___KLtSr",Um="raichu-livemidroll-module__SDKTitle___HLLTb",jm="raichu-livemidroll-module__end___nemmy",Wm="raichu-livemidroll-module__hidden___miKum",$m="raichu-livemidroll-module__loaderWrapper___dHBHk",zm="raichu-livemidroll-module__advertWrapper___Zu7d4",Ym="raichu-livemidroll-module__advertWrapperShown___gKaKr",Gm=e=>{let{node:t,advert:n,onAdvertSuccess:r,onAdvertError:a,onAdvertRequest:o,onAdvertStart:i,onAdvertClick:l,onAdvertLoad:s}=e;const c=ki(),u=xi(),d=(0,it.useRef)(null),f=(0,it.useRef)(null),[p,m]=(0,it.useState)(!1),h=(0,it.useRef)(!1),v=(0,it.useRef)(!1),y=(0,it.useRef)(),g=(0,it.useRef)(i);g.current=i;const _=(0,it.useRef)(a);_.current=a;const b=(0,it.useRef)(r);b.current=r;const E=Ni(cm),w=Ni(um),A=Ni(fm),S=Ni(mm)||20;let C;const k=(0,it.useCallback)((()=>{y.current?.adViewer?.destroy&&y.current.adViewer.destroy(),y.current?.adPlaybackController?.destroy&&y.current.adPlaybackController.destroy(),C&&clearTimeout(C)}),[C]);(0,it.useEffect)((()=>{w&&(y.current?.adPlaybackController?.playAd(),y.current?.adPlaybackController?.setAdVolume(0),C=setTimeout((()=>{k()}),1e3*Number(S)),u(Ks.setLiveMidrollStartPlay(!1)),u(Ks.setLiveMidrollIsPlaying(!0)))}),[y.current,w]);const T=(0,it.useCallback)((()=>{h.current||(h.current=!0,b.current(),u(Ks.setLiveMidrollActive(!1)),u(Ks.setLiveMidrollIsPlaying(!1)),"preroll"===n.name&&u(Ks.setLiveMidrollShowPreroll(!1)),k(),m(!0))}),[k,n.name]),x=()=>{h.current||(h.current=!0,_.current(),u(Ks.setLiveMidrollActive(!1)),u(Ks.setLiveMidrollIsPlaying(!1)),m(!0),k())};(0,it.useEffect)((()=>{(async()=>{try{if(o(),!f.current)return;y.current=await Ed({url:Jp(c.getState(),n.url_template),video:d.current,wrapper:f.current,timeout:1e3*(n.adtimeout||3),subscribes:{AdPodStarted:()=>{y.current?.adPlaybackController?.setAdVolume(0),g.current(),v.current=!0},AdPodError:()=>{x()},AdPodSkipped:()=>{T()},AdPodClose:()=>{T()},AdClickThru:()=>{l()},AdPlayingStateChange:e=>{"string"!=typeof e&&("play"!==e?.playingState||v.current||g.current())},AdPodStopped:()=>T(),AdStopped:()=>T(),AdvertLoad:e=>{"string"==typeof e&&s(e)}},decode:!1,containerId:Bm})}catch(e){x()}})()}),[]),(0,it.useEffect)((()=>{E&&y.current?.adViewer?.preload({videoSlot:d})}),[E]),(0,it.useEffect)((()=>{w&&(y.current?.adPlaybackController?.playAd(),y.current?.adPlaybackController?.setAdVolume(0),C=setTimeout((()=>{k()}),1e3*Number(S)),u(Ks.setLiveMidrollStartPlay(!1)),u(Ks.setLiveMidrollIsPlaying(!0)))}),[y.current,w]);const L=hd(d),R=yd(ps);return it.createElement("div",{className:ti()({[Bm]:A,[Wm]:!A,[jm]:p}),id:Bm,style:R,ref:f},A&&it.createElement("div",{className:Um},hm(n)),it.createElement(nd,{node:t,className:ti()({[Hm]:A}),poster:A?zu:void 0,ref:d,playsInline:!0,onLoadedMetadata:()=>{const e=setTimeout((()=>{clearTimeout(e),0===d.current?.currentTime&&x()}),3e3)},onError:x,onVolumeChange:L,muted:!0}))},Zm=e=>{let{node:t,isMobile:n,onAdvertStart:r,onAdvertEnd:a}=e;const o=xi(),[i,l]=(0,it.useState)(!1),s=Ni(pm),c=(0,it.useRef)(""),u=Ni(Ca),d=(0,it.useCallback)((()=>{if(!s)return;const{type:e,name:t}=ju(s);Pi((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_SEND,advertName:t})),o(Ks.trackStat({eventName:Kc[`ADVERT_STAT_SEND_${e.toUpperCase()}`],advertName:t}))}))}),[o,s]),f=(0,it.useCallback)((e=>{if(!s||!e)return;const{type:t,name:n}=ju(s);l(!0),c.current=e,Pi((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_RECEIVE,advertName:n,campaignId:c.current})),o(Ks.trackStat({eventName:`ADVERT_STAT_RECEIVE_${t.toUpperCase()}`,advertName:n,campaignId:c.current})),fc(zt.AD_REQUEST,{aformat:n,did:ye(),videoId:u,e:$u.A_REQUEST,axurl:s.url_template}),o(Ks.setLastAdvertEvent({event:$u.A_REQUEST,name:n}))}))}),[s,u]),p=(0,it.useCallback)((()=>{if(!s)return;const{type:e,name:t}=ju(s);n&&o(Ks.setShowControls(!1)),r(s),Pi((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_START,advertName:t,campaignId:c.current})),o(Ks.trackStat({eventName:`ADVERT_STAT_START_${e.toUpperCase()}`,advertName:e,campaignId:c.current})),fc(zt.AD_START,{aformat:t,did:ye(),videoId:u,e:$u.A_START,axurl:s.url_template}),o(Ks.setLastAdvertEvent({event:$u.A_START,name:t}))}))}),[s,n,r,u]),m=(0,it.useCallback)((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_CLICK,advertName:s?.name,campaignId:c.current}))}),[o,s,c]),h=(0,it.useCallback)((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_SKIP,advertName:s?.name,campaignId:c.current}))}),[s]),v=yd(ps);if(!s)return null;const y="preroll"===s.name?nm:Gm,g=!(!s&&!i);return it.createElement("div",{className:ti()(zm,{[Ym]:g,[Ym]:!g})},s&&it.createElement(it.Fragment,null,!i&&it.createElement("div",{className:$m,style:v},it.createElement(ri,null))),it.createElement(y,{node:t,advert:s,onAdvertSuccess:()=>{if(!s)return;const e=s.name;s&&a(s),Pi((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_END,advertName:e,campaignId:c.current})),o(Ks.setLastAdvertEvent({event:$u.A_END,name:e}))}))},onAdvertRequest:d,onAdvertError:()=>{if(!s)return;const e=s.name;a(s),l(!0),Pi((()=>{o(Ks.trackStat({eventName:Kc.ADVERT_STAT_ERROR,advertName:e,campaignId:c.current})),fc(zt.AD_END,{aformat:e,did:ye(),videoId:u,e:$u.A_END,axurl:s.url_template}),o(Ks.setLastAdvertEvent({event:$u.A_END,name:e}))}))},onAdvertStart:p,onAdvertClick:m,onAdvertLoad:f,onAdvertSkipped:h,onImpression:()=>null}))},Qm=[{id:"ALCOHOL",text:()=>it.createElement(it.Fragment,null,"Видео может содержать сцены",it.createElement("br",null),"употребления табака/алкоголя"),type:"danger",excludeOnAudio:!0},{id:"HEALTH",text:()=>it.createElement(it.Fragment,null,"Алкоголь и никотин",it.createElement("br",null),"вредят здоровью"),type:"danger",excludeOnAudio:!0},{id:"META",text:()=>it.createElement(it.Fragment,null,"Facebook и Instagram запрещены в РФ"),type:"info",excludeOnAudio:!1}];const Km=()=>it.createElement("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.07098 3.99998C7.07098 3.37302 6.71293 2.92887 6.33854 2.59841C5.98517 2.2865 5.48037 1.95868 4.90546 1.58534L4.45451 1.29244C3.7769 0.852255 3.19386 0.473506 2.70923 0.251768C2.21004 0.0233663 1.58636 -0.146654 0.970897 0.187484C0.355434 0.521621 0.158295 1.13727 0.0779271 1.68032C-9.51181e-05 2.20751 -5.11007e-05 2.90276 0 3.71078V4.28913C-5.11007e-05 5.09715 -9.51181e-05 5.79244 0.0779271 6.31963C0.158295 6.86268 0.355434 7.47833 0.970897 7.81246C1.58636 8.1466 2.21004 7.97658 2.70923 7.74818C3.19386 7.52644 3.77689 7.1477 4.45449 6.70752L4.90545 6.41462C5.48035 6.04128 5.98518 5.71344 6.33854 5.40154C6.71293 5.07108 7.07098 4.62693 7.07098 3.99998Z",fill:"#FFFFFF"})),qm="raichu-mobile-preview-tip-module__tipsContainer___ovdCo",Xm="raichu-mobile-preview-tip-module__doubleTap___OsLgP",Jm="raichu-mobile-preview-tip-module__isEmbed___oqy1g",eh="raichu-mobile-preview-tip-module__triangles___MHFb6",th="raichu-mobile-preview-tip-module__rotated___SiUmL",nh=e=>{let{isRotated:t}=e;return it.createElement("div",{className:ti()(eh,{[th]:t})},it.createElement(Km,null),it.createElement(Km,null))},rh=e=>{let{type:t,isEmbed:n}=e;return it.createElement("div",{className:ti()(qm,{[Jm]:n})},"long-press"===t&&it.createElement("p",null,"Нажмите и удерживайте, чтобы ускорить воспроизведение до x2"),"double-tap"===t&&it.createElement("div",{className:Xm},it.createElement(nh,{isRotated:!0}),it.createElement("p",null,"Дважды коснитесь видео справа или слева, ",it.createElement("br",null)," чтобы перемотать его на 10 сек. вперёд или назад"),it.createElement(nh,null)))},ah="raichu-mobile-preview-module__wrapper___e4pYS",oh="raichu-mobile-preview-module__preview___z1E0D";var ih=function(e){return e.RAICHU_LOADER_TEMPLATE="raichuLoaderTemplate",e.RAICHU_CONTAINER_WITH_PLAYER="raichuContainerWithPlayer",e.RAICHU_VIDEO_TAG_NODE="raichuVideoTagNode",e.RAICHU_AREAS_BAR="raichuAreasBar",e.RAICHU_MOBILE_PREVIEW="raichuMobilePreview",e.RAICHU_AREAS_BAR_PREVIEW="raichuAreasBarPreview",e.RAICHU_AREAS_BAR_PREVIEW_TIME="raichuAreaBarPreviewTime",e.RAICHU_VOLUME_BAR="raichuVolumeBar",e.RAICHU_TIME_INFO="raichuTimeInfo",e.RAICHU_RIGHT_CONTROLS="raichuRightControls",e.RAICHU_DISCLAIMER_QUEUE="raichuDisclaimerQueue",e}(ih||{});const lh=e=>{let{previewUrl:t,time:n}=e;return`${t}/Sec${n}.jpg?size=m`},sh=e=>{let{type:t}=e;const n=Ni(bo),r=Ni(wo),a=Ni(Ta),o=Ni(Ga),i=(0,it.useMemo)((()=>({width:"calc(100vw + 5px)",height:o||a?void 0:"calc(100% + 4px)",aspectRatio:o||a?"16/9":void 0})),[a,o]);return it.createElement("div",{className:ah,id:ih.RAICHU_MOBILE_PREVIEW},t&&it.createElement(rh,{key:t,type:t,isEmbed:a}),n&&null!==r&&it.createElement("img",{src:lh({previewUrl:n,time:r}),style:i,"aria-label":`mobile-preview-at-${r}`,"aria-describedby":"mobile-preview",className:oh,fetchPriority:"high",loading:"lazy"}))},ch="raichu-loader-template-module__wrapper___eQOuC",uh="raichu-loader-template-module__portraitNoTouchScroll___xrmHX",dh="raichu-loader-template-module__previewOnMobile___rmLQi",fh="raichu-loader-template-module__loaded___bf7oH",ph="raichu-loader-template-module__noControls___caJOu",mh="raichu-loader-template-module__fullScreen___MvJ49",hh=(0,it.forwardRef)(((e,t)=>{let{children:n,allowVerticalTouchScroll:r,mount:a,isInteractiveLayerVisible:o}=e;const i=xi(),l=Ni(Ga),s=Ni(Co),c=Ni(Ua),u=Ni(Fa),d=Ni(za),f=yd(fs),p=Ni(ps),m=Ni(Ws),h=(0,it.useMemo)((()=>function(e,t,n){return n?t?e?Qm.filter((e=>!e.excludeOnAudio)):Qm:Qm.filter((e=>"META"===e.id)):[]}(!1,m,s)),[s,m]),v=Ni(Ta),y=Ni(Eo),g=Ni(So),[_,b]=(0,it.useState)(null),[E,w]=(0,it.useState)("long-press");(0,it.useEffect)((()=>{b(c?{backgroundColor:"var(--pen-primary)"}:{...p,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundColor:"black"})}),[c,f,p]),(0,it.useLayoutEffect)((()=>{y||0===y||("double-tap"!==E?"long-press"!==E||w("double-tap"):w("long-press"))}),[y]);return(0,it.useEffect)((()=>{!v&&s&&a&&document.getElementById(ih.RAICHU_CONTAINER_WITH_PLAYER)?.focus({preventScroll:!0})}),[v,s,a]),it.createElement("div",{className:ti()(ch,fh,{[ph]:!u&&!o,[uh]:!r&&!o,[dh]:g,[mh]:l}),style:{..._},id:ih.RAICHU_LOADER_TEMPLATE,ref:t,"aria-label":"'Видео плеер RUTUBE"+("fullscreen"===d?" в полноэкранном режиме":""),onClick:e=>{if(i(Ks.setUserInteracted(!0)),ai.isMobile)return;const t=0!==e.detail&&0!==e.nativeEvent.offsetX&&0!==e.nativeEvent.offsetY,n=e.currentTarget.querySelector(".front-control:focus");n&&"blur"in n&&"function"==typeof n.blur&&t&&(n.blur(),document.getElementById(ih.RAICHU_CONTAINER_WITH_PLAYER)?.focus({preventScroll:!0}))}},g&&it.createElement(sh,{type:E}),it.createElement(Uu,{defaultQueue:h},s&&a?n:null))})),vh="https://static.rutube.ru/webconfigs/player-embed-config.json",yh="https://static.rutube.dev/webconfigs/player-embed-config.json",gh=["qa.rutube.ru","aq.rutube.ru","qaq.rutube.ru"];var _h=n(4823);const bh=e=>e.then((e=>{return"object"==typeof(t=e)&&null!==t&&Boolean(t?.json)?e.json:e;var t})),Eh=()=>{try{return _h.env.API||window.location.origin}catch(e){console.info("getUrl",e)}return window.location.origin},wh=()=>{try{return _h.env.PANGOLIN||"/pangolin/api/web"}catch(e){console.info("getPangolinUrl",e)}return window.location.origin},Ah=async()=>{try{const t="rutube.ru"===(e=window.location.hostname)||gh.includes(e)?vh:yh,n=6e5*Math.floor(Date.now()/6e5),r=await fetch(`${t}?t=${n}`);if(!r.ok)throw new Error(`HTTP error, status: ${r.status}`);return await r.json()}catch(e){return console.warn("Error fetching configuration:",e),null}var e},Sh=async e=>{const t=(()=>{const e=`https://log.${window.location.host}`.replace(/qa\.|aq\.|qaq\./,"");return _h.env.LOG||e})();if(!t)return Promise.resolve();await fetch(`${t}/player_events/?${e}`)},Ch=async function(e,t){let n=arguments.length>3?arguments[3]:void 0;const r={client:t,limit:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:6).toString()};n&&(r.playlist_id=n.toString());const a=new URLSearchParams(r).toString();return(await fetch(`${Eh()}/api/v2/video/end-screen/${e}/?${a}`)).json()},kh=(e,t)=>fetch(`https://distribution.rutube.ru/api/distribution/distributors/websites/?url=${e}&id_website=${t}`,{method:"get"}).then((e=>e.json()));function Th(e,t){const n=(0,it.useRef)();(0,it.useEffect)((()=>{n.current=e}),[e]),(0,it.useEffect)((()=>{if("number"==typeof t){const e=setInterval((function(){void 0!==n.current&&n.current()}),t);return()=>clearInterval(e)}}),[t])}const xh=e=>e?.details?.fragments||[],Lh=e=>e.tagList.reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),Rh=e=>{const t=xh(e);return 0===t.length?{}:t.reduce(((e,t)=>(e[t.relurl]=Lh(t),e)),{})},Nh=e=>{if(e){return e.split(",").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}return{}},Ph=(e,t,n,r)=>{if(!n)return[];const a=r||Rh(e);let o;const i=((e,t)=>{const n=xh(e);return n?n.reduce(((e,n)=>(Lh(n)[t]&&n.relurl&&e.push(n.relurl),e)),[]):[]})(e,n);return i.reduce(((e,r)=>(a[r]&&(o=Nh(a[r][n]),o[t]&&e.push(r)),e)),[])},Ih=e=>{let t,n;if(!e)return{edge:"",dive:""};const r=e?.url?.[0];try{n=new URL(r).hostname}catch(e){console.info(e)}if(-1!==r.indexOf("dive")){const e=r.split("/");t=e[e.indexOf("dive")+1],-1!==t.indexOf("https")&&(t=e[e.indexOf("dive")+3])}return{edge:n,dive:t}},Oh={[$u.A_REQUEST]:Wu.A_REQUEST,[$u.A_START]:Wu.A_PLAYING,[$u.A_END]:Wu.VIDEO_PLAYING},Mh=new Map,Dh=[],Fh={default:"dm",fullscreen:"tm",mini:"pip",audio:"au"},Vh=async e=>{try{await Sh(e)}catch(e){console.error(e)}},Bh=e=>{const{player:t,provider:n,isVideoMount:r}=e,[a]=yd(bs),o=Ni(so),i=yd(Ka),l=Ni(xa),s=Ni(Na),c=yd(za),u=yd(Ga),d=yd(Ql),f=yd(no),p=f?.name;let m=null;p&&(m=d[p]);const h=yd(Sa),v=Ni(Ca),y=Ni(Jl),g=yd(Aa),_=(0,it.useRef)(Wu.START),b=(0,it.useRef)(!1),E=(0,it.useRef)(!1),w=n?.instance?.levels,A=(0,it.useRef)(n),S=(0,it.useRef)(!0),C=(0,it.useRef)(!1),[k,T]=(0,it.useState)(0),[x,L]=(0,it.useState)(0);(0,it.useEffect)((()=>{A.current=n}),[n]),(0,it.useEffect)((()=>{E.current=!1}),[v]);const R=(e,n,r)=>{let o;n&&(_.current=n),a===Xl.HLS&&(o=A.current?.instance?.bandwidthEstimate);const i=(e=>{let{state:t,player:n,playOptions:r,playerStatus:a,bandwidth:o,type:i,providerRef:l,isFullScreen:s,eventName:c,errMsg:u,advert:d,isFirstStart:f}=e;if(!t)return null;const p=t.videoId,m=String(t.playOptions?.id||""),h=t.UUID,v=t.GUID,y=t.userId||void 0,g=t.isAutoQuality,_=t.stubType||void 0,b=t.playerMode,E=l.current?.instance?.levels,w=l.current?.instance?.currentLevel,A=E&&w&&E[w],{edge:S,dive:C}=Ih(E&&(A||E[0])),k=n.current?.currentTime?+(1e3*n.current?.currentTime).toFixed(0):void 0,T=n.current?.muted?0:(100*(n.current?.volume||0)).toFixed(0),x=s?"fm":Fh[b||"default"],L=["a_request","a_start","a_end"].indexOf(c)>=0;let R=0;window.__rutube?.indexTs&&(R=Date.now()-window.__rutube.indexTs);const N={app:"raichu",ms:Date.now()-window.__rutube.internalTs,did:ye(),pid:v,sid:h,view_id:r?.view_id,uid:y,ps:a.current,e:c,referer:tn(),tl:k,video_id:p,track_id:m,sm:x,qm:g?"auto":"manual",qw:A&&A?.width,qh:A&&A?.height,v:T,l:_,tr:i,edge:S,dive:C,bw:Number.isNaN(o)||!o?null:Math.round(o),axurl:L?d?.url_template:void 0,aformat:L?d?.name:void 0,ver:"@rutube/raichu-embed@1.90.0-embed",em:u||void 0,vsid:t.visitorId,isFirstStart:f,indexMs:R};return Object.keys(N).filter((e=>!!N[e]||0===N[e])).reduce(((e,t)=>(e[t]=N[t],e)),{app:"raichu"})})({state:g,player:t,playOptions:y,playerStatus:_,providerRef:A,type:a,bandwidth:o,eventName:e,isFullScreen:u,errMsg:r,advert:m,isFirstStart:S.current});e===$u.ERROR&&r&&!((e,t)=>{const n=t.get(e),r=Date.now();return(!n||r-3e3>n)&&(t.set(e,r),!0)})(r,Mh)||i&&((e,t)=>{const n=Object.keys(e).reduce(((t,n)=>(t[n]=e[n]?.toString()??"",t)),{}),r=new URLSearchParams(n).toString();e.did&&t.length?(t.forEach((t=>{Vh(`${t}&did=${e?.did||""}`).catch((e=>console.info(e)))})),t.length=0):e.did?Vh(r).catch((e=>console.info(e))):t.push(r)})(i,Dh)},N=(e,t)=>{if(a===Xl.HLS){const e=t.fatal?Wu.FATAL:void 0,n=t?`${t.type||"Unknown Type"} - ${t.details||"Unknown Details"}`:"Unknown Error";R($u.ERROR,e,n)}},P=()=>{E.current=!0,S.current=!1,R($u.PLAY_START,Wu.VIDEO_PLAYING)},I=()=>{if(E.current)R($u.UNPAUSE,Wu.VIDEO_PLAYING);else{const e=A.current?.instance;e?.levels&&-1!==e?.currentLevel?P():t.current?.addEventListener("playing",P,{once:!0})}},O=()=>{const{readyState:e}=t.current;3!==e&&4!==e||C.current||(R($u.FIRST_FRAGMENT),C.current=!0)},M=()=>{R($u.PAUSE,Wu.VIDEO_PAUSE)},D=()=>{R($u.BUFFERING_START,Wu.BUFFERING),b.current=!0},F=()=>{b.current&&(R($u.BUFFERING_END,Wu.BUFFERING),b.current=!1)},V=()=>R($u.REWIND),B=()=>R($u.CHANGE_V);return(0,it.useEffect)((()=>{w?.length&&R($u.BL_REQUEST,Wu.BALANCER_REQUEST)}),[w]),(0,it.useEffect)((()=>{if(h){let e;e="object"==typeof h?`${h?.message||""} ${h?.stack||""}`:h,R($u.ERROR,Wu.FATAL,e)}}),[h]),(0,it.useEffect)((()=>(v&&(R($u.START,Wu.START),fc(zt.INIT,{clientId:De(),videoId:v}),fc(zt.READY,{clientId:De(),videoId:v})),()=>{C.current=!1})),[v]),(0,it.useEffect)((()=>{a&&v&&R($u.OPTIONS_REQUEST,Wu.INITIALIZED)}),[a,v]),(0,it.useEffect)((()=>{o&&R($u.END,Wu.VIDEO_PLAYING_END)}),[o]),(0,it.useEffect)((()=>{if(f){const e=f.event;R(e,Oh[e])}}),[f]),(0,it.useEffect)((()=>{const{current:e}=t;return e&&(e.addEventListener("play",I),e.addEventListener("pause",M),e.addEventListener("waiting",D),e.addEventListener("timeupdate",F),e.addEventListener("seeked",V),e.addEventListener("volumechange",B)),()=>{e&&(e.removeEventListener("play",I),e.removeEventListener("pause",M),e.removeEventListener("waiting",D),e.removeEventListener("timeupdate",F),e.removeEventListener("seeked",V),e.removeEventListener("volumechange",B))}}),[t.current]),(0,it.useEffect)((()=>(n?.instance&&a===Xl.HLS&&window.Hls&&n?.instance.on(window?.Hls?.Events.FRAG_LOADED,O),()=>{n?.instance&&a===Xl.HLS&&window.Hls&&n?.instance.off(window?.Hls?.Events.FRAG_LOADED,O)})),[n?.instance]),(0,it.useEffect)((()=>{if(n?.instance&&a===Xl.HLS&&window.Hls){n.instance.on(window.Hls.Events.ERROR,N)}return()=>{if(a===Xl.HLS&&window.Hls){const e=n?.instance;e&&e.off(window.Hls.Events.ERROR,N)}}})),Th((()=>{i&&L(x+100)}),100),(0,it.useEffect)((()=>{1e4===x&&R($u.TEN_SEC)}),[x]),(0,it.useEffect)((()=>{r&&i&&s!==k&&(T(s),R($u.CHANGE_Q))}),[s,r,i,s]),(0,it.useEffect)((()=>{r&&R($u.CHANGE_QM)}),[l,r]),(0,it.useEffect)((()=>{v&&(u?"fm":Fh[c||"default"])&&(c||null!==u)&&R($u.CHANGE_SM)}),[c,v,u]),null},Hh="raichu-partner-stub-module__externalPlayer___tbbp5",Uh=e=>{let{partnerPlayerUrl:t}=e;return it.createElement("iframe",{title:t,src:t,width:"100%",height:"100%",allow:"autoplay; encrypted-media; fullscreen",className:Hh})},jh=it.createContext(null),Wh=()=>(0,it.useContext)(jh),$h=e=>{let{children:t,boundary:n}=e;const[r,a]=(0,it.useState)(null);return(0,it.useEffect)((()=>{a(n)}),[n]),it.createElement(jh.Provider,{value:r},t)};function zh(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yh(e){return e instanceof zh(e).Element||e instanceof Element}function Gh(e){return e instanceof zh(e).HTMLElement||e instanceof HTMLElement}function Zh(e){return"undefined"!=typeof ShadowRoot&&(e instanceof zh(e).ShadowRoot||e instanceof ShadowRoot)}var Qh=Math.max,Kh=Math.min,qh=Math.round;function Xh(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Jh(){return!/^((?!chrome|android).)*safari/i.test(Xh())}function ev(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;t&&Gh(e)&&(a=e.offsetWidth>0&&qh(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&qh(r.height)/e.offsetHeight||1);var i=(Yh(e)?zh(e):window).visualViewport,l=!Jh()&&n,s=(r.left+(l&&i?i.offsetLeft:0))/a,c=(r.top+(l&&i?i.offsetTop:0))/o,u=r.width/a,d=r.height/o;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s,x:s,y:c}}function tv(e){var t=zh(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nv(e){return e?(e.nodeName||"").toLowerCase():null}function rv(e){return((Yh(e)?e.ownerDocument:e.document)||window.document).documentElement}function av(e){return ev(rv(e)).left+tv(e).scrollLeft}function ov(e){return zh(e).getComputedStyle(e)}function iv(e){var t=ov(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function lv(e,t,n){void 0===n&&(n=!1);var r,a,o=Gh(t),i=Gh(t)&&function(e){var t=e.getBoundingClientRect(),n=qh(t.width)/e.offsetWidth||1,r=qh(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),l=rv(t),s=ev(e,i,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==nv(t)||iv(l))&&(c=(r=t)!==zh(r)&&Gh(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:tv(r)),Gh(t)?((u=ev(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):l&&(u.x=av(l))),{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function sv(e){var t=ev(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function cv(e){return"html"===nv(e)?e:e.assignedSlot||e.parentNode||(Zh(e)?e.host:null)||rv(e)}function uv(e){return["html","body","#document"].indexOf(nv(e))>=0?e.ownerDocument.body:Gh(e)&&iv(e)?e:uv(cv(e))}function dv(e,t){var n;void 0===t&&(t=[]);var r=uv(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=zh(r),i=a?[o].concat(o.visualViewport||[],iv(r)?r:[]):r,l=t.concat(i);return a?l:l.concat(dv(cv(i)))}function fv(e){return["table","td","th"].indexOf(nv(e))>=0}function pv(e){return Gh(e)&&"fixed"!==ov(e).position?e.offsetParent:null}function mv(e){for(var t=zh(e),n=pv(e);n&&fv(n)&&"static"===ov(n).position;)n=pv(n);return n&&("html"===nv(n)||"body"===nv(n)&&"static"===ov(n).position)?t:n||function(e){var t=/firefox/i.test(Xh());if(/Trident/i.test(Xh())&&Gh(e)&&"fixed"===ov(e).position)return null;var n=cv(e);for(Zh(n)&&(n=n.host);Gh(n)&&["html","body"].indexOf(nv(n))<0;){var r=ov(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var hv="top",vv="bottom",yv="right",gv="left",_v="auto",bv=[hv,vv,yv,gv],Ev="start",wv="end",Av="viewport",Sv="popper",Cv=bv.reduce((function(e,t){return e.concat([t+"-"+Ev,t+"-"+wv])}),[]),kv=[].concat(bv,[_v]).reduce((function(e,t){return e.concat([t,t+"-"+Ev,t+"-"+wv])}),[]),Tv=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xv(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}var Lv={placement:"bottom",modifiers:[],strategy:"absolute"};function Rv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Nv(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?Lv:a;return function(e,t,n){void 0===n&&(n=o);var a,i,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lv,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],c=!1,u={state:l,setOptions:function(n){var a="function"==typeof n?n(l.options):n;d(),l.options=Object.assign({},o,l.options,a),l.scrollParents={reference:Yh(e)?dv(e):e.contextElement?dv(e.contextElement):[],popper:dv(t)};var i,c,f=function(e){var t=xv(e);return Tv.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,l.options.modifiers),c=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var o=a({state:l,name:t,instance:u,options:r}),i=function(){};s.push(o||i)}})),u.update()},forceUpdate:function(){if(!c){var e=l.elements,t=e.reference,n=e.popper;if(Rv(t,n)){l.rects={reference:lv(t,mv(n),"fixed"===l.options.strategy),popper:sv(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var a=l.orderedModifiers[r],o=a.fn,i=a.options,s=void 0===i?{}:i,d=a.name;"function"==typeof o&&(l=o({state:l,options:s,name:d,instance:u})||l)}else l.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(a())}))}))),i}),destroy:function(){d(),c=!0}};if(!Rv(e,t))return u;function d(){s.forEach((function(e){return e()})),s=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Pv={passive:!0};const Iv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,l=void 0===i||i,s=zh(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Pv)})),l&&s.addEventListener("resize",n.update,Pv),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Pv)})),l&&s.removeEventListener("resize",n.update,Pv)}},data:{}};function Ov(e){return e.split("-")[0]}function Mv(e){return e.split("-")[1]}function Dv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fv(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?Ov(a):null,i=a?Mv(a):null,l=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(o){case hv:t={x:l,y:n.y-r.height};break;case vv:t={x:l,y:n.y+n.height};break;case yv:t={x:n.x+n.width,y:s};break;case gv:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=o?Dv(o):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case Ev:t[c]=t[c]-(n[u]/2-r[u]/2);break;case wv:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}const Vv={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Fv({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Bv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hv(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,l=e.position,s=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=i.x,p=void 0===f?0:f,m=i.y,h=void 0===m?0:m,v="function"==typeof u?u({x:p,y:h}):{x:p,y:h};p=v.x,h=v.y;var y=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),_=gv,b=hv,E=window;if(c){var w=mv(n),A="clientHeight",S="clientWidth";if(w===zh(n)&&"static"!==ov(w=rv(n)).position&&"absolute"===l&&(A="scrollHeight",S="scrollWidth"),a===hv||(a===gv||a===yv)&&o===wv)b=vv,h-=(d&&w===E&&E.visualViewport?E.visualViewport.height:w[A])-r.height,h*=s?1:-1;if(a===gv||(a===hv||a===vv)&&o===wv)_=yv,p-=(d&&w===E&&E.visualViewport?E.visualViewport.width:w[S])-r.width,p*=s?1:-1}var C,k=Object.assign({position:l},c&&Bv),T=!0===u?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:qh(n*a)/a||0,y:qh(r*a)/a||0}}({x:p,y:h},zh(n)):{x:p,y:h};return p=T.x,h=T.y,s?Object.assign({},k,((C={})[b]=g?"0":"",C[_]=y?"0":"",C.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",C)):Object.assign({},k,((t={})[b]=g?h+"px":"",t[_]=y?p+"px":"",t.transform="",t))}const Uv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,l=n.roundOffsets,s=void 0===l||l,c={placement:Ov(t.placement),variation:Mv(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Hv(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Hv(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const jv={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];Gh(a)&&nv(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Gh(r)&&nv(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const Wv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=kv.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ov(e),a=[gv,hv].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],l=o[1];return i=i||0,l=(l||0)*a,[gv,yv].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}(n,t.rects,o),e}),{}),l=i[t.placement],s=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}};var $v={left:"right",right:"left",bottom:"top",top:"bottom"};function zv(e){return e.replace(/left|right|bottom|top/g,(function(e){return $v[e]}))}var Yv={start:"end",end:"start"};function Gv(e){return e.replace(/start|end/g,(function(e){return Yv[e]}))}function Zv(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zh(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Kv(e,t,n){return t===Av?Qv(function(e,t){var n=zh(e),r=rv(e),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,l=0,s=0;if(a){o=a.width,i=a.height;var c=Jh();(c||!c&&"fixed"===t)&&(l=a.offsetLeft,s=a.offsetTop)}return{width:o,height:i,x:l+av(e),y:s}}(e,n)):Yh(t)?function(e,t){var n=ev(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Qv(function(e){var t,n=rv(e),r=tv(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=Qh(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Qh(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+av(e),s=-r.scrollTop;return"rtl"===ov(a||n).direction&&(l+=Qh(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:l,y:s}}(rv(e)))}function qv(e,t,n,r){var a="clippingParents"===t?function(e){var t=dv(cv(e)),n=["absolute","fixed"].indexOf(ov(e).position)>=0&&Gh(e)?mv(e):e;return Yh(n)?t.filter((function(e){return Yh(e)&&Zv(e,n)&&"body"!==nv(e)})):[]}(e):[].concat(t),o=[].concat(a,[n]),i=o[0],l=o.reduce((function(t,n){var a=Kv(e,n,r);return t.top=Qh(a.top,t.top),t.right=Kh(a.right,t.right),t.bottom=Kh(a.bottom,t.bottom),t.left=Qh(a.left,t.left),t}),Kv(e,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Xv(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Jv(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ey(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.strategy,i=void 0===o?e.strategy:o,l=n.boundary,s=void 0===l?"clippingParents":l,c=n.rootBoundary,u=void 0===c?Av:c,d=n.elementContext,f=void 0===d?Sv:d,p=n.altBoundary,m=void 0!==p&&p,h=n.padding,v=void 0===h?0:h,y=Xv("number"!=typeof v?v:Jv(v,bv)),g=f===Sv?"reference":Sv,_=e.rects.popper,b=e.elements[m?g:f],E=qv(Yh(b)?b:b.contextElement||rv(e.elements.popper),s,u,i),w=ev(e.elements.reference),A=Fv({reference:w,element:_,strategy:"absolute",placement:a}),S=Qv(Object.assign({},_,A)),C=f===Sv?S:w,k={top:E.top-C.top+y.top,bottom:C.bottom-E.bottom+y.bottom,left:E.left-C.left+y.left,right:C.right-E.right+y.right},T=e.modifiersData.offset;if(f===Sv&&T){var x=T[a];Object.keys(k).forEach((function(e){var t=[yv,vv].indexOf(e)>=0?1:-1,n=[hv,vv].indexOf(e)>=0?"y":"x";k[e]+=x[n]*t}))}return k}const ty={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,l=void 0===i||i,s=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=void 0===p||p,h=n.allowedAutoPlacements,v=t.options.placement,y=Ov(v),g=s||(y===v||!m?[zv(v)]:function(e){if(Ov(e)===_v)return[];var t=zv(e);return[Gv(e),t,Gv(t)]}(v)),_=[v].concat(g).reduce((function(e,n){return e.concat(Ov(n)===_v?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,l=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?kv:s,u=Mv(r),d=u?l?Cv:Cv.filter((function(e){return Mv(e)===u})):bv,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=ey(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[Ov(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),b=t.rects.reference,E=t.rects.popper,w=new Map,A=!0,S=_[0],C=0;C<_.length;C++){var k=_[C],T=Ov(k),x=Mv(k)===Ev,L=[hv,vv].indexOf(T)>=0,R=L?"width":"height",N=ey(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),P=L?x?yv:gv:x?vv:hv;b[R]>E[R]&&(P=zv(P));var I=zv(P),O=[];if(o&&O.push(N[T]<=0),l&&O.push(N[P]<=0,N[I]<=0),O.every((function(e){return e}))){S=k,A=!1;break}w.set(k,O)}if(A)for(var M=function(e){var t=_.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=m?3:1;D>0;D--){if("break"===M(D))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ny(e,t,n){return Qh(e,Kh(t,n))}const ry={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,l=void 0!==i&&i,s=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,m=n.tetherOffset,h=void 0===m?0:m,v=ey(t,{boundary:s,rootBoundary:c,padding:d,altBoundary:u}),y=Ov(t.placement),g=Mv(t.placement),_=!g,b=Dv(y),E="x"===b?"y":"x",w=t.modifiersData.popperOffsets,A=t.rects.reference,S=t.rects.popper,C="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,k="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(w){if(o){var L,R="y"===b?hv:gv,N="y"===b?vv:yv,P="y"===b?"height":"width",I=w[b],O=I+v[R],M=I-v[N],D=p?-S[P]/2:0,F=g===Ev?A[P]:S[P],V=g===Ev?-S[P]:-A[P],B=t.elements.arrow,H=p&&B?sv(B):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=U[R],W=U[N],$=ny(0,A[P],H[P]),z=_?A[P]/2-D-$-j-k.mainAxis:F-$-j-k.mainAxis,Y=_?-A[P]/2+D+$+W+k.mainAxis:V+$+W+k.mainAxis,G=t.elements.arrow&&mv(t.elements.arrow),Z=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Q=null!=(L=null==T?void 0:T[b])?L:0,K=I+Y-Q,q=ny(p?Kh(O,I+z-Q-Z):O,I,p?Qh(M,K):M);w[b]=q,x[b]=q-I}if(l){var X,J="x"===b?hv:gv,ee="x"===b?vv:yv,te=w[E],ne="y"===E?"height":"width",re=te+v[J],ae=te-v[ee],oe=-1!==[hv,gv].indexOf(y),ie=null!=(X=null==T?void 0:T[E])?X:0,le=oe?re:te-A[ne]-S[ne]-ie+k.altAxis,se=oe?te+A[ne]+S[ne]-ie-k.altAxis:ae,ce=p&&oe?function(e,t,n){var r=ny(e,t,n);return r>n?n:r}(le,te,se):ny(p?le:re,te,p?se:ae);w[E]=ce,x[E]=ce-te}t.modifiersData[r]=x}},requiresIfExists:["offset"]};const ay={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,l=Ov(n.placement),s=Dv(l),c=[gv,yv].indexOf(l)>=0?"height":"width";if(o&&i){var u=function(e,t){return Xv("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Jv(e,bv))}(a.padding,n),d=sv(o),f="y"===s?hv:gv,p="y"===s?vv:yv,m=n.rects.reference[c]+n.rects.reference[s]-i[s]-n.rects.popper[c],h=i[s]-n.rects.reference[s],v=mv(o),y=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,g=m/2-h/2,_=u[f],b=y-d[c]-u[p],E=y/2-d[c]/2+g,w=ny(_,E,b),A=s;n.modifiersData[r]=((t={})[A]=w,t.centerOffset=w-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Zv(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oy(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function iy(e){return[hv,yv,vv,gv].some((function(t){return e[t]>=0}))}const ly={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=ey(t,{elementContext:"reference"}),l=ey(t,{altBoundary:!0}),s=oy(i,r),c=oy(l,a,o),u=iy(s),d=iy(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var sy=Nv({defaultModifiers:[Iv,Vv,Uv,jv,Wv,ty,ry,ay,ly]}),cy=n(9712),uy=n.n(cy),dy=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},fy="undefined"!=typeof window&&window.document&&window.document.createElement?it.useLayoutEffect:it.useEffect,py=[],my="freyja_char-popper-portal__popperWrapper_LgNXT";const hy="tooltip",vy={dropdown:200,tooltip:300},yy={charPopperZIndexMap:vy},gy=e=>{let{children:t,container:n}=e;const r=(0,it.useMemo)((()=>document.createElement("div")),[]);return(0,it.useEffect)((()=>{const e=n||document.body;return e.appendChild(r),()=>{e.removeChild(r)}}),[r,n]),(0,Ku.createPortal)(t,r)},_y=it.createContext(yy),by=e=>{let{renderPopperElements:t,popperElements:n,isPopperShown:r,children:a,popperOptions:o,hidePopperOnHidingElement:i=!0,popperKey:l,customPopperZIndex:s,anchorRef:c,anchorElement:u,portal:d=!0,portalContainer:f,instanceRef:p}=e;const[m,h]=(0,it.useState)(null),v=function(e,t,n){void 0===n&&(n={});var r=it.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||py},o=it.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=o[0],l=o[1],s=it.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);Ku.flushSync((function(){l({styles:dy(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:dy(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),c=it.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[s,{name:"applyStyles",enabled:!1}])};return uy()(r.current,e)?r.current||e:(r.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,s]),u=it.useRef();return fy((function(){u.current&&u.current.setOptions(c)}),[c]),fy((function(){if(null!=e&&null!=t){var r=(n.createPopper||sy)(e,t,c);return u.current=r,function(){r.destroy(),u.current=null}}}),[e,t,n.createPopper]),{state:u.current?u.current.state:null,styles:i.styles,attributes:i.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}}(u||c?.current,m,o),{styles:y,attributes:g}=v,{charPopperZIndexMap:_}=(0,it.useContext)(_y);(0,it.useImperativeHandle)(p,(()=>v),[v]);const b=()=>it.createElement("div",(0,Qu.default)({className:ti()({[my]:i}),ref:h,style:{...y.popper,zIndex:s??_?.[l]}},g.popper),!!n&&n,!!t&&t({placement:v.state?.placement,styles:y,attributes:g}));return it.createElement(it.Fragment,null,a,r&&(d?it.createElement(gy,{container:f},b()):b()))},Ey="context-menu-module__menu___HlSXX",wy=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M17.6569 17.6569L6.34315 6.34315M17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315L17.6569 17.6569ZM17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20C9.87827 20 7.84344 19.1571 6.34315 17.6569C4.84285 16.1566 4 14.1217 4 12C4 9.87827 4.84285 7.84344 6.34315 6.34315L17.6569 17.6569Z",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Ay="menu-item-module__menuItem___jLAEF",Sy=(0,it.memo)((e=>{let{name:t,Icon:n,onClick:r,className:a,innerHtml:o}=e;return it.createElement("div",{className:ti()(Ay,a),onClick:r,tabIndex:0,"aria-label":t},it.createElement(n,{color:"var(--pen-secondary50)"}),o?it.createElement("span",{dangerouslySetInnerHTML:{__html:t}}):t)})),Cy=e=>{let{onClick:t,className:n,hideInfoIcon:r=!1}=e;const a=((e,t)=>{const n=Ni(Ca),r=Ni(ds),a=xi();return(0,it.useCallback)((o=>{const i=encodeURIComponent(r||""),l=`https://rutube.ru/forms/invalid-content/?id=${n}&content_type=video&video_link=${i}`;t||a(Ks.setInfoIcon({icon:qc.FLAG})),e(o);const s=window.open(l,"_blank");s&&s.focus()}),[r,n,a,e])})(t,r);return it.createElement(Sy,{name:jy.Claim,Icon:wy,onClick:a,className:n})},ky=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5421 4.55056C14.3301 3.78954 15.3854 3.36845 16.4808 3.37797C17.5762 3.38748 18.624 3.82686 19.3986 4.60145C20.1732 5.37604 20.6126 6.42388 20.6221 7.51928C20.6316 8.61468 20.2105 9.67 19.4495 10.4579L19.442 10.4657L15.8864 14.0212C15.1029 14.8044 14.0404 15.2445 12.9326 15.2445C11.8248 15.2445 10.7624 14.8045 9.97892 14.0213C9.73589 13.7783 9.73583 13.3843 9.97879 13.1413C10.2217 12.8983 10.6157 12.8982 10.8587 13.1412C11.4088 13.6911 12.1548 14 12.9326 14C13.7104 14 14.4563 13.6911 15.0064 13.1412C15.0064 13.1412 15.0064 13.1413 15.0064 13.1412L18.558 9.58968C19.09 9.03685 19.3844 8.29748 19.3777 7.5301C19.371 6.76099 19.0625 6.02527 18.5187 5.48141C17.9748 4.93754 17.2391 4.62905 16.47 4.62236C15.7026 4.61569 14.9632 4.91003 14.4104 5.4421L13.4366 6.41587C13.1936 6.65886 12.7996 6.65886 12.5566 6.41587C12.3136 6.17288 12.3136 5.77891 12.5566 5.53592L13.5421 4.55056ZM8.20114 9.89141C8.98459 9.10819 10.047 8.66821 11.1548 8.66821C12.2626 8.66821 13.3251 9.10819 14.1085 9.89141C14.3516 10.1344 14.3516 10.5283 14.1087 10.7714C13.8657 11.0144 13.4717 11.0145 13.2287 10.7715C12.6786 10.2216 11.9326 9.91265 11.1548 9.91265C10.377 9.91265 9.63111 10.2216 9.08103 10.7714C9.08101 10.7714 9.08105 10.7714 9.08103 10.7714L5.51783 14.3346C5.23767 14.6052 5.01413 14.9288 4.8604 15.2867C4.70667 15.6446 4.62575 16.0295 4.62236 16.419C4.61898 16.8085 4.6932 17.1947 4.84069 17.5552C4.98818 17.9157 5.20599 18.2432 5.48141 18.5187C5.75682 18.7941 6.08434 19.0119 6.44483 19.1594C6.80533 19.3069 7.19159 19.3811 7.58107 19.3777C7.97056 19.3743 8.35547 19.2934 8.71335 19.1397C9.07123 18.9859 9.39491 18.7625 9.6655 18.4823L9.67321 18.4743L10.6528 17.4957C10.8959 17.2528 11.2899 17.253 11.5328 17.4961C11.7757 17.7392 11.7755 18.1332 11.5324 18.3761L10.5566 19.351C10.172 19.748 9.71247 20.0649 9.20452 20.2831C8.69482 20.502 8.14661 20.6173 7.59189 20.6221C7.03717 20.6269 6.48704 20.5212 5.9736 20.3111C5.46017 20.1011 4.99371 19.7909 4.60145 19.3986C4.20919 19.0063 3.89897 18.5399 3.68891 18.0265C3.47885 17.513 3.37315 16.9629 3.37797 16.4082C3.38279 15.8534 3.49803 15.3052 3.71699 14.7955C3.9352 14.2876 4.25205 13.828 4.64917 13.4434L8.20114 9.89141Z",fill:t}))},Ty=(e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}${t.toString()}`};async function xy(e){try{return await window.navigator.clipboard.writeText(e)}catch(t){return new Promise((t=>t((e=>{const t=document.createElement("textarea");if(t.value=e,t.style.position="absolute",t.style.left="-9999px",t.setAttribute("readonly",""),document.body.appendChild(t),ai.isiOSMobile){const n=document.createRange();n.selectNodeContents(t);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n),t.setSelectionRange(0,e.length))}else t.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(t)}})(e))))}}const Ly=()=>{const e=Ni(Ta),[t,n]=(0,it.useState)({});return(0,it.useEffect)((()=>{let t="";t=e?ai.isMobile?"plemwm":"plemwd":ai.isMobile?"plwm":"plwd",n({r:t})}),[e]),{searchParams:t}},Ry=e=>{let{onClick:t,className:n}=e;const r=Ni(ds),{searchParams:a}=Ly(),o=xi();return it.createElement(Sy,{name:jy.CopyLink,className:n,Icon:ky,onClick:e=>{if(o(Ks.setInfoIcon({icon:qc.LINK})),t(e),r){const e=Qt(a);xy(Ty(r,e)).catch((e=>console.error(e)))}}})},Ny=e=>{let{onClick:t,className:n}=e;const r=yd(ds),a=Ni(Va),{searchParams:o}=Ly(),i=xi();return it.createElement(Sy,{name:jy.CopyLinkAtTime,Icon:ky,innerHtml:!0,onClick:e=>{if(i(Ks.setInfoIcon({icon:qc.LINK})),t(e),r){const e=Qt({t:a,...o});xy(Ty(r,e)).catch((e=>console.error(e)))}},className:n})},Py=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M8 7L3 12L8 17",stroke:t,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M16 7L21 12L16 17",stroke:t,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}))},Iy=e=>{let{onClick:t,className:n}=e;const r=xi(),a=Ni(ds),o=Ni(Ca);return it.createElement(Sy,{name:jy.CopyTag,Icon:Py,onClick:e=>{r(Ks.setInfoIcon({icon:qc.TAG})),t?.(e),xy((e=>{let{videoUrl:t,videoId:n}=e;const r=new URL(t||"",window.location.origin),a=r.origin,o=r.searchParams?.get("p");return`\n      <iframe\n        width="720"\n        height="405"\n        src="${a}/play/embed/${n}${o?`/?p=${encodeURIComponent(o)}`:""}"\n        frameBorder="0"\n        allow="clipboard-write; autoplay"\n        webkitAllowFullScreen\n        mozallowfullscreen\n        allowFullScreen\n      ></iframe>\n    `})({videoUrl:a,videoId:o})).catch((e=>console.error(e)))},className:n})},Oy=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.29808 2.39908C7.63 2.31006 7.97123 2.50697 8.06025 2.83888L8.76017 5.44865C8.84919 5.78056 8.65228 6.12179 8.32036 6.21081C7.98845 6.29983 7.64722 6.10292 7.5582 5.77101L6.85828 3.16124C6.76926 2.82933 6.96617 2.4881 7.29808 2.39908ZM13.9904 4.19151C14.2334 4.4345 14.2334 4.82847 13.9905 5.07147L12.079 6.98307C11.836 7.22607 11.442 7.22608 11.199 6.9831C10.956 6.74011 10.956 6.34614 11.199 6.10314L13.1105 4.19154C13.3535 3.94854 13.7474 3.94853 13.9904 4.19151ZM2.39931 7.29723C2.48831 6.96531 2.82953 6.76838 3.16145 6.85738L5.77197 7.55734C6.10389 7.64634 6.30081 7.98756 6.21182 8.31948C6.12282 8.65139 5.7816 8.84832 5.44968 8.75932L2.83916 8.05936C2.50724 7.97037 2.31032 7.62914 2.39931 7.29723ZM8.65154 8.65072C8.82249 8.47979 9.07697 8.42333 9.30416 8.50595L19.213 12.1094C19.4555 12.1975 19.6184 12.4262 19.6224 12.6842C19.6265 12.9422 19.471 13.176 19.2314 13.2718L15.6035 14.7231L19.4403 18.5601C19.6833 18.8031 19.6833 19.1971 19.4403 19.4401C19.1973 19.683 18.8033 19.683 18.5603 19.44L14.7236 15.6031L13.2724 19.2311C13.1766 19.4707 12.9428 19.6263 12.6848 19.6222C12.4268 19.6181 12.1981 19.4552 12.1099 19.2127L8.50675 9.30334C8.42414 9.07614 8.4806 8.82166 8.65154 8.65072ZM14.278 13.913C14.1972 13.9432 14.1213 13.9908 14.0563 14.0558C13.9913 14.1208 13.9437 14.1967 13.9135 14.2775L12.7224 17.2554L10.1319 10.1311L17.2558 12.7218L14.278 13.913ZM6.98291 11.1981C7.22602 11.441 7.22622 11.835 6.98335 12.0781L5.07365 13.9897C4.83078 14.2328 4.43681 14.233 4.1937 13.9901C3.95058 13.7472 3.95039 13.3533 4.19326 13.1102L6.10295 11.1986C6.34582 10.9554 6.73979 10.9552 6.98291 11.1981Z",fill:t}))},My=e=>{let{onClick:t,className:n}=e;const r=(0,it.useCallback)((e=>{t(e);const n=window.open("https://rutube.ru/info/hotkeys","_blank");n&&n.focus()}),[t]);return it.createElement(Sy,{name:jy.HotkeysManual,className:n,Icon:Oy,onClick:r})},Dy=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.62225C7.9254 4.62225 4.62225 7.9254 4.62225 12C4.62225 16.0747 7.9254 19.3778 12 19.3778C16.0747 19.3778 19.3778 16.0747 19.3778 12C19.3778 7.9254 16.0747 4.62225 12 4.62225ZM3.37781 12C3.37781 7.23811 7.23811 3.37781 12 3.37781C16.762 3.37781 20.6223 7.23811 20.6223 12C20.6223 16.762 16.762 20.6223 12 20.6223C7.23811 20.6223 3.37781 16.762 3.37781 12ZM12 11.3778C12.3437 11.3778 12.6223 11.6564 12.6223 12V16C12.6223 16.3437 12.3437 16.6223 12 16.6223C11.6564 16.6223 11.3778 16.3437 11.3778 16V12C11.3778 11.6564 11.6564 11.3778 12 11.3778ZM12 7.37781C11.6564 7.37781 11.3778 7.65639 11.3778 8.00003C11.3778 8.34367 11.6564 8.62225 12 8.62225H12.01C12.3537 8.62225 12.6323 8.34367 12.6323 8.00003C12.6323 7.65639 12.3537 7.37781 12.01 7.37781H12Z",fill:t}))},Fy=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.1158 3.44951C11.1659 3.20525 9.18635 3.58989 7.48147 4.54608C6.2129 5.25757 5.14773 6.25681 4.37237 7.45145V5.00015C4.37237 4.65651 4.0938 4.37793 3.75015 4.37793C3.40651 4.37793 3.12793 4.65651 3.12793 5.00015V9.00015C3.12793 9.34379 3.40651 9.62237 3.75015 9.62237H7.75015C8.0938 9.62237 8.37237 9.34379 8.37237 9.00015C8.37237 8.65651 8.0938 8.37793 7.75015 8.37793H5.26152C5.93552 7.24418 6.90832 6.29435 8.09022 5.63147C9.56143 4.80633 11.2732 4.47286 12.9611 4.6843C14.649 4.89574 16.2156 5.63978 17.4206 6.79827C18.6253 7.95647 19.4017 9.46431 19.6342 11.0883C19.6829 11.4285 19.9981 11.6648 20.3383 11.6161C20.6785 11.5674 20.9148 11.2522 20.8661 10.912C20.5937 9.0089 19.6847 7.24864 18.2831 5.90117C16.8818 4.55398 15.0658 3.69378 13.1158 3.44951ZM4.16739 12.3835C4.50798 12.3377 4.82114 12.5768 4.86685 12.9174C5.08605 14.5508 5.8174 16.0608 6.94404 17.2162C8.07034 18.3712 9.52884 19.1076 11.0935 19.3167C12.658 19.5257 14.2468 19.1967 15.616 18.3776C16.7214 17.7163 17.6352 16.7644 18.2683 15.6224H15.7502C15.4065 15.6224 15.1279 15.3438 15.1279 15.0002C15.1279 14.6565 15.4065 14.3779 15.7502 14.3779H19.7502C20.0938 14.3779 20.3724 14.6565 20.3724 15.0002V19.0002C20.3724 19.3438 20.0938 19.6224 19.7502 19.6224C19.4065 19.6224 19.1279 19.3438 19.1279 19.0002V16.6145C18.4059 17.7727 17.424 18.7461 16.2549 19.4455C14.6465 20.4077 12.7747 20.7968 10.9287 20.5501C9.0829 20.3035 7.3702 19.4357 6.05309 18.085C4.73632 16.7347 3.8876 14.9766 3.63346 13.0829C3.58775 12.7423 3.8268 12.4292 4.16739 12.3835Z",fill:t}))},Vy=e=>{let{onClick:t,className:n}=e;const r=xi();return it.createElement(Sy,{name:jy.Replay,Icon:Fy,onClick:e=>{r(Ks.setInfoIcon({icon:qc.REPLAY_SQUARE})),t(e)},className:n})},By=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M18.7694 5.17722C18.7124 5.1312 17.3501 4.05054 15.1974 4.05054C14.0795 4.05054 12.958 4.57908 11.8734 5.09022C10.8681 5.56399 9.91858 6.01149 9.07851 6.01149C7.78142 6.01149 6.70641 5.52985 6.24173 5.28367V4.05584H5V19.9494H6.2417V14.7142C6.92048 15.0084 7.91904 15.3242 9.07848 15.3242C10.1981 15.3242 11.3203 14.7884 12.4056 14.2702C13.4102 13.7905 14.3591 13.3375 15.1974 13.3375C16.8672 13.3375 17.9474 14.1562 17.9903 14.1894L19 15.023V5.3636L18.7694 5.17722ZM17.7583 12.637C17.1421 12.3628 16.2675 12.0958 15.1974 12.0958C14.0779 12.0958 12.9557 12.6316 11.8705 13.1497C10.8658 13.6294 9.91684 14.0825 9.07845 14.0825C7.80745 14.0825 6.74955 13.6063 6.27271 13.3503V6.6708C6.94982 6.95382 7.9361 7.25319 9.07845 7.25319C10.1965 7.25319 11.318 6.72464 12.4027 6.21344C13.4079 5.7397 14.3574 5.29223 15.1974 5.29223C16.4371 5.29223 17.3518 5.74352 17.7583 5.98957V12.637H17.7583Z",fill:t}))},Hy=e=>{let{onClick:t,className:n,hideInfoIcon:r=!1}=e;const a=xi();return it.createElement(Sy,{name:jy.ReportError,Icon:By,onClick:e=>{r||a(Ks.setInfoIcon({icon:qc.FLAG})),t(e);const n=window.open("https://rutube.ru/forms/problem/","_blank");n&&n.focus()},className:n})},Uy=[{Component:Ry,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-link"},{Component:Ny,forSeekableOnly:!0,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-link-at-time"},{Component:Iy,forSeekableOnly:!1,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-tag"},{Component:Vy,forSeekableOnly:!0,forEmbedOnly:!1,reportMessage:"replay"},{Component:Hy,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"report-error"},{Component:Cy,forSeekableOnly:!1,forEmbedOnly:!0,reportMessage:"claim"},{Component:e=>{let{onClick:t,className:n}=e;const r=xi(),a=Ni(Wa);return it.createElement(Sy,{name:jy.Info,Icon:Dy,onClick:e=>{t(e),r(Ks.setInfoIcon({icon:qc.INFO})),r(a?Ks.hideStatsForNerds():Ks.showStatsForNerds())},className:n})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"info"},{Component:My,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"hotkeys-manual"}];var jy=function(e){return e.CopyLink="Скопировать ссылку на видео",e.CopyLinkAtTime="Скопировать ссылку с привязкой <br/> ко времени",e.CopyTag="Скопировать код для вставки плеера",e.Replay="Запустить видео с начала",e.ReportError="Сообщить о проблеме",e.Claim="Пожаловаться на видео",e.More="Ещё",e.CopyTechInfo="Скопировать техническую информацию",e.Info="Техническая информация",e.HotkeysManual="Жесты и горячие клавиши",e}(jy||{});const Wy=e=>{let{targetRef:t,handler:n}=e;return Uc(t,n),null},$y=e=>{let{rootWrapper:t,handleSeekToStart:n,isTouchDevice:r}=e;const a=(0,it.useRef)(null),o=Wh(),i=xi(),[l,s]=(0,it.useState)(),[c,u]=(0,it.useState)(!1),d=Ni(za),f=Ni(ws),p=Ni(Ta),m=Ni(aa),h=(0,it.useCallback)((e=>{let{forSeekableOnly:t,forEmbedOnly:n,forNotInteractive:r}=e;return(f||!t)&&(p||!n)&&!(r&&m)}),[p,f,m]),v=Uy.filter(h),y=(0,it.useCallback)((e=>{e.preventDefault(),u(!1)}),[]),g=e=>{i(Ks.sendYm({statEventType:Zc.EXTENDED_PLAYER_MENU,params:{clickedItemTitle:e}}))};return(0,it.useEffect)((()=>{const e=t?.current;if(!e)return;const n=e=>{if(e.preventDefault(),r)return;const{clientX:t,clientY:n}=e,a=e.target.getBoundingClientRect(),o=a.y,i=a.x;u(!0);s({getBoundingClientRect:()=>{const r=e.target.getBoundingClientRect();return new DOMRect(t+r.x-i,n+r.y-o)}})};return e.addEventListener("contextmenu",n),()=>{e.removeEventListener("contextmenu",n)}}),[t]),(0,it.useEffect)((()=>{c&&u(!1)}),[d]),it.createElement(by,{anchorElement:l,hidePopperOnHidingElement:!1,isPopperShown:c,popperOptions:{placement:"auto-start",modifiers:[{name:"preventOverflow",options:{boundary:o,altAxis:!0}}]},portal:!1,popperKey:hy,customPopperZIndex:99,popperElements:it.createElement("div",{ref:a,className:Ey},v.map(((e,t)=>{let{Component:r,reportMessage:a}=e;return r===Vy?it.createElement(Vy,{key:t,onClick:()=>{u(!1),n(),g(a)}}):it.createElement(r,{key:t,onClick:()=>{u(!1),g(a)}})})))},c&&it.createElement(Wy,{targetRef:a,handler:y}))},zy=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M7 6v12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M16.43 18V6l-8.57 6 8.57 6Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("rect",{x:"6",y:"5",width:"2",height:"14",rx:"1",fill:t}))},Yy=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M16.43 6v12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M7 18V6l8.57 6L7 18Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:"1",fill:t}))},Gy=e=>{let{color:t="white"}=e;return it.createElement("svg",{"data-testid":"play-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M8 5v14l10-7L8 5Z",fill:t,stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Zy=e=>{let{color:t="white"}=e;return it.createElement("svg",{"data-testid":"pause-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:".5",fill:t}),it.createElement("rect",{x:"7",y:"5",width:"2",height:"14",rx:".5",fill:t}))},Qy=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fill:t,d:"M6 6h12v12H6z"}))},Ky=e=>{let{color:t="white"}=e;return it.createElement("svg",{"data-testid":"replay-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.803 11.062a8 8 0 1 1 3.429 7.541c-.334-.228-.376-.693-.118-1.005.258-.312.719-.352 1.057-.13a6.534 6.534 0 1 0-2.926-6.104l.591-.454a.75.75 0 0 1 .913 1.19l-1.946 1.495a.75.75 0 0 1-1.052-.138l-1.596-2.079a.75.75 0 0 1 1.19-.914l.458.598Z",fill:t}))},qy=(e,t,n)=>ai.isMobile?e:`${e}${t?` (горячая клавиша ${t}${n?" английская":""})`:""}`,Xy=it.createElement("div",null,"Назад на 10 секунд",it.createElement("span",null,"←"),it.createElement("span",null,"J")),Jy=it.createElement("div",null,"Воспроизвести",it.createElement("span",null,"Пробел"),it.createElement("span",null,"K")),eg=it.createElement("div",null,"Пауза",it.createElement("span",null,"Пробел"),it.createElement("span",null,"K")),tg=it.createElement("div",null,"Стоп",it.createElement("span",null,"Пробел"),it.createElement("span",null,"K")),ng=it.createElement("div",null,"Смотреть ещё раз",it.createElement("span",null,"Пробел"),it.createElement("span",null,"K")),rg=it.createElement("div",null,"Слушать ещё раз",it.createElement("span",null,"Пробел"),it.createElement("span",null,"K")),ag=it.createElement("div",null,"Вперёд на 10 секунд",it.createElement("span",null,"→"),it.createElement("span",null,"L")),og=it.createElement("div",null,"Предыдущее видео",it.createElement("span",null,"Shift + P")),ig=it.createElement("div",null,"Следующее видео",it.createElement("span",null,"Shift + N")),lg=it.createElement("div",null,"Включить звук",it.createElement("span",null,"M")),sg=it.createElement("div",null,"Выключить звук",it.createElement("span",null,"M")),cg=it.createElement("div",null,"Настройки"),ug=it.createElement("div",null,"Широкий экран",it.createElement("span",null,"T")),dg=it.createElement("div",null,"Вернуться в обычный режим",it.createElement("span",null,"T")),fg=it.createElement("div",null,"Во весь экран",it.createElement("span",null,"F")),pg=it.createElement("div",null,"Выйти из полноэкранного режима",it.createElement("span",null,"Esc"),it.createElement("span",null,"F")),mg={PrevSeek:Xy,Play:Jy,Pause:eg,Stop:tg,Repeat:ng,RepeatAudio:rg,NextSeek:ag,PrevVideo:og,NextVideo:ig,VolumeOn:lg,VolumeOff:sg,Settings:cg,CinemaOn:ug,CinemaOff:dg,CaptionsOn:it.createElement("div",null,"Включить субтитры",it.createElement("span",null,"C")),CaptionsOff:it.createElement("div",null,"Выключить субтитры",it.createElement("span",null,"C")),FullScreenOn:fg,FullScreenOff:pg,WatchOnRUTUBE:it.createElement("div",null,"Смотреть на RUTUBE"),MiniPlayer:it.createElement("div",null,"В мини-окне ",it.createElement("span",null,"i")),MiniPlayerClose:it.createElement("div",null,"Закрыть мини-плеер ",it.createElement("span",null,"Esc")),MiniPlayerReturn:it.createElement("div",null,"Вернуться в обычный режим ",it.createElement("span",null,"i"))},hg="raichu-button-module__control___Cys9B",vg="raichu-button-module__controlWithLabel___LUONe",yg="raichu-button-module__controlInteractive___gtqqk",gg="raichu-button-module__noScale___wS3jI",_g="raichu-button-module__isTouch___SJnop",bg="raichu-button-module__notButton___r2_2v",Eg="raichu-button-module__withBg___arc2r",wg="raichu-button-module__withBgBig___JdHV_",Ag="raichu-tooltip-module__tooltip___V5AVQ",Sg="raichu-tooltip-module__area___QIGdE",Cg=e=>{let{children:t,title:n,className:r,areaStyle:a,areaClassName:o,placement:i,offset:l=10,hidden:s=!1,hideOnClick:c=!1,portal:u=!1,zIndex:d=1,mode:f}=e;const p=(0,it.useRef)(null),m=Wh(),h=(0,it.useMemo)((()=>{const e={placement:i||"auto",strategy:"fixed"},t=[{name:"offset",options:{offset:[0,l]}}];return m&&t?.push({name:"preventOverflow",options:{boundary:m}}),e&&(e.modifiers=t),e}),[m,l,i]),[v,y]=(0,it.useState)(!1),[g,_]=(0,it.useState)(null),b=(0,it.useCallback)((()=>y(!0)),[]),E=(0,it.useCallback)((()=>{y(!1)}),[]);return(0,it.useEffect)((()=>{v&&p.current?.update&&p.current.update().catch((()=>{}))}),[f,v]),ai.isMobile?it.createElement(it.Fragment,null,t):it.createElement("div",{className:ti()(Ag,r),onMouseEnter:b,onMouseLeave:E,onFocus:b,onBlur:E,onClick:c?E:void 0,ref:_},it.createElement(by,{isPopperShown:v&&!s,popperElements:it.createElement("div",{className:ti()(Sg,o),style:a},n),popperKey:hy,popperOptions:h,anchorElement:g,portal:u,customPopperZIndex:d,instanceRef:p},t))},kg=(0,it.forwardRef)(((e,t)=>{let{icon:n,color:r,bgColor:a,withBg:o,big:i,action:l,noScale:s,wrapperClassName:c,className:u,tooltipTitle:d,tooltipPlacement:f,tooltipMargin:p=24,tooltipHidden:m=!1,tooltipHideOnClick:h=!1,onClick:v,children:y,style:g,label:_,...b}=e;const E=Hc(),w=it.createElement("button",(0,Qu.default)({ref:t},b,tu,{className:ti()(hg,{[yg]:!o,[gg]:s,[_g]:E,[vg]:!!_},u),style:g,type:"button",onClick:e=>{v&&v(e,l)}}),n?it.createElement(n,{color:r}):y,_),A=d?it.createElement(Cg,{title:d,placement:f,offset:p,hideOnClick:h,hidden:m},w):w;return o?it.createElement("div",{className:ti()(Eg,c,{[wg]:i}),style:{background:a}},A):A})),Tg="raichu-player-control-button-module__controlButton___EaeSu",xg="raichu-player-control-button-module__iconSticker___mvFje",Lg="raichu-player-control-button-module__logo___zJ0ct",Rg=(0,it.forwardRef)(((e,t)=>{let{className:n,children:r,logo:a=!1,iconSticker:o,...i}=e;return it.createElement(kg,(0,Qu.default)({},i,{ref:t,className:ti()(Tg,n,{[Lg]:a&&!ai.isMobile})}),r,o&&it.createElement("div",{className:xg},o))})),Ng=e=>{let{played:t=!1,ended:n=!1,live:r=!1,...a}=e,o=Gy,i=mg.Play,l="Воспроизвести";return!r&&t?(o=Zy,l="Приостановить",i=mg.Pause):r&&t&&(o=Qy,l="Остановить",i=mg.Stop),!r&&n&&(o=Ky,l="Повторить",i=mg.Repeat),it.createElement(Rg,(0,Qu.default)({tabIndex:0,"data-testid":"ui-play",role:"button","aria-label":qy(l,"K",!0),tooltipTitle:i,icon:o},a))},Pg="raichu-player-tap-rewind-animation-module__tapAnimationBlock___LDGl9",Ig="raichu-player-tap-rewind-animation-module__tapAnimationBlockReverse___MjYnk",Og="raichu-player-tap-rewind-animation-module__rippleCircle___Vdh2m",Mg="raichu-player-tap-rewind-animation-module__rippleCircleVertical___Ev1g2",Dg=e=>{let{reverse:t=!1,isVerticalView:n=!1}=e;return it.createElement("div",{className:ti()(Pg,{[Ig]:t})},it.createElement("div",{className:ti()(Og,{[Mg]:n})}),it.createElement("div",{className:ti()(Og,{[Mg]:n})}),it.createElement("div",{className:ti()(Og,{[Mg]:n})}))},Fg="raichu-player-center-controls-module__hidden___aNdHJ",Vg="raichu-player-center-controls-module__buttonsWrapperWhileSeeking___qN7rt",Bg="raichu-player-center-controls-module__centerControls___BkSLr",Hg="raichu-player-center-controls-module__controlBtn___fhtdD",Ug="raichu-player-center-controls-module__isHidden___E_QHL",jg="raichu-player-center-controls-module__allowScroll___aXciU",Wg="raichu-player-center-controls-module__buttonsWrapper___Vs14n",$g="raichu-player-center-controls-module__seekContainer___iuyi2",zg="raichu-player-center-controls-module__leftSeek___c4U1x",Yg="raichu-player-center-controls-module__rightSeek___YsymF",Gg="raichu-player-center-controls-module__seekLabelBoxLeft___DxWGZ",Zg="raichu-player-center-controls-module__seekLabelBoxRight___SA_3_",Qg="raichu-player-center-controls-module__seekLabelNumber___oUvAX",Kg="raichu-player-center-controls-module__seekLabelText___J8qJq",qg="raichu-player-center-controls-module__seekIsInProgress___zEmkS",Xg="raichu-player-center-controls-module__startScreen___UYdeF",Jg=bn(ka,Id,Ta,zi,((e,t,n,r)=>!e.nextVideoControl&&!n&&!r&&Boolean(t))),e_=bn([vc,ka,Ta,aa],((e,t,n,r)=>!t.miniMode&&e.mini_player&&!n&&!r)),t_=bn([vc,Aa,ml],((e,t,n)=>e.show_logo_with_controls&&t.isEmbed&&n>=15&&!t.ended&&!t.isWaiting&&!t.isShowAdvert)),n_=e=>{const{hidden:t=!0,isLive:n,isInteractive:r,isEmbed:a,onPrevSeek:o,onNextSeek:i,onSeekStateChanged:l,handlePrevVideoClick:s,handleNextVideoClick:c,handleNextPlaylistVideoClick:u,handlePlay:d,reloadTimeoutHover:f}=e,[p,m]=(0,it.useState)(0),[h,v]=$c(!1,500),[y,g]=(0,it.useState)(null),_=xi(),b=Ni(Ka),E=Ni(so),w=!!u,A=Ni(Jg)&&!w||w,S=!(!s||n||a||r),C=Ni(as),k=Ni(fo),T=Ni(_c),x=n&&Oi(),L=!(C||r||E||k||x),R=(e,t)=>{if(0===p||!h)switch(f(),t){case"prevVideo":s&&s();break;case"play":d("user");break;case"nextVideo":u?u():c&&c()}};(0,it.useEffect)((()=>{h||(0!==p&&_(Ks.setShowControls(!1)),m(0),g(null))}),[h,_,p]),(0,it.useEffect)((()=>{0!==p&&_(Ks.setShowControls(!0))}),[p,_]),(0,it.useEffect)((()=>{l&&l(Boolean(p))}),[p,l]);const{isVerticalView:N}=(()=>{const{width:e,height:t}=yd(ro)||{width:1,height:1};return{isVerticalView:t/e>1}})(),P=a&&T?T:"var(--pen-accent)",I=(e,t)=>()=>{const n=null===y||t===y;h&&n&&(e>0?i?.(e,Xc.TAP):o?.(Math.abs(e),Xc.TAP),g(t),m(p+e)),v(n)},O=()=>{k&&d("user")};return it.createElement("div",{className:Bg,onClick:O,onTouchEnd:O},L&&it.createElement("div",(0,Qu.default)({},p?tu:{},ru,{className:$g}),it.createElement("div",(0,Qu.default)({},p?tu:{},{className:ti()(zg,{[qg]:p<0}),onMouseDown:I(-10,"backward")}),it.createElement(Dg,{isVerticalView:N}),it.createElement("div",{className:Gg},p<0&&it.createElement(it.Fragment,null,it.createElement("p",{className:Qg},p),it.createElement("p",{className:Kg},"секунд")))),it.createElement("div",(0,Qu.default)({},p?tu:{},{className:ti()(Yg,{[qg]:p>0}),onMouseDown:I(10,"forward")}),it.createElement(Dg,{isVerticalView:N,reverse:!0}),it.createElement("div",{className:Zg},p>0&&it.createElement(it.Fragment,null,it.createElement("p",{className:Qg},"+",p),it.createElement("p",{className:Kg},"секунд"))))),it.createElement("div",(0,Qu.default)({className:ti()(Wg,{[Fg]:t,[Vg]:Boolean(p)})},ru),it.createElement("div",{className:ti()(Hg,{[Ug]:!S,[jg]:t,[Fg]:k})},it.createElement(Rg,{"data-testid":"ui-prev",action:"prevVideo",icon:zy,withBg:!0,onClick:R,disabled:!S,tabIndex:0,"aria-label":"Переключить на предыдущее видео",className:"front-control"})),it.createElement("div",{className:ti()(Hg,{[jg]:t})},it.createElement(Ng,{action:"play",bgColor:k?P:void 0,played:b,live:C,ended:E,withBg:!0,big:!0,onClick:R,className:"front-control",tooltipHidden:k,wrapperClassName:k?Xg:void 0})),it.createElement("div",{className:ti()(Hg,{[Ug]:!A||r&&!E,[jg]:t,[Fg]:k})},it.createElement(Rg,{"data-testid":"ui-next",action:"nextVideo",icon:Yy,withBg:!0,onClick:R,"aria-label":"Переключить на следующее видео",tabIndex:0,className:"front-control"}))))};var r_=n(6292);function a_(e,t){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a_(e,t)}function o_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a_(e,t)}function i_(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const l_=!1,s_=it.createContext(null);var c_=function(e){return e.scrollTop},u_="unmounted",d_="exited",f_="entering",p_="entered",m_="exiting",h_=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=d_,r.appearStatus=f_):a=p_:a=t.unmountOnExit||t.mountOnEnter?u_:d_,r.state={status:a},r.nextCallback=null,r}o_(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u_?{status:d_}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f_&&n!==p_&&(t=f_):n!==f_&&n!==p_||(t=m_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===f_){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this);n&&c_(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d_&&this.setState({status:u_})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[Ku.findDOMNode(this),r],o=a[0],i=a[1],l=this.getTimeouts(),s=r?l.appear:l.enter;!e&&!n||l_?this.safeSetState({status:p_},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,i),this.safeSetState({status:f_},(function(){t.props.onEntering(o,i),t.onTransitionEnd(s,(function(){t.safeSetState({status:p_},(function(){t.props.onEntered(o,i)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ku.findDOMNode(this);t&&!l_?(this.props.onExit(r),this.safeSetState({status:m_},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d_},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d_},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],i=a[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u_)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r_.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return it.createElement(s_.Provider,{value:null},"function"==typeof n?n(e,r):it.cloneElement(it.Children.only(n),r))},t}(it.Component);function v_(){}h_.contextType=s_,h_.propTypes={},h_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v_,onEntering:v_,onEntered:v_,onExit:v_,onExiting:v_,onExited:v_},h_.UNMOUNTED=u_,h_.EXITED=d_,h_.ENTERING=f_,h_.ENTERED=p_,h_.EXITING=m_;const y_=h_;var g_=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=i_(n.className,r):n.setAttribute("class",i_(n.className&&n.className.baseVal||"",r)));var n,r}))},__=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.addClass(a,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),a=r[0],o=r[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,a=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}o_(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(r+=" "+a),"active"===n&&e&&c_(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,o=n.done;this.appliedClasses[t]={},r&&g_(e,r),a&&g_(e,a),o&&g_(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,r_.default)(e,["classNames"]));return it.createElement(y_,(0,Qu.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(it.Component);__.defaultProps={classNames:""},__.propTypes={};const b_=__,E_="raichu-player-controls-bg-module__bg___WL0gp",w_="raichu-player-controls-bg-module__bgMobile___jjscQ",A_="raichu-player-controls-bg-module__bgEnter___Aabq4",S_="raichu-player-controls-bg-module__bgEnterActive___Rrbw5",C_="raichu-player-controls-bg-module__bgExitDone___jdN_O",k_="raichu-player-controls-bg-module__light___HNhlH",T_="raichu-player-controls-bg-module__hidden___dHcT4",x_=(0,it.memo)((e=>{let{isTouchDevice:t,lightMode:n=!1,hidden:r=!0}=e;const a=(0,it.useRef)(null),[o,i]=(0,it.useState)(!1);return(0,it.useEffect)((()=>{i(!0)}),[]),t?it.createElement(b_,{classNames:{enter:A_,enterActive:S_,exitDone:C_},nodeRef:a,in:o,timeout:700},it.createElement("div",{ref:a,className:ti()(E_,w_,{[k_]:n,[T_]:r})})):it.createElement("div",{className:ti()(E_,{[k_]:n,[T_]:r})})})),L_=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M6.4 6.4V9.6L4 12L6.4 14.4V17.6H9.6L12 20L14.4 17.6H17.6V14.4L20 12L17.6 9.6V6.4H14.4L12 4L9.6 6.4H6.4Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("circle",{cx:"12.0001",cy:"11.9996",r:"2.4",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},R_=()=>it.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M0.594238 1.62811C0.594238 1.07583 1.04195 0.628113 1.59424 0.628113H12.5942C13.1465 0.628113 13.5942 1.07583 13.5942 1.62811V8.62811C13.5942 9.1804 13.1465 9.62811 12.5942 9.62811H1.59424C1.04195 9.62811 0.594238 9.1804 0.594238 8.62811V1.62811Z",fill:"#00A1E7"}),it.createElement("path",{d:"M1.95166 7.01412V6.04712L4.38166 2.21912H5.21566V3.55912H4.72166L3.19066 5.98412V6.03012H6.64166V7.01512L1.95166 7.01412ZM4.74466 8.03712V6.71912L4.76666 6.28912V2.22012H5.92066V8.03712H4.74466ZM7.33666 8.03712V2.21912H8.56666V4.78412H8.64266L10.7367 2.21912H12.2107L10.0517 4.82412L12.2367 8.03712H10.7647L9.17066 5.64512L8.56566 6.38412V8.03712H7.33666Z",fill:"white"})),N_=()=>it.createElement("svg",{width:"13",height:"10",viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M0 1.62811C0 1.07583 0.447715 0.628113 1 0.628113H12C12.5523 0.628113 13 1.07583 13 1.62811V8.62811C13 9.1804 12.5523 9.62811 12 9.62811H1C0.447715 9.62811 0 9.1804 0 8.62811V1.62811Z",fill:"#00A1E7"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.26227 8.03814L1.26227 2.21814L2.42627 2.21814L2.42627 8.03814L1.26227 8.03814Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.42597 4.54614H5.91797V5.71014H2.42597V4.54614Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.24622 6.87415H10.5742V8.03815H8.24622V6.87415Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.24622 2.21814H10.5742V3.38214L8.24622 3.38214V2.21814Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.75397 8.03814L4.75397 2.21814L5.91797 2.21814L5.91797 8.03814L4.75397 8.03814Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5743 6.87414L10.5743 3.38214L11.7383 3.38214L11.7383 6.87414L10.5743 6.87414Z",fill:"white"}),it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.08209 8.03814L7.08209 2.21814L8.24609 2.21814L8.24609 8.03814L7.08209 8.03814Z",fill:"white"})),P_="raichu-settings-module__wrapper___pm8eM",I_="raichu-settings-module__isTouch___p2Yim",O_="raichu-settings-module__settings___baP2_",M_="raichu-settings-module__panelWrapper___yExLA",D_="raichu-settings-module__settingsList___NXApp",F_="raichu-settings-module__isEmbed___evobS",V_="raichu-settings-module__settingsItems___MkeMT",B_="raichu-settings-module__settingsItem___DdA_8",H_="raichu-settings-module__thumbSwitcher___YGjF9",U_="raichu-settings-module__settingsItemWrapper___osgx7",j_="raichu-settings-module__settingsItemOption___qqsCR",W_="raichu-settings-module__settingsItemOptionActive___cVhGN",$_="raichu-settings-module__settingsItemPrev___y_njr",z_="raichu-settings-module__settingsItemOptionTitle___t9LRe",Y_="raichu-settings-module__settingsItemIcon___mkJh2",G_="raichu-settings-module__settingsNavigationIcon___CA2o2",Z_="raichu-settings-module__title___dQK8P",Q_="raichu-settings-module__colorInfoIcon___YdLRL",K_="raichu-settings-module__settingsItemIconContainer___vh9i8",q_="raichu-settings-module__whiteItem___XL6Ht",X_="raichu-settings-module__settingsItemIconContainerPrev___CpX0F",J_="raichu-settings-module__settingsItemIconClose___hdrIw",eb="raichu-settings-module__settingsItemActive___Vraqn",tb="raichu-settings-module__settingsItemActiveExtra___FhuM4",nb="raichu-settings-module__settingBtn___f4rXS",rb="raichu-settings-module__gear___F8n5x",ab="raichu-settings-module__qualityMark___mp5eG",ob="raichu-settings-module__animationContainer____Dxwh",ib="raichu-settings-module__animationContainerMobile___xlN7F",lb="raichu-settings-module__gearRotate___odvWn",sb="raichu-settings-module__settingsPaletteItem___R9iCG",cb="raichu-settings-module__paletteItems___fsFIu",ub="raichu-settings-module__paletteItemsActive___GHEB1",db="raichu-settings-module__settingsItemSubtitleBackground___NSgMk",fb="raichu-settings-module__settingsSubtitleBackgroundOpacity___jsbQP",pb="raichu-settings-module__settingsSubtitleBackgroundOpacityRow___EyV8Y",mb="raichu-settings-module__settingsSubtitleBackgroundOpacityItem___tmiBe",hb="raichu-settings-module__settingsSubtitleBackgroundOpacityItemActive___CSCM_",vb=()=>{const e=yd(Ta),t=yd(_c),n=yd(Ia),r=yd(Oa),a=e?t:"#00A1E7";return it.createElement(it.Fragment,null,(n||r)&&it.createElement("span",{style:{backgroundColor:a},className:ab},r&&it.createElement(R_,null),n&&it.createElement(N_,null)))},yb=()=>it.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7","stroke-width":"1.5"}),it.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.17764 11.4276H10.6185V4H9.17764V6.91111H6.47776V4H5.03223V11.4276H6.47776V8.22187H9.17764V11.4276ZM17.5571 9.74093C17.8524 9.17869 18 8.47928 18 7.6427C18 6.84676 17.8555 6.17952 17.5664 5.64099C17.2773 5.09908 16.87 4.69094 16.3447 4.4166C15.8193 4.13887 15.1991 4 14.4841 4H12.3438V11.4276H14.2743C15.0577 11.4276 15.7276 11.2871 16.2841 11.006C16.8405 10.7215 17.2648 10.2998 17.5571 9.74093ZM16.2747 6.33194C16.4239 6.68418 16.4986 7.13465 16.4986 7.68334C16.4986 8.49283 16.326 9.10249 15.981 9.51231C15.639 9.92214 15.1152 10.127 14.4095 10.127H13.7894V5.29044H14.5587C14.9815 5.29044 15.3359 5.37511 15.6219 5.54446C15.911 5.71381 16.1286 5.9763 16.2747 6.33194Z",fill:"#00A1E7"})),gb=()=>it.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7","stroke-width":"1.5"}),it.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.65067 10.342H10.5346V9.02873H9.65067V4H8.21931L5 9.16553V10.342H8.13393V12H9.65067V10.342ZM8.13393 7.67168V9.02873H6.36607L7.71205 6.81259C7.8058 6.65937 7.88783 6.51345 7.95815 6.37483C8.02846 6.23256 8.09542 6.08664 8.15904 5.93707H8.19922C8.19587 5.99179 8.18917 6.08846 8.17913 6.22709C8.17243 6.36206 8.16574 6.5171 8.15904 6.6922L8.13895 7.21751C8.1356 7.39261 8.13393 7.544 8.13393 7.67168ZM15.7723 12H17.5402L14.9587 7.54036L17.5201 4H15.7924L13.8036 6.71956C13.6998 6.87643 13.5977 7.03329 13.4972 7.19015C13.3968 7.34701 13.2946 7.50388 13.1908 7.66074V4H11.6339V12H13.1908V9.14364L13.8488 8.62927L15.7723 12Z",fill:"#00A1E7"})),_b=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M14.7074 2.33484C14.2058 1.81883 13.5168 1.5278 12.7971 1.52802H11.5431C10.8371 1.52801 10.1601 1.80936 9.66203 2.30983C9.166 2.80825 8.88813 3.48307 8.88923 4.18603C8.8771 4.81787 8.36235 5.32463 7.73017 5.32664C7.5412 5.32401 7.35625 5.27179 7.1937 5.17531L7.18375 5.16961C5.91258 4.44122 4.29245 4.87659 3.55715 6.14238L2.89323 7.23376L2.88414 7.24912C2.15201 8.51975 2.58492 10.1432 3.85252 10.8805C3.86035 10.8851 3.86826 10.8895 3.87625 10.8938L3.94465 10.9303C4.26109 11.1171 4.43617 11.4316 4.43617 11.889C4.43617 12.3045 4.21392 12.6888 3.85406 12.8966C2.58637 13.6299 2.15239 15.2516 2.88437 16.5201L2.88516 16.5215L3.51338 17.605C3.85727 18.2212 4.43178 18.6758 5.11079 18.8688C5.79232 19.0625 6.523 18.9767 7.14104 18.6303L7.15224 18.6237C7.41594 18.4699 7.73017 18.4277 8.02509 18.5066C8.32002 18.5856 8.57111 18.7791 8.72272 19.0441L8.72884 19.0544C8.82544 19.2172 8.87759 19.4024 8.8801 19.5916C8.88263 21.0602 10.0739 22.25 11.5431 22.25H12.7971C14.2629 22.25 15.4532 21.0655 15.4602 19.5997L15.4602 19.5925C15.4587 19.2845 15.5804 18.9888 15.7981 18.771C16.014 18.5552 16.3064 18.4337 16.6114 18.433C16.806 18.4396 16.9962 18.4934 17.1654 18.5899C18.4343 19.3201 20.0544 18.8891 20.7928 17.6255L21.4495 16.5312L21.4543 16.5228C21.8099 15.9125 21.9075 15.1856 21.7255 14.5031C21.5435 13.8205 21.0969 13.2387 20.4846 12.8865C20.2184 12.7333 20.0243 12.4804 19.9451 12.1836C19.866 11.8869 19.9084 11.5708 20.063 11.3055L20.0658 11.3007C20.1654 11.1268 20.3096 10.9827 20.4834 10.8831L20.4893 10.8796C21.7245 10.1572 22.1639 8.59197 21.4991 7.33626C21.4867 7.3064 21.4724 7.27727 21.4561 7.24908L20.8337 6.16904C20.1007 4.89682 18.4762 4.45788 17.2023 5.18787L17.1945 5.19245C16.9305 5.34798 16.6154 5.39211 16.3188 5.3151C16.0222 5.23809 15.7685 5.04626 15.6135 4.78192L15.6114 4.77852C15.5163 4.61819 15.4643 4.43602 15.4603 4.24975C15.4761 3.53661 15.205 2.84667 14.7074 2.33484ZM12.7974 3.02802C13.1118 3.02789 13.4128 3.15499 13.6319 3.38038C13.851 3.60577 13.9695 3.91025 13.9605 4.22445L13.9602 4.25377C13.9649 4.70753 14.0892 5.15201 14.3205 5.5424C14.6771 6.14948 15.2603 6.59 15.9419 6.76696C16.6223 6.94362 17.3449 6.84311 17.9512 6.48761C18.5071 6.17131 19.2145 6.3633 19.534 6.91789L20.1192 7.93327C20.1298 7.95755 20.1417 7.98131 20.1549 8.00445C20.4704 8.55735 20.2828 9.26101 19.7343 9.58349C19.3313 9.81515 18.997 10.1496 18.7656 10.5527C18.4111 11.1626 18.314 11.8885 18.4958 12.5701C18.6778 13.2526 19.1244 13.8344 19.7366 14.1867C20.0029 14.3398 20.197 14.5928 20.2762 14.8896C20.3549 15.185 20.3132 15.4995 20.1604 15.7641L19.5041 16.8578L19.499 16.8666C19.1769 17.4202 18.4679 17.6092 17.913 17.2895L17.9107 17.2882C17.524 17.0672 17.0886 16.9452 16.6433 16.9333L16.6268 16.9331C15.9186 16.9296 15.2383 17.2095 14.7375 17.7103C14.2377 18.2102 13.9579 18.8887 13.9602 19.5954C13.9556 20.2342 13.4364 20.75 12.7971 20.75H11.5431C10.9008 20.75 10.3801 20.2293 10.3801 19.5869L10.3801 19.5792C10.3754 19.1267 10.2518 18.6836 10.0218 18.294C9.67127 17.6844 9.09231 17.2395 8.41286 17.0576C7.73399 16.876 7.01084 16.972 6.403 17.3243C6.13404 17.4735 5.81685 17.5101 5.52087 17.426C5.22322 17.3414 4.97155 17.1416 4.82156 16.871L4.81438 16.8583L4.18359 15.7704C3.86591 15.2192 4.05465 14.5139 4.6052 14.1949C5.42882 13.7192 5.93617 12.8402 5.93617 11.889C5.93617 10.9839 5.5468 10.1232 4.68531 9.62583C4.67818 9.62171 4.67097 9.6177 4.6637 9.61382L4.59646 9.5779C4.05306 9.25444 3.86759 8.55524 4.17993 8.0048L4.84293 6.91495L4.85202 6.89958C5.1714 6.34528 5.87824 6.15319 6.43402 6.46882C6.82339 6.69851 7.26629 6.82195 7.71841 6.82664L7.72612 6.82664C9.18208 6.82679 10.3683 5.65763 10.3892 4.20182L10.3892 4.18745C10.3878 3.88046 10.5087 3.58554 10.7252 3.36794C10.9418 3.15034 11.2361 3.02801 11.5431 3.02802L12.7974 3.02802Z",fill:t}),it.createElement("path",{d:"M12.1746 10.0029C11.1329 10.0029 10.2885 10.8473 10.2885 11.889C10.2885 12.9307 11.1329 13.7752 12.1746 13.7752C13.2163 13.7752 14.0608 12.9307 14.0608 11.889C14.0608 10.8473 13.2163 10.0029 12.1746 10.0029ZM8.78845 11.889C8.78845 10.0189 10.3045 8.50287 12.1746 8.50287C14.0447 8.50287 15.5608 10.0189 15.5608 11.889C15.5608 13.7591 14.0447 15.2752 12.1746 15.2752C10.3045 15.2752 8.78845 13.7591 8.78845 11.889Z",fill:t}))},bb=(e,t,n)=>{const r=n.length-1>t&&n[t+1],a=t>0&&n[t-1];return!(!r||r.value!==e.value)||(!a||a.value!==e.value)},Eb=e=>{if(!e)return;const t=parseFloat(e);if(t&&!isNaN(t)){if(t>100)return 120;if(t>50)return 60}},wb=(e,t)=>`${e}${t||""}`,Ab=e=>Ea(e)?yb:wa(e)?gb:void 0,Sb=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M12 2.5C11.3895 2.5 10.7854 2.56034 10.1954 2.6777C9.78916 2.75851 9.39431 2.49469 9.3135 2.08844C9.23268 1.68218 9.4965 1.28734 9.90276 1.20652C10.5885 1.07012 11.2906 1 12 1C13.4117 1 14.8096 1.27806 16.1139 1.8183C17.4181 2.35853 18.6032 3.15037 19.6014 4.1486C20.5996 5.14683 21.3915 6.3319 21.9317 7.63615C22.4719 8.9404 22.75 10.3383 22.75 11.75C22.75 13.1617 22.4719 14.5596 21.9317 15.8638C21.3915 17.1681 20.5996 18.3532 19.6014 19.3514C18.6032 20.3496 17.4181 21.1415 16.1138 21.6817C14.8096 22.2219 13.4117 22.5 12 22.5C11.2906 22.5 10.5885 22.4299 9.90276 22.2935C9.4965 22.2127 9.23268 21.8178 9.3135 21.4116C9.39431 21.0053 9.78916 20.7415 10.1954 20.8223C10.7854 20.9397 11.3895 21 12 21C13.2147 21 14.4176 20.7607 15.5398 20.2959C16.6621 19.831 17.6818 19.1497 18.5407 18.2907C19.3997 17.4318 20.081 16.4121 20.5459 15.2898C21.0107 14.1676 21.25 12.9647 21.25 11.75C21.25 10.5353 21.0107 9.33244 20.5459 8.21018C20.081 7.08792 19.3997 6.0682 18.5407 5.20926C17.6818 4.35032 16.6621 3.66897 15.5398 3.20411C14.4176 2.73926 13.2147 2.5 12 2.5Z",fill:t}),it.createElement("path",{d:"M7.06789 3.0186C7.29801 3.36301 7.20536 3.82876 6.86095 4.05888C6.3608 4.39306 5.89092 4.77761 5.45926 5.20926C5.02761 5.64092 4.64306 6.1108 4.30888 6.61095C4.07876 6.95536 3.61301 7.04801 3.2686 6.81789C2.92419 6.58777 2.83154 6.12202 3.06166 5.77761C3.45007 5.19629 3.89701 4.65019 4.3986 4.1486C4.90019 3.64701 5.44629 3.20007 6.02761 2.81166C6.37202 2.58154 6.83777 2.67419 7.06789 3.0186Z",fill:t}),it.createElement("path",{d:"M2.33844 9.0635C2.74469 9.14431 3.00851 9.53916 2.9277 9.94541C2.81034 10.5354 2.75 11.1395 2.75 11.75C2.75 12.3605 2.81034 12.9646 2.9277 13.5546C3.00851 13.9608 2.74469 14.3557 2.33844 14.4365C1.93218 14.5173 1.53734 14.2535 1.45652 13.8472C1.32012 13.1615 1.25 12.4594 1.25 11.75C1.25 11.0406 1.32012 10.3385 1.45652 9.65276C1.53734 9.2465 1.93218 8.98268 2.33844 9.0635Z",fill:t}),it.createElement("path",{d:"M3.2686 16.6821C3.61301 16.452 4.07876 16.5446 4.30888 16.8891C4.64306 17.3892 5.02761 17.8591 5.45926 18.2907C5.89092 18.7224 6.3608 19.1069 6.86095 19.4411C7.20536 19.6712 7.29801 20.137 7.06789 20.4814C6.83777 20.8258 6.37202 20.9185 6.02761 20.6883C5.44629 20.2999 4.90019 19.853 4.3986 19.3514C3.89701 18.8498 3.45007 18.3037 3.06166 17.7224C2.83154 17.378 2.92419 16.9122 3.2686 16.6821Z",fill:t}),it.createElement("path",{d:"M15.9142 11.75C15.9142 11.1591 15.5767 10.7405 15.2239 10.4291C14.8908 10.1351 14.4151 9.82616 13.8733 9.4743L13.4483 9.19825C12.8096 8.78339 12.2601 8.42643 11.8034 8.21745C11.3329 8.00219 10.7451 7.84196 10.1651 8.15687C9.58502 8.47178 9.39923 9.05201 9.32348 9.56381C9.24995 10.0607 9.24999 10.7159 9.25004 11.4774V12.0225C9.24999 12.784 9.24995 13.4393 9.32348 13.9362C9.39923 14.448 9.58502 15.0282 10.1651 15.3431C10.7451 15.658 11.3329 15.4978 11.8034 15.2826C12.2601 15.0736 12.8096 14.7166 13.4482 14.3018L13.8732 14.0257C14.4151 13.6739 14.8909 13.3649 15.2239 13.0709C15.5767 12.7595 15.9142 12.3409 15.9142 11.75ZM13.0092 10.7017C13.6122 11.0934 13.9917 11.3423 14.2313 11.5537C14.3445 11.6536 14.391 11.7156 14.4087 11.7457L14.4112 11.75L14.4087 11.7543C14.391 11.7844 14.3445 11.8464 14.2313 11.9463C13.9917 12.1578 13.6122 12.4066 13.0092 12.7983L12.6809 13.0115C11.9783 13.4678 11.5227 13.7614 11.1793 13.9185C11.0139 13.9942 10.9252 14.0143 10.8843 14.0183C10.8654 13.9818 10.834 13.8966 10.8073 13.7166C10.752 13.343 10.75 12.801 10.75 11.9632V11.5368C10.75 10.699 10.752 10.157 10.8073 9.78341C10.834 9.60344 10.8654 9.51821 10.8843 9.48168C10.9252 9.48574 11.0139 9.50576 11.1793 9.58146C11.5227 9.73857 11.9783 10.0322 12.6809 10.4885L13.0092 10.7017ZM10.8551 14.0172C10.8556 14.0166 10.8603 14.0166 10.868 14.0192C10.8585 14.0192 10.8547 14.0179 10.8551 14.0172ZM10.8925 14.0325C10.8988 14.0375 10.9014 14.0415 10.9011 14.0422C10.9008 14.0429 10.8977 14.0405 10.8925 14.0325ZM10.9011 9.4578C10.9014 9.45853 10.8988 9.46249 10.8925 9.46748C10.8977 9.45955 10.9008 9.45706 10.9011 9.4578ZM10.868 9.4808C10.8603 9.48337 10.8556 9.48339 10.8551 9.48276C10.8547 9.48212 10.8585 9.48084 10.868 9.4808Z",fill:t}))},Cb=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},it.createElement("path",{fill:t,d:"M8.8 11c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm11 4c0 .4-.4.8-.8.8h-3a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm0-4c0 .4-.4.8-.8.8h-7a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Zm-7 4c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Z"}),it.createElement("path",{fill:t,d:"M1.3 8c0-2.6 2-4.8 4.7-4.8h12c2.6 0 4.8 2.2 4.8 4.8v8c0 2.6-2.2 4.8-4.8 4.8H6A4.7 4.7 0 0 1 1.2 16V8ZM6 4.7A3.2 3.2 0 0 0 2.7 8v8c0 1.8 1.5 3.3 3.3 3.3h12c1.8 0 3.3-1.5 3.3-3.3V8c0-1.8-1.5-3.3-3.3-3.3H6Z"}))};function kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=Ue(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xb={noSsr:!1};const Lb=bn([Jl,(e,t)=>t],((e,t)=>((e,t)=>e?[...e.stat||[],...e.stat_api].filter((e=>{let{name:n}=e;return n===t})):[])(e,t))),Rb=Lf.builder().group("business").withTransform(((e,t)=>{let{context:n}=t;const r=Lb(n,e.methodName),{config:a,isCyclic:o}=e,i=a?r.filter((e=>{let{count:t,delay:n,start:r}=e;return a.count===t&&a.delay===n&&a.start===r})):r,l=e.resolvers||[],s=[...qp(n,Qp,o),...l],{methods:c,requests:u}=i.reduce(((e,t)=>{if(t.callbackParams){const n=Kp(JSON.stringify(t.callbackParams.params),s),r=JSON.parse(n);e.methods.push({...t,callbackParams:{...t.callbackParams,params:r}})}else e.requests.push({url:Kp(t.url_template||"",s,!0),body:Kp(t.body||"",s),method:t.method});return e}),{methods:[],requests:[]});return{methods:c,requests:u}})),Nb=Lf.builder().use(Rb).group("contentPlayback").event("rewindMode").params().message((e=>{let{params:{rewindType:t,rewindDirection:n}}=e;return{methodName:Zc.REWIND,resolvers:[{names:["{{rewind}}"],value:n},{names:["{{type_rewind}}"],value:t}]}})).commit().event("hbInterval").params().message((e=>{let{params:t}=e;const n=t?.config;return{methodName:Zc.HB_INTERVALS,resolvers:[],config:n,isCyclic:!0}})).commit().group("unmuteButton").event("show").message((()=>({methodName:Zc.UNMUTE_BUTTON_SHOW}))).commit().event("click").message((()=>({methodName:Zc.UNMUTE_BUTTON_CLICK}))).commit().endGroup().endGroup().build(),Pb=Lf.builder().use(Rb).group("chapters").event("menuClick").message((()=>({methodName:Zc.CHAPTER_MENU_CLICK}))).commit().event("descriptionClick").message((()=>({methodName:Zc.CHAPTER_DESC_CLICK}))).commit().group("button").event("show").message((()=>({methodName:Zc.CHAPTER_BUTTON_SHOW}))).commit().event("click").message((()=>({methodName:Zc.CHAPTER_BUTTON_CLICK}))).commit().endGroup().endGroup().build(),Ib=Lf.builder().use(Rb).group("recommendations").event("showPauseRecommendations").params().message((()=>({methodName:Zc.RECOMMENDATIONS_PAUSE_SCREEN_SHOW,resolvers:[]}))).commit().event("pauseRecommendationClick").params().message((()=>({methodName:Zc.RECOMMENDATIONS_PAUSE_SCREEN_CLICK,resolvers:[]}))).commit().event("showEndScreen").params().message((()=>({methodName:Zc.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW,resolvers:[]}))).commit().event("endScreenNextVideoClick").params().message((()=>({methodName:Zc.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK,resolvers:[]}))).commit().event("showEndScreenRecommendations").params().message((()=>({methodName:Zc.RECOMMENDATIONS_END_SCREEN_RECS_SHOW,resolvers:[]}))).commit().event("endScreenRecommendationClick").params().message((()=>({methodName:Zc.RECOMMENDATIONS_END_SCREEN_RECS_CLICK,resolvers:[]}))).commit().event("seasonsButtonShow").params().message((()=>({methodName:Zc.RECOMMENDATIONS_SEASONS_BUTTON_SHOW,resolvers:[]}))).commit().event("seasonsOpen").params().message((()=>({methodName:Zc.RECOMMENDATIONS_SEASONS_OPEN,resolvers:[]}))).commit().event("seasonsEpisodeClick").params().message((e=>{let{params:{clicked_url:t}}=e;return{methodName:Zc.RECOMMENDATIONS_SEASONS_EPISODE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),Ob=Lf.builder().use(Rb).group("subtitles").event("show").params().message((e=>{let{params:t}=e;return{methodName:Zc.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:Zc.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().endGroup().build(),Mb=Lf.builder().use(Rb).group("interactive").event("show").params().message((e=>{let{context:t,params:n}=e;return{methodName:Zc.INTERACTIVE_BUTTON,resolvers:[{names:["{{action}}"],value:"show"},{names:["{{stage}}"],value:la(t)},{names:["{{сurrent_fragment}}"],value:ia(t)},{names:["{{list_of_buttons}}"],value:String(n.map((e=>`(${String(e)})`)))}]}})).commit().event("click").params().message((e=>{let{context:t,params:n}=e;return{methodName:Zc.INTERACTIVE_BUTTON,resolvers:[{names:["{{action}}"],value:"click"},{names:["{{stage}}"],value:la(t)},{names:["{{сurrent_fragment}}"],value:ia(t)},{names:["{{clicked_fragment}}"],value:String(n)},{names:["{{frag_num}}"],value:String(n)}]}})).commit().event("timeout").params().message((e=>{let{context:t,params:n}=e;return{methodName:Zc.INTERACTIVE_BUTTON,resolvers:[{names:["{{action}}"],value:"timeout"},{names:["{{stage}}"],value:la(t)},{names:["{{сurrent_fragment}}"],value:ia(t)},{names:["{{clicked_fragment}}"],value:String(n)}]}})).commit().endGroup().build(),Db=Lf.builder().use(Rb).group("playerLifecycle").event("unload").message((()=>({methodName:Zc.UNLOAD}))).commit().endGroup().build(),Fb=Lf.builder().use(Rb).group("watchFromStart").event("show").message((()=>({methodName:Zc.WATCH_FROM_START_SHOW,action:"show"}))).commit().event("click").message((()=>({methodName:Zc.WATCH_FROM_START_CLICK,action:"click"}))).commit().endGroup().build(),Vb=Lf.builder().use(Rb).group("watchOnRutube").event("show").message((()=>({methodName:Zc.WATCH_ON_RUTUBE,action:"show"}))).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:Zc.WATCH_ON_RUTUBE,resolvers:[{names:["{{clicked_url}}"],value:t}],action:"click"}})).commit().endGroup().build(),Bb=e=>{let{methods:t,requests:n}=e;t.forEach((e=>{let{callbackParams:t}=e;return t&&xd(t)})),n.forEach((e=>{Nd(e)}))},Hb=e=>Lf.builder().withNamespace(Vf).withContext((()=>e.getState())).onSend(Bb).extends(Nb).extends(Pb).extends(Ib).extends(Db).extends(Ob).extends(Mb).extends(Vb).extends(Fb).build(),{RaichuCounterHelperProvider:Ub,useRaichuCounterHelper:jb}=function(e,t,n,r){var a,o=Tb(Tb({},xb),r).noSsr,i=t(),l=it.createContext({helper:{get:function(){throw new Error("empty context")}}});return a=o&&"object"!=typeof window?function(e){var t=e.children,n=it.useMemo((function(){return{helper:{get:function(){throw new Error("do not use counters on ssr")}}}}),[]);return it.createElement(l.Provider,{value:n},t)}:function(e){var t=e.children,r=i(),a=it.useMemo((function(){return{helper:n(r)}}),[r]);return it.createElement(l.Provider,{value:a},t)},{["".concat(e,"Provider")]:a,["use".concat(e)]:function(){return it.useContext(l).helper}}}("RaichuCounterHelper",(function(){return ki}),Hb,{noSsr:!0});const Wb=e=>{const{options:t,activeTextColor:n,setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l}=e;return[{title:"Цвет текста",type:"prev",onClick:()=>{r(t.current,"prev")}},{title:"",type:"palette",activeColor:n,onItemClick:e=>{o(Ks.setCaptionColor(e));const n=Wb({options:t,activeTextColor:e,setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l});!l&&a(n),l&&i()}}]},$b=e=>{const{options:t,size:n,setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l}=e,s=(e,t)=>{o(Ks.setCaptionSize(e)),a(t),l&&i()};return[{title:"Размер текста",type:"prev",onClick:()=>{r(t.current,"prev")}},{title:"Уменьшенный",type:"option",active:"small"===n,onClick:()=>{s("small",$b({options:t,size:"small",setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l}))}},{title:"Стандартный",type:"option",active:"medium"===n,onClick:()=>{s("medium",$b({options:t,size:"medium",setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l}))}},{title:"Увеличенный",type:"option",active:"large"===n,onClick:()=>{s("large",$b({options:t,size:"large",setPanel:r,setActivePanel:a,dispatch:o,hidePanel:i,isTouchDevice:l}))}}]},zb=(e,t,n,r)=>{const a=xi(),o=(0,it.useRef)([]),i=Ni(Rp),l=Ni(Ip),s=Ni(Op),c=Ni(Np),u=Ni(kp),d=Ni(Ca),f=Ni(Cp),p=jb(),m=Ni(xp),h=e=>{p.get("businessSubtitlesClick")({result:"change",language:m?e:"",action:"change"})};return(0,it.useMemo)((()=>{const s=f&&Object.keys(f).length;if(!s)return null;o.current=[];const p=Wb({options:o,activeTextColor:i,setPanel:e,setActivePanel:t,dispatch:a,hidePanel:n,isTouchDevice:r}),m=$b({options:o,size:c,setPanel:e,setActivePanel:t,dispatch:a,hidePanel:n,isTouchDevice:r}),v=[{title:"Цвет фона",type:"prev",onClick:()=>{e(o.current,"prev")}},{title:"",type:"subtitleBg",onPaletteItemClick:e=>{a(Ks.setCaptionBackgroundColor(e)),r&&n()},onBackgroundOpacityClick:e=>{a(Ks.setCaptionBackgroundOpacity(e)),r&&n()}}];if(o.current.push({title:"Субтитры",type:"prev",onClick:()=>{e("default","prev")}}),f&&s>1){const t=(e=>{const{captions:t,hidePanel:n,dispatch:r,activeCaption:a,videoId:o,setPanel:i,options:l,sendYM:s}=e,c=[];return c.push({title:"Язык",type:"prev",onClick:()=>{i(l.current,"prev")}}),Object.keys(t).forEach((e=>{const i=parseFloat(e);c.push({title:t[i]?.langTitle,type:"option",active:a?.sub_id===i,onClick:()=>{r(Ks.setActiveCaption(t[i])),r(Ks.setSavedSubs({subs:{sub_id:i,expire:Date.now()+6048e5},videoId:o})),s(t[i]?.langTitle),n()}})})),c})({captions:f,hidePanel:n,dispatch:a,activeCaption:u,videoId:d,setPanel:e,options:o,sendYM:h});o.current.push({title:"Язык",type:"next",options:t,innerOption:!0,onClick:()=>{e(t,"next")}})}return o.current.push({title:"Цвет текста",type:"color",activeColor:i,innerOption:!0,options:p,onClick:()=>{e(p,"next",276)}}),o.current.push({title:"Цвет фона",type:"color",activeColor:l,options:v,innerOption:!0,onClick:()=>{e(v,"next",294)}}),o.current.push({title:"Размер текста",type:"next",innerOption:!0,options:m,onClick:()=>{e(m,"next")}}),o.current.push({title:"Сбросить настройки",type:"option",active:!1,innerOption:!0,onClick:()=>{a(Ks.resetCaptionSettings()),n()}}),{title:"Субтитры",type:"next",options:o.current,navigationIcon:Cb,onClick:()=>{e(o.current,"next")}}}),[f,i,l,s,c,u,d,h])},Yb=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99397 8.54952C6.75184 8.79165 6.35928 8.79165 6.11715 8.54952L4.5616 6.99397C4.49362 6.92599 4.44473 6.84615 4.41492 6.76112C4.39761 6.71186 4.38635 6.65976 4.38202 6.6057C4.3795 6.57438 4.37934 6.54291 4.38156 6.51157C4.3861 6.44669 4.40063 6.38456 4.42362 6.32671C4.45142 6.25658 4.49252 6.19051 4.54691 6.13235C4.55231 6.12656 4.55783 6.12088 4.56345 6.1153L6.11715 4.5616C6.35928 4.31947 6.75184 4.31947 6.99397 4.5616C7.23609 4.80372 7.23609 5.19629 6.99397 5.43841L6.49684 5.93553H19C19.3424 5.93553 19.62 6.21312 19.62 6.55553V11.2222C19.62 11.5646 19.3424 11.8422 19 11.8422C18.6576 11.8422 18.38 11.5646 18.38 11.2222V7.17553H6.49679L6.99397 7.67271C7.23609 7.91483 7.23609 8.3074 6.99397 8.54952ZM5.62002 12.7778C5.62002 12.4354 5.34243 12.1578 5.00002 12.1578C4.6576 12.1578 4.38002 12.4354 4.38002 12.7778V17.4445C4.38002 17.7869 4.6576 18.0645 5.00002 18.0645H17.5033L17.0061 18.5617C16.7639 18.8038 16.7639 19.1963 17.0061 19.4385C17.2482 19.6806 17.6408 19.6806 17.8829 19.4385L19.4384 17.8829C19.5074 17.814 19.5567 17.7328 19.5864 17.6465C19.6027 17.5989 19.6135 17.5488 19.6178 17.4968C19.6205 17.4655 19.6207 17.434 19.6186 17.4027C19.6096 17.2678 19.5566 17.1353 19.4597 17.0284C19.4519 17.0199 19.444 17.0115 19.4358 17.0034L17.8829 15.4505C17.6408 15.2084 17.2482 15.2084 17.0061 15.4505C16.7639 15.6927 16.7639 16.0852 17.0061 16.3274L17.5032 16.8245H5.62002V12.7778Z",fill:t}))},Gb=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},it.createElement("path",{fill:t,d:"M5 10.38a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Z"}))};function Zb(){const e=navigator.userAgent.toLowerCase().includes("android"),t=Boolean(window.screen.orientation?.lock);return e&&t}const Qb="SCREEN_ORIENTATION_LOCK";function Kb(){!async function(e){Zb()&&window.screen.orientation?.lock(e).then((()=>(si(Qb,String(!0)),!0))).catch((()=>!1))}(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"portrait":"landscape")}const qb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*t)/t},Xb=e=>{const t=e?.getBuffered();if(!t)return"undefined";const[n=[],r,a]=t,o=n.map((e=>{let{start:t,end:n}=e;return`(${Math.round(t)}, ${Math.round(n)})`})).join(", ");return`${o} | ${Math.round(r)} | ${Math.round(a)}`},Jb=()=>{const e=(0,it.useContext)(mu),t=Ni(Ca),n=yd(xa),r=Ni(Na),a=yd(no),o=a?.name,i=Ni(Oo),l=Ni(Io),s=Ni(fl),c=Ni(ol),u=Ni(zi),d=Ni(hl),f=e?.instance?.currentLevel,p=e?.instance?.levels,m=p&&void 0!==f?p[f]:void 0,{edge:h,dive:v}=Ih(m),y=e?.instance?.bandwidthEstimate,g=void 0!==m?.bitrate?`${Math.round(m.bitrate/1024)} kb`:"undefined",[_,b]=(()=>{if(!window?.navigator?.userAgent)return["",""];const e=window?.navigator?.userAgent?.split(") ");return[`${e[0]})`,e.slice(1).join(") ")]})();return[{label:"Video Id",value:t},{label:"Bandwidth",value:y?`${Math.round(y/1048576)} mbps`:"undefined"},{label:"Codecs",value:`${String(m?.videoCodec)} | ${String(m?.audioCodec)}`},{label:"Buffer",value:Xb(e)},{label:"Screen Resolution",value:`${window?.screen?.width}x${window?.screen?.height}`},{label:"Video Quality",value:`${String(m?.width)}x${String(m?.height)} | ${g}`},{label:"Edge | Dive",value:`${String(h)} | ${String(v)}`},{label:"isLive | isDVR",value:`${String(u)} | ${String(d)}`},{label:"Auto Quality Enabled",value:n.toString()},{label:"Current Quality",value:r},{label:"Playback Position",value:`${c} / ${s}`},{label:"Last Ad Name",value:o},{label:"Volume | Muted",value:`${qb(i)}% | ${l.toString()}`},{label:"Current Domain",value:en()},{label:"Player Version",value:"@rutube/raichu-embed@1.90.0-embed"},{label:"Date",value:(new Date).toString()},{label:"User Agent",value:`${_} ${b}`},{label:"ScreenO Lock API",value:String(Zb())}]},eE=[{title:jy.CopyTag,Component:Iy,statEventType:Zc.MORE_MENU_COPY_TAG},{title:jy.Replay,Component:Vy,statEventType:Zc.MORE_MENU_REPLAY},{title:jy.ReportError,Component:Hy,statEventType:Zc.MORE_MENU_REPORT_ERROR},{title:jy.CopyTechInfo,Component:e=>{let{onClick:t,className:n}=e;const r=xi(),a=Jb();return it.createElement(Sy,{name:jy.Info,Icon:Dy,onClick:e=>{t(e),r(Ks.setInfoIcon({icon:qc.INFO})),xy(JSON.stringify(a)).catch((e=>console.info(e)))},className:n})},statEventType:Zc.MORE_MENU_COPY_INFO},{title:jy.HotkeysManual,Component:My,statEventType:Zc.MORE_MENU_HOTKEY_MANUAL}];var tE="freyja_char-switch__wrapper_Ma1Wu",nE="freyja_char-switch__placement_RPDpt",rE="freyja_char-switch__placement_active_rjVKS",aE="freyja_char-switch__regular_WtF9R",oE="freyja_char-switch__small_tyxc1",iE="freyja_char-switch__switcher_ks1iH",lE="freyja_char-switch__switcher_regular_R4ZLN",sE="freyja_char-switch__switcher_small_qTBxI",cE="freyja_char-switch__switcher_active_0rVpL",uE="freyja_char-switch__switcher_active_small_7pKX-",dE="freyja_char-switch__switcher_active_regular_yu2Ow",fE="freyja_char-switch__disabled_krTYT",pE=function(e){return e.SMALL="small",e.REGULAR="regular",e}(pE||{});const mE=e=>{const{isActive:t,onChange:n=()=>{},disabled:r,size:a=pE.REGULAR,classNames:o={}}=e;return it.createElement("div",{className:ti()(tE,o.wrapper),onClick:e=>{e.stopPropagation(),r||n(!t)}},it.createElement("div",{className:ti()(nE,{[oE]:a===pE.SMALL,[aE]:a===pE.REGULAR},{[rE]:t,[fE]:r},o.placement)},it.createElement("div",{className:ti()(iE,{[lE]:a===pE.REGULAR,[sE]:a===pE.SMALL},{[cE]:t},{[dE]:t&&a===pE.REGULAR,[uE]:t&&a===pE.SMALL},o.switcher)})))},hE=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M9 18L15 12L9 6",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},vE=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M6 12L10.3333 16L19 8",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))};var yE="freyja_char-palette-item__paletteItem_oGoN1",gE="freyja_char-palette-item__disabled_Ht1cw",_E="freyja_char-palette-item__active_8T-bD";const bE=e=>{const{onClick:t,color:n,isActive:r=!1,isDisabled:a=!1,itemClass:o,activeClass:i}=e,l=ti()(yE,o,{[_E]:r,[i??""]:r,[gE]:a});return it.createElement("button",{className:l,onClick:t,style:{backgroundColor:`${n}`}})};var EE="freyja_char-palette__palette_u7AvW";const wE=["#e53935","#8e24aa","#5e35b1","#3949ab","#0e8dee","#00cbff","#00897b","#43a047","#7cb342","#fbf819","#fdd835","#ffb300","#d57700","#6d4c41","#000000","#9e9e9e","#e0e0e0","#ffffff"],AE=e=>{const{colors:t,onItemClick:n,activeColor:r,className:a,itemClass:o,itemActiveClass:i}=e,l=t||wE,s=ti()(EE,a);return it.createElement("div",{className:s},l.map((e=>it.createElement(bE,{key:e,color:e,onClick:t=>{n(e,t)},isActive:e===r,itemClass:o,activeClass:i}))))},SE=[{0:"Без фона",2:"20%",3:"30%",4:"40%",5:"50%"},{6:"60%",7:"70%",8:"80%",9:"90%",10:"100%"}],CE=e=>{let{onVariantClick:t,activeVariant:n,isTouchDevice:r}=e;return it.createElement(it.Fragment,null,it.createElement("p",null,"Прозрачность фона"),it.createElement("div",{"aria-label":"Прозрачность фона"},SE.map((e=>it.createElement("div",{className:pb},Object.keys(e).map((a=>{const o=parseFloat(a);return it.createElement("button",{tabIndex:0,"aria-label":e[o],className:ti()(mb,{[I_]:r,[hb]:o===n}),onClick:()=>{t&&t(o)}},e[o])})))))))},kE={switcher:e=>{let{active:t,onClick:n,title:r,navigationIcon:a}=e;return it.createElement("button",{tabIndex:0,"aria-label":`${r} В${t?"ы":""}ключить`,className:B_,onClick:n,key:r},a&&it.createElement("div",{className:G_},it.createElement(a,{color:"currentColor"})),it.createElement("span",{className:Z_},r),it.createElement(mE,{onChange:n,size:pE.SMALL,classNames:{placement:t?"":H_},isActive:!!t}))},next:e=>{const{activeValue:t,activeValueExtra:n,title:r,onClick:a,activeValueIcon:o,navigationIcon:i,innerOption:l=!1}=e;return it.createElement("button",{tabIndex:0,role:"button",className:ti()(B_,{[j_]:l}),"aria-label":r,onClick:a,key:r},i&&it.createElement("div",{className:G_},it.createElement(i,{color:"currentColor"})),it.createElement("span",{className:Z_},r),it.createElement("span",{className:K_},it.createElement(it.Fragment,null,t&&it.createElement("span",{className:eb},t,o&&it.createElement(o,null),n&&it.createElement("span",{className:tb},n)),it.createElement("span",{className:Y_},it.createElement(hE,null)))))},prev:e=>{const{title:t,onClick:n}=e;return it.createElement("button",{tabIndex:0,"aria-label":t,className:ti()(B_,$_),onClick:n,key:t},it.createElement("span",{className:ti()(K_,X_)},it.createElement("span",{className:ti()(Y_,J_)},it.createElement(hE,null)),it.createElement("span",null,t)))},option:e=>{const{active:t,title:n,onClick:r,icon:a}=e;return it.createElement("button",{tabIndex:0,"aria-label":n,className:ti()(B_,j_,{[W_]:t}),onClick:()=>{r&&r()}},it.createElement("span",{className:z_},n,a&&it.createElement(a,null)),it.createElement("span",{className:K_},t&&it.createElement("span",{className:Y_},it.createElement(vE,null))))},palette:e=>{const{onItemClick:t,activeColor:n,isTouchDevice:r}=e;return it.createElement("div",{"aria-label":"Выбор цвета",className:ti()(B_,sb)},it.createElement(AE,{onItemClick:(e,n)=>{t&&t(e)},itemClass:ti()(cb,{[I_]:r}),itemActiveClass:ub,activeColor:n}))},color:e=>{const{activeColor:t,title:n,onClick:r,innerOption:a=!1}=e,o="#ffffff"===t;return it.createElement("button",{tabIndex:0,"aria-label":n,role:"button",className:ti()(B_,{[j_]:a}),onClick:r,key:n},it.createElement("span",{className:z_},n),it.createElement("span",{className:K_},it.createElement(it.Fragment,null,t&&it.createElement("span",{className:ti()(Q_,{[q_]:o}),style:{backgroundColor:t}}),it.createElement("span",{className:Y_},it.createElement(hE,null)))))},subtitleBg:e=>{const{onPaletteItemClick:t,onBackgroundOpacityClick:n,isTouchDevice:r}=e,a=Ni(Ip),o=Ni(Op),i=t||((e,t)=>{});return it.createElement("div",{className:ti()(B_,db)},it.createElement("div",{className:sb,"aria-label":"Цвет фона"},it.createElement(AE,{onItemClick:i,itemClass:ti()(cb,{[I_]:r}),itemActiveClass:ub,activeColor:a})),it.createElement("div",{className:fb},it.createElement(CE,{activeVariant:o,onVariantClick:n,isTouchDevice:r})))},action:e=>{const{onClick:t,title:n}=e;return it.createElement("button",{key:n,tabIndex:0,role:"button","aria-label":n,className:B_,onClick:t},it.createElement("span",{className:Z_},n))},wrapper:e=>{const{onClick:t,Component:n,hideInfoIcon:r=!1}=e;return n?it.createElement(n,{onClick:()=>{t&&t()},hideInfoIcon:r,className:ti()(B_,U_)}):null}},TE=e=>{const t=kE[e.type]?kE[e.type]:null;return t&&it.createElement(t,e)},xE=e=>{let{listRef:t,enabled:n,items:r}=e;(0,it.useEffect)((()=>{const e=e=>{if(!["ArrowUp","ArrowDown"].includes(e.key))return;e.preventDefault();const n=t.current?.querySelectorAll("a, button"),r=n?Array.from(n):[];if(!r.length)return;const a=r.findIndex((e=>e===document.activeElement)),o=r[a+("ArrowUp"===e.key?-1:1)]||r[0];o?.focus()};return n&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,r,t])},LE=(0,it.forwardRef)(((e,t)=>{const{items:n,panelWidth:r,isTouchDevice:a,enableKeyboard:o}=e,i=Ni(Ta),l=Ni(ro)?.height,s=l?l-70:300,c=(0,it.useRef)(null);return xE({listRef:c,enabled:o}),it.createElement("div",{ref:t,className:ti()(O_,D_,{[F_]:i,[I_]:a}),style:a?void 0:{maxHeight:`${s}px`}},it.createElement("div",{ref:c,className:V_,style:{width:r.toString()+"px"}},n?.map(((e,t)=>it.createElement(TE,(0,Qu.default)({},e,{isTouchDevice:a,key:t.toString()+e.title}))))))})),RE=(0,it.memo)((e=>{let{qualities:t=[],isTouchDevice:n,isVisible:r,onChangeQuality:a,hidePanel:o,onPanelResize:i,handleSeekToStart:l}=e;const s=n?297:268,[c,u]=(0,it.useState)(null),[d,f]=(0,it.useState)(null),[p,m]=(0,it.useState)(null),[h,v]=(0,it.useState)(""),[y,g]=(0,it.useState)(s),_=Ni(Ta),b=Ni(aa),E=(0,it.useRef)(null),w=(0,it.useRef)(null),A=(0,it.useRef)([]),S=(e,t,n)=>{u(null),f(E.current),"default"===e?(E.current=A.current,v(t),m(A.current),g(s)):(E.current=e,v(t),m(e),g(n||s))},C=Ni(Da),k=((e,t,n,r)=>{const a=yd(xa),o=yd(Na);return(0,it.useMemo)((()=>{if(!e||e.length<=0)return null;const i=[];i.push({title:"Качество",type:"prev",onClick:()=>{t("default","prev")}}),e.filter(bb).forEach((e=>{const t=((e,t,n)=>t?-1===e.level:n===e.level)(e,a,o);i.push({title:e.value===_a?"Автоматически":wb(e.value,e.frameRate),type:"option",active:t,icon:Ab(e),onClick:t?void 0:()=>{r(e.level),n()}})}));const l={title:"Качество",type:"next",options:i,onClick:()=>{t(i,"next")},navigationIcon:_b},s=i.find((e=>e.active));if(s){const t=e.find((e=>e.level===o)),n=a&&t?.value!==_a;l.activeValue=n?t?.value?wb(t.value,t.frameRate):"":s.title,l.activeValueExtra=n?"(Авто)":void 0,l.activeValueIcon=a?Ab(t):s.icon}return l}),[a,o])})(t,S,o,a),T=((e,t)=>{const n=Ni(Bs),r=Ni(lo),a=Ni(zi),o=xi();return(0,it.useMemo)((()=>{const i=[];return n&&n.length&&!a?(i.push({title:"Скорость",type:"prev",onClick:()=>{e("default","prev")}}),n.forEach((e=>{i.push({title:`${e}x`,type:"option",active:r===e,onClick:()=>{o(Ks.setInfoIcon({label:`Скорость воспроизведения: ${100*e}%`,shortLabel:`Скорость: ${e}`})),o(Ks.setActiveRate(e)),t()}})})),{title:"Скорость",type:"next",options:i,activeValue:i.find((e=>e.active))?.title,navigationIcon:Sb,onClick:()=>{e(i,"next")}}):null}),[a,o,e,t,n,r])})(S,o),x=zb(S,u,o,n),L=(e=>{const t=Ni(Ta),n=Ni(zi),r=Ni(ka),a=xi();return(0,it.useMemo)((()=>t||n||r.endScreen?null:{title:"Автовоспроизведение",type:"switcher",active:e,navigationIcon:Yb,onClick:()=>{const t=!e;a(Ks.setAutoplay(t)),a(Ks.sendYm({statEventType:Zc.PLAYBACK_AUTOPLAY,params:{action:t?"on":"off"}}))}}),[a,e,t,n])})(C),R=((e,t,n,r,a)=>{const o=xi(),i=(e,t)=>{o(Ks.sendYm({statEventType:e,...t&&{params:t}}))};return(0,it.useMemo)((()=>{const o=[{title:"Ещё",type:"prev",onClick:()=>{n("default","prev")}}];return t||o.push({title:jy.CopyLink,type:"wrapper",Component:Ry,onClick:()=>{i(Zc.EXTENDED_PLAYER_MENU,{clickedItemTitle:"copy-link"}),r()}},{title:jy.CopyLinkAtTime,type:"wrapper",Component:Ny,onClick:()=>{i(Zc.MORE_MENU_COPY_LINK),r()}}),eE.forEach((e=>{const t=e.Component===Cy||e.Component===Hy;o.push({...e,type:"wrapper",onClick:()=>{e.Component===Vy&&a(),e.Component===My?i(Zc.EXTENDED_PLAYER_MENU,{clickedItemTitle:"hotkeys-manual"}):i(e.statEventType),r()},hideInfoIcon:t})})),e&&o.push({title:jy.Claim,type:"wrapper",Component:Cy,onClick:()=>{i(Zc.MORE_MENU_REPORT_VIDEO),r()}}),{title:jy.More,type:"next",options:o,navigationIcon:Gb,onClick:()=>{i(Zc.MORE_MENU_CLICK),n(o,"next",297)}}}),[e,t,n,r,a])})(_,b,S,o,l);(0,it.useEffect)((()=>{A.current=[],T&&A.current.push(T),k&&A.current.push(k),x&&A.current.push(x),L&&A.current.push(L),R&&A.current.push(R)}),[n,T,k,x,L,R]),(0,it.useEffect)((()=>{E.current=A.current,u(A.current)}),[C]),(0,it.useEffect)((()=>{i()}),[y,i]);const N=(0,it.useCallback)((e=>{const t=e?.querySelector('[tabindex="0"]');t&&t.focus()}),[r,c]);return it.createElement("div",ou,it.createElement("div",{id:"raichuSettingsPanel",className:ti()(M_,{[F_]:_}),style:{width:y.toString()+"px"}},d&&p&&it.createElement(b_,{in:!(!d||!p),appear:!0,unmountOnExit:!0,onEntered:()=>{u(p),f(null),m(null)},nodeRef:w,classNames:`raichu-settings-animation-${h}`,timeout:200},it.createElement("div",{ref:w,className:ti()(ob,{[ib]:n})},d&&it.createElement(b_,{in:!!d,timeout:200,appear:!0,unmountOnExit:!0,classNames:"raichu-settings-animation-prevItem"},it.createElement(LE,{items:d,isTouchDevice:n,panelWidth:y})),p&&it.createElement(LE,{items:p,isTouchDevice:n,panelWidth:y}))),c&&it.createElement(LE,{ref:N,items:c,isTouchDevice:n,panelWidth:y,enableKeyboard:!0})))})),NE="popper-panel-wrapper-module__fullSizeOverlay___PTQEQ",PE="popper-panel-wrapper-module__preventTap___ulqsk",IE=()=>{const e=(0,it.useRef)(null),t=Ni(ro),n=Ni(io),r=(0,it.useCallback)((r=>{if(e.current=r,r&&t&&n){const{width:e,height:a}=t,{x:o,y:i}=n,l=r.getBoundingClientRect(),s=`-${l.y-i}px`,c=`-${l.x-o}px`;r.style.top=s,r.style.left=c,r.style.width=`${e}px`,r.style.height=`${a}px`}}),[t,n]);return it.createElement("div",{ref:r,className:ti()(NE,PE)})},OE=e=>{let{className:t,popperOptions:n,visible:r,hidePanel:a,renderButton:o,renderPanel:i,testId:l}=e;const s=(0,it.useRef)(null),c=(0,it.useRef)(null),u=(0,it.useRef)(null),d=Hc(),f=Ni(ro)?.width,p=(0,it.useCallback)((()=>{c.current?.update&&c.current.update().catch(console.error)}),[]);return Uc(s,(()=>{s.current&&r&&a()})),(0,it.useEffect)((()=>{c.current?.update&&c.current.update().catch(console.error)}),[f]),it.createElement(it.Fragment,null,it.createElement("div",(0,Qu.default)({ref:s,"data-testid":l,className:t,onBlur:e=>{const t=e.relatedTarget;t&&!s.current?.contains(t)&&a()},role:"none",tabIndex:Mi()?-1:void 0},tu),it.createElement(by,{anchorRef:u,hidePopperOnHidingElement:!1,isPopperShown:r,popperOptions:n,portal:!1,popperKey:hy,customPopperZIndex:1e3,instanceRef:c,renderPopperElements:()=>i({onResize:p})},o(u))),d&&r&&it.createElement(IE,null))},ME=e=>{let{isShowSettings:t,qualities:n,action:r,isTouchDevice:a,onClick:o,onChangeQuality:i,tooltipTitle:l,tooltipPlacement:s,handleSeekToStart:c}=e;const u=xi(),d=Wh(),f=(0,it.useMemo)((()=>({placement:a?"bottom-end":"top",modifiers:[{name:"offset",options:{offset:a?[-6,0]:[0,23]}},{name:"preventOverflow",options:{boundary:d||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[a,d]),p=(0,it.useCallback)((()=>{u(Ks.setActivePanel(null))}),[u]);return it.createElement(OE,{className:ti()(P_,{[I_]:a}),popperOptions:f,visible:t,hidePanel:p,renderButton:e=>it.createElement(Rg,{ref:e,tabIndex:0,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":t,"aria-label":(t?"Закрыть":"Открыть")+" настройки видеоплеера",action:r,className:ti()(nb,"front-control"),tooltipTitle:l,tooltipPlacement:s,onClick:o,iconSticker:it.createElement(vb,null)},it.createElement("div",{className:ti()(rb,{[lb]:t})},it.createElement(L_,{color:"#fff"}))),renderPanel:e=>{let{onResize:r}=e;return it.createElement(RE,{qualities:n,isTouchDevice:a,isVisible:t,onChangeQuality:i,hidePanel:p,handleSeekToStart:c,onPanelResize:r})}})},DE="raichu-player-controls-top-module__wrapper___gONph",FE="raichu-player-controls-top-module__shareWrapper___iNEX_",VE="raichu-player-controls-top-module__share___GtGCj",BE=()=>it.createElement("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M0.893122 14.3298C0.857871 14.364 0.8264 14.395 0.798803 14.4226C1.92511 9.95269 4.54783 8.07833 6.88111 7.28491C9.07145 6.54009 10.9966 6.73603 11.4564 6.78283C11.5076 6.78804 11.5407 6.79141 11.5538 6.79141H12.2538V6.09141V1.4292L21.3103 8.77353L12.2538 16.4783V11.5376V10.9995L11.7339 10.8611C8.62764 10.0345 5.83701 10.9951 3.86988 12.1115C2.88232 12.6719 2.08468 13.2809 1.53344 13.7498C1.25728 13.9847 1.04149 14.1858 0.893122 14.3298Z",stroke:"#F6F6F6",strokeWidth:"1.4"})),HE=["Abort due to cancellation of share.","Share canceled"],UE=bn((e=>e.player),(e=>e.activePanel)),jE=bn([UE],(e=>"share"===e)),WE=bn([UE],(e=>"settings"===e)),$E=bn([UE],(e=>"subscription"===e)),zE=bn([UE],(e=>"seasons"===e)),YE=()=>{const e=xi(),t=Ni(jE),[n,r]=(0,it.useState)(!1),a=Ni(us)??"",o=Ni(ds)??"",i=Ni(Ta),l=(0,it.useCallback)((t=>e(Ks.sendYm({statEventType:Zc.SHARE,params:t}))),[e]),s=()=>{n||e(Ks.setActivePanel("share")),l({action:"show"})},c=i?function(e,t){const n=new URL(e),r=new URLSearchParams(n.search);for(const e of Object.keys(t))r.append(e,t[e]);return n.search=String(r),String(n)}(o,qt(ai.isMobile)):o,u=ai.isMobile?()=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={title:e,url:t};return new Promise(((e,t)=>{navigator.canShare&&navigator.canShare(r)&&n?navigator.share(r).then((()=>e("Mobile sharing completed successfully"))).catch((n=>{HE.includes(n.message)?e("Mobile sharing cancelled by user"):t(n.message)})):t("Mobile share not suppported")}))}(a,c,ai.isMobile).then((()=>{l({action:"share",socialNetwork:"native"})})).catch(s):s;return{handleShareButton:u,handleCheckSharePanelWasOpen:()=>r(t)}},GE=()=>{const{handleCheckSharePanelWasOpen:e,handleShareButton:t}=YE();return it.createElement(Rg,(0,Qu.default)({tabIndex:0,role:"button",onMouseDown:e,"aria-controls":"raichuShareButton","aria-label":"Поделиться видео",tooltipHidden:!0,className:ti()({[FE]:!ai.isMobile}),onClick:t,"aria-haspopup":"false"},tu),it.createElement("div",{className:ti()(VE)},it.createElement(BE,null)))},ZE=e=>{let{handleChangeQuality:t,handleSeekToStart:n}=e;const r=xi(),a=Ni(Ra),o=Ni(zi),i=Ni(fo),l=Ni(Ac(ai.isMobile)),s=ai.isMobile&&!i&&(!o||a.length>0),c=Ni(WE),u=(0,it.useCallback)((()=>{r(Ks.setActivePanel(c?null:"settings"))}),[r,c]);return it.createElement("div",{className:DE},l&&it.createElement(GE,null),s&&it.createElement(ME,{action:"settings",isShowSettings:c,qualities:a,isTouchDevice:!0,onClick:u,onChangeQuality:t,handleSeekToStart:n,tooltipTitle:void 0,tooltipPlacement:"top-end"}))},QE="raichu-player-controls-module__wrapperSnapshot___e2pl8",KE="raichu-player-controls-module__controlsHidden___AowkD",qE="raichu-player-controls-module__controls___uYbhQ",XE="raichu-player-controls-module__controlsStartScreen___kvghj",JE="raichu-player-controls-module__controlsMobile___kNdCv",ew="raichu-player-controls-module__areaBar___Dnct6",tw="raichu-player-controls-module__controlsBtns___Ljr_W",nw="raichu-player-controls-module__controlsBtnsInner___OveIF",rw=()=>it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.56 15.4399C11.803 15.6829 12.197 15.6829 12.44 15.4399L18.44 9.43995C18.683 9.19695 18.683 8.80299 18.44 8.55999C18.197 8.317 17.803 8.317 17.56 8.55999L12 14.12L6.43998 8.55999C6.19698 8.317 5.80301 8.317 5.56002 8.55999C5.31703 8.80299 5.31703 9.19695 5.56002 9.43995L11.56 15.4399Z",fill:"white"})),aw="raichu-player-header-module__headerWrapper___Q7cDb",ow="raichu-player-header-module__channelInfo___zqUkx",iw="raichu-player-header-module__isTouch___nan10",lw="raichu-player-header-module__headerBackground___snoF8",sw="raichu-player-header-module__headerBackgroundSmall___cqn1Z",cw="raichu-player-header-module__headerBackgroundMobile___UzLIS",uw="raichu-player-header-module__header___a8iYu",dw="raichu-player-header-module__headerMobile___fLVUz",fw="raichu-player-header-module__headerItem___zFEjv",pw="raichu-player-header-module__headerItemMobile___lVmoV",mw="raichu-player-header-module__hidden___bmHGz",hw="raichu-player-header-module__headerInfo___fvG52",vw="raichu-player-header-module__headerControls___X1bOh",yw="raichu-player-header-module__avatar___lN65_",gw="raichu-player-header-module__title___TzANZ",_w="raichu-player-header-module__notClickable___sjp8y",bw="raichu-player-header-module__titleMobile___eFVhF",Ew=Jt(en()),ww=()=>{const e=Ni(Ca),t=Ni(rn),n=Ni(Mo),r=Ni(es),a=ot(),o=Ld(),{dist:i}=Zt(window.location.href),l=i||t||"",s=(0,it.useMemo)((()=>{const t=()=>String(r||n||""),i=()=>{const{dist:e}=Zt(window.location.href,!0,"dist");return`${Jt(en())}${e?`_${e}`:""}`};return{...Ew&&{hostname:Ew},...l&&{dist:l},...t()&&{userId:t()},...i()&&{utm_term:i()},cid:a,utm_source:"embed",utm_medium:"referral",utm_content:e,client_id:o}}),[a,o,l,n,e,r]);return{getTrackingLink:function(){return(e=>{let{commonParams:t,uncommonParams:n,clickedId:r,utmCampaign:a,videoId:o,channelId:i}=e;if(!a||!t||!o)return"";const l=["pausescreen","endscreen","serial"].includes(a)?r||"":o,s=["channel","channel_left","subscribe"].includes(a),c=new URLSearchParams(Object.entries(t));n&&Object.entries(n).forEach((e=>{let[t,n]=e;c.append(t,String(n))})),c.append("id",l),c.append("utm_campaign",a),s&&c.append("channel_id",i||""),c.append("appmetrica_tracking_id",{logo:"1037600761300671389",main_logo:"1037877625579705379",title:"1109935222251589310",pausescreen:"317301689277253032",endscreen:"1109935224885674290",subscribe:"29071315776328984",channel:"605532070562855472",channel_left:"1110017734780921159",serial:"245244101715316941",time_tags:"173267859139527576"}[a]);const u=String(s?i:l);return`${d=s?"channel":"video",`https://1164705.redirect.appmetrica.yandex.com/${d}/`}${u}/?${c.toString()}`;var d})({...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},commonParams:{...s},videoId:e})}}},Aw=e=>{const{title:t,isTouchDevice:n,avatarUrl:r,isMini:a,children:o,isFullScreen:i,onClickMiniPlayer:l,handlePlay:s,hidden:c=!0,isShowSubscribe:u}=e,d=xi(),{queue:f}=Hu(),p=Ni(Bo),m=f.length>0,h=Ni((e=>bn(Ta,so,fo,((t,n,r)=>t&&!n&&!e||r)))(m))&&!p,v=Ni(kc),y=Ni(((e,t)=>bn([vc],(n=>{let{show_avatar:r}=n;return e&&Boolean(r)||!e&&Boolean(r)&&!t})))(ai.isMobile,Boolean(u))),g=Ni(Tc),_=Ni(xc),b=Ni(Ka),E=Ni(e_),w=Ni(Ta),A=Ni(Fs),S=Ni(Ds),C=Ni(ds),k=E&&n&&!a&&!i&&l,{getTrackingLink:T}=ww(),x=T({channelId:String(S.id),utmCampaign:"channel_left"}),L=T({utmCampaign:"title"}),R=(0,it.useCallback)((()=>{d(Ks.sendClickEvent({buttonType:Qc.CHANNEL_LOGO,clickedUrl:w?x:A||""}))}),[]),N=(0,it.useCallback)((()=>{d(Ks.sendClickEvent({buttonType:Qc.VIDEO_TITLE,clickedUrl:w?L:C||""})),b&&s&&s("user")}),[w,L,C,b,s]),P=Ni(fo),I=(0,it.useRef)(null);return it.createElement("div",{"data-testid":"ui-header",className:ti()(aw,{[mw]:c})},it.createElement("div",{className:ti()(lw,{[cw]:n,[sw]:!h})}),it.createElement("div",{className:ti()(uw,fw,hw,{[dw]:n,[pw]:n}),ref:I,onClick:e=>{e.target===I.current&&P&&s?.("user")}},k&&it.createElement(Rg,{tabIndex:0,role:"button","aria-haspopup":"false","aria-label":"Переключить в режим мини-плеера",icon:rw,onClick:l,"aria-controls":"raichuMiniPlayerButton"}),h&&it.createElement("div",{className:ti()(ow,{[iw]:ai.isMobile})},(()=>{if(a||!y)return null;if(!n&&y&&u)return null;const e=_?R:void 0;return it.createElement("a",{"data-testid":"ui-author-logo",href:w?x:A,target:"_blank",className:yw,rel:"noreferrer",title:S.name,onClick:e},it.createElement("img",{src:r||Ct,alt:S.name}))})(),(()=>{if(!v)return null;const e=g?N:e=>{e.preventDefault()};return it.createElement("a",{href:w?L:C,target:"_blank",className:ti()(gw,{[bw]:(n||a)&&!i,[_w]:!g}),rel:"noreferrer",onClick:e},t)})())),o&&it.createElement("div",{className:ti()(fw,vw,{[pw]:n})},o))},Sw=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},it.createElement("path",{fill:t,fillRule:"evenodd",d:"m13.93 5.93-1.76 1.76a.1.1 0 0 1-.17-.07V4.1c0-.09.1-.13.17-.07l1.76 1.76a.1.1 0 0 1 0 .14Zm1.7.63c.2-.35.66-.47.99-.24A8 8 0 1 1 12 4.86v1.46a6.54 6.54 0 1 0 3.88 1.28.8.8 0 0 1-.25-1.04Zm-6.11 9.3h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 43.12 43.12 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},Cw=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},it.createElement("path",{fill:t,fillRule:"evenodd",d:"m10.07 5.93 1.76 1.76a.1.1 0 0 0 .17-.07v-1.3A6.54 6.54 0 1 1 8.12 7.6a.8.8 0 0 0 .25-1.04.68.68 0 0 0-.99-.24A8 8 0 1 0 12 4.86V4.1a.1.1 0 0 0-.17-.07l-1.76 1.76a.1.1 0 0 0 0 .14Zm-.55 9.93h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 42.75 42.75 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},kw=e=>{let{color:t="white",low:n=!1}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!n&&it.createElement("path",{d:"M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Tw=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M20.5713 9L14.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M14.5713 9L20.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},xw=(0,it.forwardRef)(((e,t)=>{let{icon:n,color:r,wrapperClassName:a,className:o,style:i,children:l,big:s}=e;return it.createElement("div",{ref:t,className:ti()(Eg,a,{[wg]:s})},it.createElement("div",{className:ti()(bg,o),style:{background:"transparent",...i||{}}},n?it.createElement(n,{color:r}):l))})),Lw="raichu-player-info-layer-module__wrapper___vtOfd",Rw="raichu-player-info-layer-module__labelBox___tuDQf",Nw="raichu-player-info-layer-module__labelBoxAnimated___cuSPx",Pw="raichu-player-info-layer-module__label___RvS_a",Iw="raichu-player-info-layer-module__iconBox___NkSy6",Ow="raichu-player-info-layer-module__btn___ZKaPT",Mw="raichu-player-info-layer-module__btnAnimated___mH2Re",Dw={[qc.PLAY]:Gy,[qc.STOP]:Qy,[qc.PAUSE]:Zy,[qc.NEXT_SEEK]:Sw,[qc.PREV_SEEK]:Cw,[qc.VOLUME_UP]:kw,[qc.VOLUME_DOWN]:()=>it.createElement(kw,{low:!0}),[qc.MUTE]:Tw,[qc.UNMUTE]:kw,[qc.LINK]:ky,[qc.TAG]:Py,[qc.REPLAY_SQUARE]:Fy,[qc.INFO]:Dy,[qc.FLAG]:By,[qc.SEEK_TO_NEXT_TIME_MARK]:()=>it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6666 5.7513C18.6666 5.22203 19.0956 4.79297 19.6249 4.79297C20.0322 4.79297 20.3802 5.04708 20.5189 5.40541C20.5888 5.50283 20.6299 5.62226 20.6299 5.7513V17.2513C20.6299 17.3803 20.5888 17.4998 20.5189 17.5972C20.3802 17.9555 20.0322 18.2096 19.6249 18.2096C19.0956 18.2096 18.6666 17.7806 18.6666 17.2513V11.8847L11 17.2513V12.3722L4 17.251V5.75098L11 10.6298V5.7513L18.6666 11.1179V5.7513Z",fill:"white"})),[qc.SEEK_TO_PREV_TIME_MARK]:()=>it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.96332 5.7513C5.96332 5.22203 5.53426 4.79297 5.00498 4.79297C4.59767 4.79297 4.24971 5.04708 4.11097 5.40541C4.0411 5.50283 3.99997 5.62226 3.99997 5.7513V17.2513C3.99997 17.3803 4.0411 17.4998 4.11097 17.5972C4.24971 17.9555 4.59767 18.2096 5.00498 18.2096C5.53426 18.2096 5.96332 17.7806 5.96332 17.2513V11.8847L13.6299 17.2513V12.3722L20.6299 17.251V5.75098L13.6299 10.6298V5.7513L5.96332 11.1179V5.7513Z",fill:"white"})),[qc.FORWARD_FAST]:e=>{let{color:t="white "}=e;return it.createElement("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M8.7562 0.544534C8.5882 0.634444 8.48333 0.809522 8.48333 1.00007V5.59181C8.47361 5.58428 8.46358 5.57706 8.45326 5.57017L0.953256 0.570173C0.794714 0.464478 0.590866 0.454624 0.422867 0.544534C0.254869 0.634444 0.149994 0.809522 0.149994 1.00007V11.0001C0.149994 11.1906 0.254869 11.3657 0.422867 11.4556C0.590866 11.5455 0.794714 11.5357 0.953256 11.43L8.45326 6.42996C8.46358 6.42308 8.47361 6.41586 8.48333 6.40832V11.0001C8.48333 11.1906 8.5882 11.3657 8.7562 11.4556C8.9242 11.5455 9.12805 11.5357 9.28659 11.43L16.7866 6.42996C16.9303 6.33414 17.0167 6.17282 17.0167 6.00007C17.0167 5.82732 16.9303 5.666 16.7866 5.57017L9.28659 0.570173C9.12805 0.464478 8.9242 0.454624 8.7562 0.544534Z",fill:t}))}},Fw=e=>{const{cleanUp:t,iconState:n,width:r,sizeClassName:a,hidden:o}=e,{icon:i,label:l,shortLabel:s,labelIcon:c,updatedAt:u,withoutAnimation:d=!1}=n,f=r&&r<550&&s?s:l,p=c?Dw[c]:void 0;return!n||o?null:it.createElement("div",{className:ti()(Lw,a)},f&&it.createElement("div",{className:ti()(Rw,{[Nw]:!d}),onAnimationEnd:t},it.createElement("span",{className:Pw,role:"alert","aria-live":"polite"},f,p&&it.createElement(p,null))),i&&it.createElement("div",{className:Iw},it.createElement("div",{key:u,className:ti()({[Mw]:!d}),onAnimationEnd:f?void 0:t},it.createElement(xw,{big:!0,wrapperClassName:Ow,icon:i?Dw[i]:void 0}))))};function Vw(e,t){return t[e]}const Bw={wrapper:"raichu-player-info-layer-module__wrapper___zYJ5l",labelBox:"raichu-player-info-layer-module__labelBox___YR92E",infoLayerLabelFadeout:"raichu-player-info-layer-module__infoLayerLabelFadeout___lntvh",label:"raichu-player-info-layer-module__label___m9ToC",iconBox:"raichu-player-info-layer-module__iconBox___ME72v",sm:"raichu-player-info-layer-module__sm___yIkZc",btn:"raichu-player-info-layer-module__btn___RhUqi",md:"raichu-player-info-layer-module__md___uTBUW",lg:"raichu-player-info-layer-module__lg___Rpl4R",xlg:"raichu-player-info-layer-module__xlg____dgVM",btnAnimated:"raichu-player-info-layer-module__btnAnimated___y7eSJ",infoLayerIconFadeout:"raichu-player-info-layer-module__infoLayerIconFadeout___yfCOX"},Hw=e=>{let{hidden:t}=e;const n=xi(),r=Ni(ja),a=Ni(ro),o=Vw(Ni(ao)||"xxs",Bw),i=a?.width||0,l=(0,it.useCallback)((()=>{n(Ks.clearInfoIcon())}),[n]);return it.createElement(Fw,{cleanUp:l,iconState:r??{},width:i,hidden:t,sizeClassName:o})},Uw="raichu-live-badge-module__badge___e2ce0",jw="raichu-live-badge-module__clickable___MXT8j",Ww="raichu-live-badge-module__mark___FCBV6",$w="raichu-live-badge-module__outdated___X24Ir",zw="raichu-live-badge-module__liveText___OjRfm",Yw="raichu-live-badge-module__liveTextMini___XAlvB",Gw=e=>{const t=Ni(as),n=Ni(fl),r=Ni(ol),[a,o]=(0,it.useState)(!1);return(0,it.useEffect)((()=>{const i=!e?.instance?.liveSyncPosition&&!isFinite(n);if(t||i)return void(a&&o(!1));const l=e?.instance?.liveSyncPosition||n-12,s=Math.floor(100*Math.abs(l-r))/100;!a&&s>=8&&o(!0),a&&s<=6&&o(!1)}),[n,r,e,t,a]),a},Zw="Вернуться к прямому эфиру",Qw=e=>{let{isMini:t=!1,goLive:n,provider:r}=e;const a=Ni(as),o=Ni(zi),i=Gw(r),l=o&&!a;return it.createElement(Rg,{"data-testid":"ui-live",tabIndex:0,role:"button","aria-label":Zw,noScale:!0,tooltipHideOnClick:!0,onClick:l&&i?n:void 0,tooltipTitle:Zw,tooltipHidden:!i,tooltipPlacement:"top",style:{width:"max-content"},className:ti()(Uw,{[jw]:l&&i})},it.createElement("div",{className:ti()(Ww,{[$w]:i})}),it.createElement("div",{className:ti()({[zw]:!t,[Yw]:t})},"В эфире"))},Kw="raichu-video-preview-module__wrapper___ItmxC",qw="raichu-video-preview-module__tooltip___iaNom",Xw="raichu-video-preview-module__tooltipInner___S_Ewa",Jw="raichu-video-preview-module__tooltipImg___tzO9u",eA="raichu-video-preview-module__tooltipDesc___b4mJs",tA="raichu-video-preview-module__tooltipTitle___d7qRo",nA="raichu-video-preview-module__tooltipVideoTitle___Bwe4m",rA=e=>{let{video:t,tooltipHidden:n,children:r,tooltipTitle:a}=e;return t?.id?it.createElement("div",{className:Kw},r,!n&&it.createElement("div",{className:qw},it.createElement("div",{className:Xw},it.createElement("div",{className:Jw},it.createElement("img",{src:t.thumbnail_url,alt:t.title})),it.createElement("div",{className:eA},it.createElement("div",{className:tA},a),it.createElement("div",{className:nA},t.title))))):it.createElement(it.Fragment,null,r)},aA=e=>{let{nextVideo:t,onClick:n,playlistButtonShow:r,previewTooltipHidden:a,showPreview:o,tooltipHidden:i,tooltipTitle:l}=e;const s=Ni(xo),c=Ni(Id),u=Ni(Jg);if(!o||!s&&!u)return null;const d=s?t:c,f=s&&(!r||!t);return it.createElement(rA,{video:d,tooltipHidden:a||!d,tooltipTitle:mg.NextVideo},it.createElement(Rg,{"data-testid":"ui-next-video",action:s?"nextPlaylistVideo":"nextVideo",tabIndex:0,role:"button","aria-label":"Переключить на следующее видео (сочетание клавиш Shift+N)",icon:Yy,onClick:n,disabled:f,tooltipPlacement:"top",tooltipHidden:i,tooltipTitle:l,className:"front-control"}))},oA=e=>{let{onClick:t,playlistButtonShow:n,prevVideo:r,previewTooltipHidden:a,showPreview:o,tooltipHidden:i,tooltipTitle:l}=e;const s=Ni(xo);return o&&s?it.createElement(rA,{video:r,tooltipHidden:a||!r,tooltipTitle:mg.PrevVideo},it.createElement(Rg,{"data-testid":"ui-prev-video",action:"prevPlaylistVideo",tabIndex:0,role:"button","aria-label":"Переключить на предыдущее видео (сочетание клавиш Shift+P)",icon:zy,onClick:t,disabled:!n,tooltipPlacement:"top",tooltipHidden:i,tooltipTitle:l,className:"front-control"})):null},iA="raichu-progress-bar-module__progressBar___vMud7",lA="raichu-progress-bar-module__progressBarThumb___ybOPL",sA="raichu-progress-bar-module__progressBarBefore___QWcu7",cA="raichu-progress-bar-module__progressBarClickArea___Enm4Y",uA=(0,it.memo)((e=>{let{id:t,value:n,handleVolumeHide:r,background:a,barRef:o,margin:i,fullWidth:l=!1,isTouchable:s=!0,color:c="rgba(246, 246, 246, 0.3)",onProgressMove:u}=e;const d=(0,it.useRef)(null),f=(0,it.useCallback)((()=>{d.current&&(clearTimeout(d.current),d.current=null),d.current=setTimeout((()=>{Fi&&r?.()}),5e3)}),[r]),p=e=>{u(e,t)},m=xi();return(0,it.useEffect)((()=>()=>{d.current&&(clearTimeout(d.current),d.current=null)}),[]),it.createElement("div",(0,Qu.default)({id:ih.RAICHU_VOLUME_BAR,"data-testid":"ui-progress",className:iA,onTouchEnd:f,style:{width:l?"100%":"initial",background:c,margin:i??"0 12px 0 12px"},ref:o,onClick:()=>{m(Ks.trackStat({eventName:Gc.SEEK}))}},tu),it.createElement("div",{className:cA,onMouseDown:p,onTouchMove:p}),it.createElement("div",{className:sA,style:{width:`${n}%`,background:a}}),s&&it.createElement("div",{className:lA,style:{left:`calc(${n}% - 6px)`,background:a},onMouseDown:p,onTouchMove:p}))})),dA="raichu-player-volume-controls-module__volumeWrap___b2bFQ",fA="raichu-player-volume-controls-module__volumeProgress___Mhr77",pA="raichu-player-volume-controls-module__volumeProgressVisible___WPWJG",mA=e=>{let{handleControlClick:t,handleMove:n,handleMouseEnter:r,handleVolumeHide:a,volumeBar:o,hasAudioControl:i,isVolumeShow:l,tooltipTitle:s,tooltipPlacement:c,tooltipHidden:u=!1,isTouchDevice:d}=e;const f=Ni(Ta),p=Ni(Oo),m=Ni(Io),h=Ni(_c),v=!m&&p>0?kw:Tw;return it.createElement("div",(0,Qu.default)({"data-testid":"ui-volume",className:dA},tu),it.createElement(Rg,{tabIndex:0,role:"button","aria-label":qy(!m&&p>0?"Убрать звук":"Включить звук","M",!0),action:"muted",icon:v,onClick:t,onMouseEnter:r,tooltipTitle:s,tooltipPlacement:c,tooltipHidden:u,className:"front-control"}),i&&!d&&it.createElement("div",{tabIndex:0,onFocus:r,role:"slider","aria-label":"Ползунок громкости","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":m?0:Math.floor(p),"aria-valuetext":`${m?0:Math.floor(p)}%${m?" (Звук отключён)":""}`,className:ti()(fA,"front-control",{[pA]:l})},it.createElement(uA,{id:"volumeBar",value:m?0:p,background:f&&h?h:"var(--pen-accent)",fullWidth:!0,isVolumeShow:l,handleVolumeHide:a,barRef:o,onProgressMove:n,margin:"0 12px 0 0"})))};var hA=n(2421),vA=n.n(hA),yA=n(9286),gA=n.n(yA);vA().extend(gA());const _A=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t?`${t} ч. ${n} мин.`:`${n} мин.`};const bA=e=>{let{value:t}=e;const n=t>=0?t:0,r=[1,60,3600];let a=Math.floor(n);const o=[0,0,0];for(let e=r.length-1;e>=0;e--)o[e]=Math.floor(a/r[e]),a%=r[e];return 0===o[2]&&o.pop(),o.reduceRight(((e,t)=>(e.push((e=>e>9?e.toString():`0${e}`)(t)),e)),[]).join(":")},EA="raichu-player-left-controls-module__leftControls___vI5YJ",wA="raichu-player-left-controls-module__time___HlZTP",AA="raichu-player-left-controls-module__currentTime___m_Boc",SA="raichu-player-left-controls-module__duration___Gti3l",CA="raichu-player-left-controls-module__separator___K9Ols",kA=()=>it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},it.createElement("rect",{width:"18.667",height:"13.38",x:"7.826",y:"12.534",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",rx:"1.333"}),it.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M19.649 19.821a.65.65 0 0 0 .261-.526.65.65 0 0 0-.261-.527l-2.827-2.034a.55.55 0 0 0-.602-.031.64.64 0 0 0-.31.558v4.067c0 .234.12.448.31.558a.55.55 0 0 0 .602-.031zm-2.566.325v-1.703l1.184.852z",clipRule:"evenodd"}),it.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",d:"m23.762 10.462-1.386-5.174a1.333 1.333 0 0 0-1.633-.943L5.288 8.486a1.333 1.333 0 0 0-.943 1.633l1.387 5.174"})),TA="raichu-active-chapter-tooltip-module__tooltip____At2_",xA="raichu-active-chapter-tooltip-module__arrow___iIKxV",LA=e=>{let{wrapperRef:t,playerWidth:n,isTouchDevice:r}=e;const a=(0,it.useRef)(null),o=Wh(),i=(0,it.useMemo)((()=>({strategy:"fixed",placement:"top",modifiers:[{name:"offset",options:{offset:[0,r?12:24]}},{name:"preventOverflow",options:{boundary:o||document.body}},{name:"arrow",options:{element:`.${xA}`}}]})),[o,r]);return(0,it.useEffect)((()=>{a.current?.update&&a.current.update().catch((()=>{}))}),[n]),it.createElement(by,{instanceRef:a,isPopperShown:!0,renderPopperElements:e=>{let{styles:t}=e;return it.createElement("div",{className:TA},"Откройте список эпизодов, чтобы переключаться между ними",it.createElement("div",{className:xA,style:t.arrow}))},popperKey:hy,popperOptions:i,anchorRef:t,portal:!1,customPopperZIndex:1})},RA="raichu-chapter-tutorial",NA="raichu-active-chapter-module__chapter___FHCiG",PA="raichu-active-chapter-module__wrapper___rxHRM",IA="raichu-active-chapter-module__border___vEMUQ",OA="raichu-active-chapter-module__name___v4W85",MA="raichu-active-chapter-module__button___VPbQC",DA=qr({selectId:e=>e.id,sortComparer:(e,t)=>e.episode-t.episode}),FA=qr({selectId:e=>e.number,sortComparer:(e,t)=>e.number-t.number}),VA=bn(ka,(e=>!e.seasonsWidget)),BA=FA.getSelectors((e=>e.seasonsWidget.seasons)),HA=bn(BA.selectAll,(e=>Boolean(e.length))),UA=e=>e.seasonsWidget.episodes.meta.season,jA=bn(BA.selectAll,(e=>e[0]?.number)),WA=bn((e=>e.seasonsWidget.seasons.meta),jA,((e,t)=>e.current??t??1)),$A=bn(HA,po,ro,((e,t,n)=>{const r=n?.width||0;return e&&(r<500||t&&r<1024)})),zA=DA.getSelectors((e=>e.seasonsWidget.episodes)),YA=e=>e.seasonsWidget.episodes,GA=e=>e.seasonsWidget.stat.toggleButtonShowed,ZA=bn(Go,sl,((e,t)=>e&&t>80&&t<99)),QA=e=>{let{name:t,onClick:n,hideTitle:r,count:a}=e;const o=Ni(Ta),i=Ni(Fa),l=Ni(HA),s=(0,it.useRef)(null),c=jb(),u=(e=>{let{isEmbed:t,wrapperRef:n,isShowControls:r,hasSeasonsButton:a}=e;const[o,i]=(0,it.useState)(!1),l=Ni(ro)?.width||0,s=Hc(),c=Ni(eo),u=!t&&r;return(0,it.useEffect)((()=>{c&&o&&ii(RA,"")}),[c,o]),(0,it.useEffect)((()=>{oi(RA)||!u||a?i(!1):(i(!0),ii(RA,"1"),setTimeout((()=>{n.current&&i(!1)}),5e3))}),[u,i,n,a]),o?it.createElement(LA,{wrapperRef:n,isTouchDevice:s,playerWidth:l}):null})({isEmbed:o,wrapperRef:s,isShowControls:i,hasSeasonsButton:l});return(0,it.useEffect)((()=>{c.get("businessChaptersButtonShow")()}),[c]),it.createElement("div",{className:NA,onClick:n},it.createElement("div",{className:PA},it.createElement("div",{className:IA}),it.createElement(Rg,{ref:s,"data-testid":"ui-chapter-button",tabIndex:0,role:"button",icon:kA,tooltipTitle:it.createElement("div",null,t),tooltipPlacement:"top",label:it.createElement("div",{className:OA},r?a:t),className:ti()("front-control",{[MA]:Boolean(u)})}),u))},KA=e=>{let{duration:t,playerSize:n,isVolumeShow:r}=e;const a=xi(),o=Ni(ol),i=Ni(_l),l=Ni(bl),s=Ni(Ta),c=Ni(Ga),u=Ni(ka),d=jb(),{getTrackingLink:f}=ww(),{width:p}=Vc(),m=p&&p<1280||n&&n?.width<700,h=m&&r&&!ai.isMobile?"0":"1",v=!u.chapters&&i?.name;return(e=>{const t=xi(),n=(0,it.useRef)(null);(0,it.useEffect)((()=>{e?.name&&e.name!==n.current?.name&&(n.current=e,t(Ks.setActiveChapter(e.name)),fc(zt.CHAPTER_CHANGE,{name:e.name}))}),[e])})(i),md({[pd.GotoTimecode]:e=>{let{time:t,source:n}=e;if(i?.name&&t>=0){const e=`${bA({value:i.start})} — ${i.name}`;a(Ks.setInfoIcon({label:e})),(e=>{e&&["chapters","description"].includes(e)&&d.get("chapters"===e?"businessChaptersMenuClick":"businessChaptersDescriptionClick")()})(n)}}}),it.createElement("div",{className:ti()(wA),style:{opacity:h}},it.createElement("div",{className:AA},bA({value:o})),it.createElement("div",{className:CA},"/"),it.createElement("div",{className:SA},bA({value:t})),v?it.createElement(QA,{name:i.name,onClick:()=>{s?window.open(f({utmCampaign:"time_tags"}),"_blank"):(d.get("businessChaptersButtonClick")(),c?a(Ks.setShowChapters(!0)):fc(zt.CHAPTERS_SHOW))},count:l,hideTitle:m}):null)},qA=e=>e.player.pauseRecsHidden,XA=bn(Aa,ka,Ta,yc,((e,t,n,r)=>!t.pauseScreen&&e.pauseRecsAllowed&&(!n||r))),JA=e=>e.player.pauseRecsActive;function eS(e){throw new Error(`Didn't expect to get here ${e}`)}const tS=e=>{const{isTouchDevice:t,isLive:n,handleVolumeHide:r,isTVLiveStream:a,isInteractive:o,isEmbed:i,isShowEndScreen:l,isVolumeShow:s,ended:c,volumeBar:u,hasAudioControl:d,reloadTimeoutHover:f,handlePrevSeek:p,handleNextSeek:m,handlePlaylistPrevClick:h,handlePlaylistNextClick:v,handleNextVideoClick:y,handlePlay:g,handleMuted:_,handleMove:b,handleVolumeHover:E,provider:w,goLive:A,prevVideo:S,nextVideo:C}=e,k=Ni(ro),T=Ni(Ka),x=Ni(fl),L=Ni(Io),R=Ni(JA),N=xi(),P=Ni(Qa),I=Ni(ws),O=!!k&&k.width<=480,M=!t&&!O&&I,D=!(n||t||O||i),F=!!h&&!O,V=!!v&&!O,B=P||l||R,H=(e,t)=>{switch(t){case"prevSeek":p?.(10,Xc.BUTTON);break;case"prevPlaylistVideo":h&&h();break;case"play":g("user");break;case"nextPlaylistVideo":v&&v();break;case"nextSeek":m?.(10,Xc.BUTTON);break;case"nextVideo":y?.();break;case"muted":_(void 0,!0,"pointerType"in e.nativeEvent?e.nativeEvent.pointerType:void 0),N(Ks.trackStat({eventName:L?Zc.SOUND_ON:Zc.SOUND_OFF}));break;default:eS(t)}f?.()},U=L?mg.VolumeOn:mg.VolumeOff;return it.createElement("div",{"data-testid":"ui-left",className:EA},!o&&it.createElement(oA,{prevVideo:S,onClick:H,playlistButtonShow:F,previewTooltipHidden:B,showPreview:D,tooltipHidden:P,tooltipTitle:(l||R)&&mg.PrevVideo}),M&&it.createElement(Rg,{"data-testid":"ui-prev",tabIndex:0,role:"button","aria-label":qy("Отмотать на 10 секунд назад","J"),action:"prevSeek",icon:Cw,onClick:H,tooltipTitle:mg.PrevSeek,tooltipPlacement:"top-start",tooltipHidden:P,className:"front-control"}),!t&&it.createElement(Ng,{action:"play",played:T,live:a,ended:c,onClick:H,tooltipPlacement:"top",tooltipHidden:P,className:"front-control"}),M&&it.createElement(Rg,{"data-testid":"ui-next",tabIndex:0,role:"button","aria-label":qy("Перемотать на 10 секунд вперед","L",!0),action:"nextSeek",icon:Sw,onClick:H,tooltipTitle:mg.NextSeek,tooltipPlacement:"top",tooltipHidden:P,className:"front-control"}),!o&&it.createElement(aA,{nextVideo:C,onClick:H,playlistButtonShow:V,previewTooltipHidden:B,showPreview:D,tooltipHidden:P,tooltipTitle:(l||R)&&mg.NextVideo}),n&&A&&it.createElement(Qw,{isMini:t,goLive:A,provider:w}),!t&&it.createElement(mA,{volumeBar:u,hasAudioControl:d,handleControlClick:H,handleMove:b,handleMouseEnter:E,handleVolumeHide:r,isVolumeShow:s,tooltipTitle:U,tooltipPlacement:"top",tooltipHidden:P,isTouchDevice:!1}),!n&&!o&&it.createElement(KA,{isVolumeShow:s,duration:x,playerSize:k}))},nS=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M9.75 18H5.25V6H18.75V10.5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("rect",{x:"12.75",y:"13.5",width:"6",height:"4.5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},rS=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"5",y:"8",width:"14",height:"8",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},aS=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"4",y:"6",width:"16",height:"12",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},oS=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M8.11111 5.77734V8.88845H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M15.8889 5.77734V8.88845H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M15.8889 18.2227V15.1115H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M8.11111 18.2227V15.1115H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},iS=e=>{let{color:t="white"}=e;return it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M5 8.88888V5.77777H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M19 8.88888V5.77777H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M19 15.1111V18.2222H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M5 15.1111V18.2222H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},lS=()=>it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C3.34315 4 2 5.34315 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H5ZM6.0001 12.2489C5.58589 12.2489 5.25006 12.5846 5.25 12.9988C5.24995 13.413 5.58569 13.7489 5.99991 13.7489L13.4999 13.7499C13.9141 13.7499 14.25 13.4142 14.25 13C14.2501 12.5858 13.9143 12.2499 13.5001 12.2499L6.0001 12.2489ZM6 15.2489C5.58579 15.2489 5.25 15.5847 5.25 15.9989C5.25 16.4131 5.58579 16.7489 6 16.7489H18C18.4142 16.7489 18.75 16.4131 18.75 15.9989C18.75 15.5847 18.4142 15.2489 18 15.2489H6ZM15.25 12.9989C15.25 12.5847 15.5858 12.2489 16 12.2489H18C18.4142 12.2489 18.75 12.5847 18.75 12.9989C18.75 13.4131 18.4142 13.7489 18 13.7489H16C15.5858 13.7489 15.25 13.4131 15.25 12.9989Z",fill:"white"})),sS=()=>it.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"2.62",y:"4.62",width:"18.76",height:"14.76",rx:"2.38",stroke:"white",strokeWidth:"1.24"}),it.createElement("path",{d:"M6 13H13.5",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M6 16H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M16 13H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"})),cS=()=>{const e=Ni(Hs),t=Ni(xp),n=Ni(kp),r=Ni(Fp),a=t?lS:sS,o=t?mg.CaptionsOff:mg.CaptionsOn,i=t?"Выключить субтитры":"Включить субтитры",l=(0,it.useRef)(!1),s=xi(),c=jb(),{addMessage:u,removeMessage:d,clearTimer:f,queue:p}=Hu();return(0,it.useEffect)((()=>{0===p.length&&l.current&&(u({type:"success",id:"CAPTION",text:()=>it.createElement(it.Fragment,null,"Субтитры созданы искусственным интеллектом.",it.createElement("br",null),"Могут встречаться ошибки — ИИ ещё учится"),excludeOnAudio:!1}),l.current=!1)}),[p,l.current,u]),(0,it.useEffect)((()=>{e?.length&&c.get("businessSubtitlesShow")({language:t?r:"",action:"show",result:t?"on":"off"})}),[]),it.createElement(it.Fragment,null,Boolean(e?.length)&&it.createElement(Rg,{tabIndex:0,role:"button","aria-label":i,icon:a,onClick:()=>{const e=!t;if(s(Ks.setCaptionVisibility(e)),c.get("businessSubtitlesClick")({result:e?"on":"off",language:e?r:"",action:"click"}),n?.is_autogenerated&&(l.current=Boolean(!t),t)){const[e]=p;"CAPTION"===e?.id&&(f(),d())}},tooltipTitle:o,tooltipPlacement:"top"}))},uS=e=>{let{onWindowOpen:t,isEmbedUrl:n}=e;const r=Ni(ds)||"",a=Ni(Ta),o=Ni(Va),{searchParams:i}=Ly();return(0,it.useCallback)((()=>{if(a&&n)return void window.open(n,"_blank");const e=Qt({t:o,...i}),l=Ty(r,e);t?.(l),window.open(l,"_blank")}),[r,o])},dS=()=>it.createElement("svg",{width:"103",height:"24",viewBox:"0 0 103 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M11.432 6.2207H0V18.9292H3.1819V14.7947H9.27894L12.0608 18.9292H15.6237L12.5561 14.7756C13.5088 14.6232 14.1947 14.2612 14.6139 13.6896C15.033 13.118 15.2426 12.2034 15.2426 10.984V10.0314C15.2426 9.30733 15.1664 8.73576 15.033 8.29749C14.8996 7.85928 14.671 7.47821 14.3471 7.13526C14.0041 6.81135 13.6231 6.58271 13.1659 6.43029C12.7086 6.29691 12.1369 6.2207 11.432 6.2207ZM10.9176 11.9938H3.1819V9.02151H10.9176C11.3558 9.02151 11.6606 9.09774 11.8131 9.2311C11.9654 9.36446 12.0608 9.61217 12.0608 9.97421V11.0412C12.0608 11.4223 11.9654 11.67 11.8131 11.8033C11.6606 11.9367 11.3558 11.9938 10.9176 11.9938Z",fill:"white"}),it.createElement("path",{d:"M19.9241 15.1757V6.2207H16.7422V15.0995C16.7422 15.8235 16.7993 16.4142 16.9327 16.8524C17.0661 17.3097 17.2947 17.6908 17.6377 18.0147C17.9616 18.3576 18.3427 18.5863 18.7999 18.7196C19.2572 18.8721 19.8288 18.9292 20.5529 18.9292H28.1742C28.8791 18.9292 29.4508 18.8721 29.908 18.7196C30.3653 18.5863 30.7464 18.3576 31.0893 18.0147C31.4132 17.6908 31.6419 17.3097 31.7752 16.8524C31.9086 16.4142 31.9848 15.8235 31.9848 15.0995V6.2207H28.8029V15.1757C28.8029 15.5568 28.7076 15.8045 28.5553 15.9379C28.4028 16.0712 28.098 16.1284 27.6598 16.1284H21.0673C20.61 16.1284 20.3052 16.0712 20.1527 15.9379C20.0003 15.8045 19.9241 15.5568 19.9241 15.1757Z",fill:"white"}),it.createElement("path",{d:"M42.7501 18.9292V9.02151H48.9044V6.2207H33.4141V9.02151H39.5682V18.9292H42.7501Z",fill:"white"}),it.createElement("path",{d:"M53.51 15.1757V6.2207H50.3281V15.0995C50.3281 15.8235 50.3853 16.4142 50.5187 16.8524C50.6521 17.3097 50.8807 17.6908 51.2236 18.0147C51.5476 18.3576 51.9286 18.5863 52.3859 18.7196C52.8432 18.8721 53.4148 18.9292 54.1388 18.9292H61.7601C62.4651 18.9292 63.0367 18.8721 63.494 18.7196C63.9513 18.5863 64.3323 18.3576 64.6753 18.0147C64.9992 17.6908 65.2278 17.3097 65.3612 16.8524C65.4946 16.4142 65.5708 15.8235 65.5708 15.0995V6.2207H62.3889V15.1757C62.3889 15.5568 62.2936 15.8045 62.1412 15.9379C61.9887 16.0712 61.6839 16.1284 61.2457 16.1284H54.6532C54.1959 16.1284 53.8911 16.0712 53.7386 15.9379C53.5863 15.8045 53.51 15.5568 53.51 15.1757Z",fill:"white"}),it.createElement("path",{d:"M81.6966 9.91701V9.66937C81.6966 8.48806 81.3918 7.61159 80.7816 7.05905C80.172 6.5065 79.2004 6.2207 77.905 6.2207H67.1016V18.9292H78.5336C79.8291 18.9292 80.8006 18.6625 81.4109 18.1099C82.0204 17.5574 82.3252 16.6809 82.3252 15.4997V15.2329C82.3252 14.0516 82.0204 13.2133 81.4109 12.7179C81.2963 12.6416 81.1818 12.5845 81.0679 12.5274C80.9534 12.4701 80.7816 12.394 80.5722 12.3178C80.9916 12.0891 81.2772 11.7842 81.4484 11.4413C81.6011 11.0983 81.6966 10.5839 81.6966 9.91701ZM70.2836 11.3079V9.02151H77.3902C77.8477 9.02151 78.1525 9.09774 78.3052 9.2311C78.4572 9.36446 78.5336 9.61217 78.5336 9.97421V10.3553C78.5336 10.7364 78.4572 10.984 78.3052 11.1174C78.1525 11.2508 77.8477 11.3079 77.3902 11.3079H70.2836ZM70.2836 16.1284V13.842H78.0379C78.4763 13.842 78.7811 13.9182 78.9338 14.0516C79.0859 14.185 79.1813 14.4327 79.1813 14.7947V15.1757C79.1813 15.5568 79.0859 15.8045 78.9338 15.9379C78.7811 16.0712 78.4763 16.1284 78.0379 16.1284H70.2836Z",fill:"white"}),it.createElement("path",{d:"M86.643 9.02151H97.0462V6.2207H83.4609V18.9292H97.5603V16.1284H86.643V13.9754H96.798L97.0462 11.1746H86.643V9.02151Z",fill:"white"}),it.createElement("path",{d:"M100.047 5.45287C101.276 5.45287 102.273 4.45606 102.273 3.22644C102.273 1.99681 101.276 1 100.047 1C98.8171 1 97.8203 1.99681 97.8203 3.22644C97.8203 4.45606 98.8171 5.45287 100.047 5.45287Z",fill:"#F41240"})),fS=()=>it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M19.582 5.996a1.418 1.418 0 1 0 0-2.836 1.418 1.418 0 0 0 0 2.836Z",fill:"#F41240"}),it.createElement("path",{d:"M14.688 5.998H3.273V18.76H6.45v-4.152h6.088l2.777 4.152h3.558l-3.063-4.172c.951-.153 1.636-.516 2.055-1.09.418-.574.627-1.493.627-2.718v-.956c0-.727-.076-1.302-.209-1.742a2.913 2.913 0 0 0-.685-1.167 3.094 3.094 0 0 0-1.18-.708c-.456-.134-1.027-.21-1.73-.21Zm-.514 5.798H6.45V8.81h7.724c.437 0 .742.077.894.211.152.134.247.383.247.746v1.072c0 .383-.095.631-.247.765s-.457.192-.894.192Z",fill:"#E1E5EA"})),pS=(0,it.memo)((e=>{let{handleLogoClick:t,handlePlay:n}=e;const r=Ni(ds),a=Ni(Ka),o=Ni(Ta),i=Ni(ro),{getTrackingLink:l}=ww(),s=o?l({utmCampaign:"logo"}):r,c=uS({isEmbedUrl:s}),u=!ai.isMobile&&i&&i.width>550,d=(0,it.useCallback)((e=>{let{e:n,url:r}=e;n?.preventDefault(),t(r),c()}),[t,c]),f=e=>{("click"===e?.type||"auxclick"===e?.type&&1===e?.button||"contextmenu"===e?.type&&2===e?.button)&&(d({e:e,url:s||""}),a&&n("user"))};return it.createElement(Rg,{tabIndex:0,role:"button",logo:!!u,onClick:f,onAuxClick:f,onContextMenu:f,"aria-label":"raichuLogoLink",tooltipHidden:ai.isMobile,icon:u?dS:fS,tooltipTitle:"Смотреть на RUTUBE",tooltipPlacement:"top",noScale:!0})})),mS="raichu-player-right-controls-module__rightControls___jU4v3",hS=()=>it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},it.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M6.62 7c0-.21.17-.38.38-.38h13c.21 0 .38.17.38.38v8c0 .2-.17.38-.38.38h-1.76V10.4c0-.9-.73-1.62-1.62-1.62h-10V7ZM5.38 8.78V7c0-.9.73-1.62 1.62-1.62h13c.9 0 1.62.72 1.62 1.62v8c0 .9-.73 1.62-1.62 1.62h-1.76v1.81c0 .9-.73 1.62-1.62 1.62h-12c-.9 0-1.62-.72-1.62-1.62V10.4c0-.9.73-1.62 1.62-1.62h.76Zm-.76 1.24a.38.38 0 0 0-.38.38v8.03c0 .21.17.38.38.38h12c.21 0 .38-.17.38-.38V10.4a.38.38 0 0 0-.38-.38h-12Zm7.87 4.84c.12-.09.2-.23.2-.4 0-.15-.08-.3-.2-.39l-2.12-1.52a.41.41 0 0 0-.45-.03.48.48 0 0 0-.24.42V16c0 .18.1.34.24.42.14.08.31.08.45-.02l2.12-1.53Zm-1.93.25v-1.28l.89.64-.89.64Z",clipRule:"evenodd"})),vS="seasons-toggle-button-module__wrapper___Zv3A4",yS="seasons-toggle-button-module__button___VYczm",gS="seasons-toggle-button-module__tooltipArea___FtcEb",_S="seasons-toggle-button-module__arrow___tqLc0",bS="seasons-toggle-button-module__label___dxF88",ES="seasons-toggle-button-module__isVisible___act1B",wS=e=>{let{wrapperRef:t}=e;const[n,r]=(0,it.useState)(!0),a=(0,it.useRef)(!1),o=(0,it.useRef)(null),i=Ni(ro)?.width||0,l=Ni(za),s=Wh(),c=Hc(),u=(0,it.useMemo)((()=>({placement:"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,c?12:24]}},{name:"preventOverflow",options:{boundary:s||document.body}},{name:"arrow",options:{element:`.${_S}`}}]})),[s,c]);return(0,it.useEffect)((()=>{o.current?.update&&o.current.update().catch((()=>{}))}),[i]),(0,it.useEffect)((()=>{const e="fullscreen"===l;(e||a)&&(r(!1),setTimeout((()=>{r(!0)}),10)),a.current=e}),[l,r]),it.createElement(by,{instanceRef:o,isPopperShown:n,renderPopperElements:e=>{let{styles:t}=e;return it.createElement("div",{className:gS},"Выбрать серию или сезон",it.createElement("br",null)," теперь можно тут",it.createElement("div",{className:_S,style:t.arrow}))},popperKey:hy,popperOptions:u,anchorRef:t,portal:!1,customPopperZIndex:1})},AS="raichu-seasons-tutorial";const SS={toggleButtonShowed:!1},CS=Hr({name:"tvSeasonsWidgetStat",initialState:SS,reducers:{setToggleButtonShowed:(e,t)=>{let{payload:n}=t;e.toggleButtonShowed=n}},extraReducers:e=>{e.addCase(Ks.reset,(e=>{e.toggleButtonShowed=SS.toggleButtonShowed}))}}),{reducer:kS,actions:TS}=CS,xS="Сезоны и серии",LS=(0,it.forwardRef)(((e,t)=>{const n=Ni(Ta),r=Ni(Fa),a=Ni(Ga),o=Ni(Za),i=Ni(zE),l=(0,it.useRef)(null),s=xi(),c=Ni(GA),u=jb();(0,it.useEffect)((()=>{c||u.get("businessRecommendationsSeasonsButtonShow")()}),[]);const d=function(e){let{wrapperRef:t,isShowControls:n,isEmbed:r,isActive:a}=e;const[o,i]=(0,it.useState)(!1),l=Hc(),s=Ni(ro)?.width||0,c=(0,it.useMemo)((()=>!r&&!a&&!!(n&&s>=590)&&(!l||"undefined"==typeof window||/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(window.navigator.userAgent))),[a,r,s,l,n]),u=Ni(eo);(0,it.useEffect)((()=>{u&&o&&ii(AS,"")}),[u,o]),(0,it.useEffect)((()=>{!oi(AS)&&c?(i(!0),ii(AS,"1"),setTimeout((()=>{t.current&&i(!1)}),3e3)):i(!1)}),[c,i]);const d=Ni(ZA);return(0,it.useEffect)((()=>{"2"!==oi(AS)&&!o&&d&&c&&(i(!0),ii(AS,"2"),setTimeout((()=>{t.current&&i(!1)}),3e3))}),[i,t,c,d,o,n]),o?it.createElement(wS,{wrapperRef:t}):null}({isEmbed:n,isActive:i,wrapperRef:l,isShowControls:r});return it.createElement("div",{ref:l,className:vS},it.createElement(Rg,{ref:t,"data-testid":"ui-seasons",tabIndex:0,role:"button","aria-label":qy(`Показать ${xS}`),"aria-expanded":i,"aria-controls":"raichuSeasonsPanel",action:"seasons",icon:hS,onClick:()=>{i||(s(TS.setToggleButtonShowed(!0)),u.get("businessRecommendationsSeasonsOpen")()),s(Ks.setActivePanel(i?null:"seasons"))},tooltipTitle:it.createElement("div",null,xS),tooltipPlacement:"top",label:it.createElement("div",{className:ti()(bS,{[ES]:a||!n&&o})},xS),className:ti()("front-control",{[yS]:Boolean(d)})}),d)})),RS=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},it.createElement("path",{d:"M15.44 5.56c.24.24.24.64 0 .88L9.88 12l5.56 5.56a.62.62 0 0 1-.88.88l-6-6a.62.62 0 0 1 0-.88l6-6a.62.62 0 0 1 .88 0Z",fill:t,fillRule:"evenodd",clipRule:"evenodd"}))},NS=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{d:"M7 7L17 17",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M17 7L7 17",stroke:t,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},PS="Ошибка во время загрузки",IS="Автор не добавил серии в этот сезон",OS="Вы смотрите",MS="raichuSeasonsPanel",DS="shared-module__panel___Zub52",FS="shared-module__panelHidden___m8P50",VS="shared-module__panelList___igg6R",BS="shared-module__panelItem___CI4TV",HS="shared-module__panelItemStretched___wNEqj",US="shared-module__panelItemHover___xJA8c",jS="shared-module__panelError___b8N66",WS="shared-module__header___KTT5N",$S="shared-module__close___TUzhi",zS="shared-module__icon___jxHlY",YS="episodes-list-module__back___E8fuY",GS="raichu-recommendation-item-module__video___gErIW",ZS="raichu-recommendation-item-module__videoInner___wVL0Q",QS="raichu-recommendation-item-module__videoImg___OlEw2",KS="raichu-recommendation-item-module__videoBg___FaLy6",qS="raichu-recommendation-item-module__fullSizeOverlay____XSid",XS="raichu-recommendation-item-module__recommendation___FPJaQ",JS="raichu-recommendation-item-module__grid___FvgIH",eC="raichu-recommendation-item-module__recommendationCurrent___ol2UZ",tC="raichu-recommendation-item-module__verticalList___MPJZ1",nC="raichu-recommendation-item-module__thumbnail___E5KWQ",rC="raichu-recommendation-item-module__recommendationCurrentText___EpAO4",aC="raichu-recommendation-item-module__recommendationText___d6wE3",oC="raichu-recommendation-item-module__horizontalList___xFhR4",iC="raichu-recommendation-item-module__recommendationTitle___XTtMY",lC="raichu-recommendation-item-module__recommendationDescription___aOs2x",sC="raichu-recommendation-item-module__recommendationInfo___OXom1",cC="raichu-recommendation-item-module__recommendationDuration___xaXsc",uC="raichu-recommendation-item-module__recommendationAge___yDv9m",dC="raichu-recommendation-item-module__recommendationSkeleton___sPQAq",fC="raichu-recommendation-item-module__loading___vBnob",pC="raichu-recommendation-item-module__progress___BRt9r",mC="raichu-thumbnail-module__notLoaded___OEYjo",hC="raichu-thumbnail-module__thumbnailSkeleton___R7Jw2",vC=e=>{let{hidden:t=!1,skeletonClassName:n,className:r,requiredSize:a,src:o,alt:i,responsive:l=!0,...s}=e;const[c,u]=(0,it.useState)(!1),[d,f]=(0,it.useState)(!1),p=Ni(ro),m=(0,it.useMemo)((()=>{const e=a||p?.width||null;if(o&&e&&l)return((e,t)=>[1,1.5,2,3].map((n=>`${e}?width=${Math.floor(t*n)} ${n}x`)).join(", "))(o,e)}),[o,l,a,p]),h=(0,it.useCallback)((()=>{u(!0)}),[u]),v=(0,it.useCallback)((()=>{f(!0)}),[f]);return d?null:it.createElement(it.Fragment,null,!c&&it.createElement("div",{className:ti()(hC,n)}),!t&&o?it.createElement("img",(0,Qu.default)({},s,{className:ti()({[mC]:!c},r),srcSet:m,src:`${o}${a?`?width=${a}`:""}`,alt:i,loading:"lazy",onLoad:h,onError:v})):null)},yC=e=>{let{id:t,title:n,titleRows:r=2,description:a,descriptionRows:o=1,ariaLabel:i,age:l,duration:s,thumbnailUrl:c,width:u,thumbnailWidth:d=600,className:f,progress:p,mode:m="grid",currentLabel:h,hidden:v,onClick:y,onFocus:g}=e;const _=h?"div":"button",b=h?{}:{onClick:e=>{e.preventDefault(),y&&y()}};return it.createElement(_,(0,Qu.default)({},b,{tabIndex:0,className:ti()(XS,f,{[JS]:"grid"===m,[tC]:"vertical_list"===m,[eC]:!!h}),"data-id":t,"data-lazy":v,"aria-label":i||n,onFocus:g,style:{minWidth:u,maxWidth:u,"--rec-title-rows":r,"--rec-description-rows":o}}),it.createElement("div",{className:nC,"aria-hidden":!0},it.createElement("div",{className:GS},it.createElement("div",{className:ZS},c&&it.createElement(vC,{hidden:v,src:c,requiredSize:d,alt:n,className:ti()(qS,QS)}),it.createElement("div",{className:ti()(qS,KS,{[rC]:!!h})},!!h&&it.createElement("div",null,OS)),"grid"===m&&!h&&it.createElement("div",{className:aC},it.createElement("div",{className:iC},n),it.createElement("div",{className:lC,title:a},a)),!h&&it.createElement(it.Fragment,null,it.createElement("div",{className:ti()(sC,cC)},s),l&&it.createElement("div",{className:ti()(sC,uC)},l,"+")),!!p&&!h&&it.createElement("div",{className:pC,"aria-label":`Просмотрено ${p}%`},it.createElement("span",{style:{width:`${p}%`,background:"rgba(0, 161, 231, 1)"}}))))),"grid"!==m&&it.createElement("div",{"aria-hidden":!0,className:ti()(aC,{[oC]:"horizontal_list"===m,[tC]:"vertical_list"===m})},it.createElement("div",{className:iC},n),it.createElement("div",{className:lC,title:a},a)))},gC=e=>{let{count:t,loading:n,mode:r="grid",width:a,titleRows:o,descriptionRows:i,className:l}=e;const s=Array.from(Array(t).keys());return it.createElement(it.Fragment,null,s.map((e=>it.createElement("div",{key:e,className:ti()(XS,dC,l,{[JS]:"grid"===r,[tC]:"vertical_list"===r,[fC]:n}),style:{minWidth:a,"--rec-title-rows":o,"--rec-description-rows":i}},it.createElement("div",{className:nC},it.createElement("div",{className:GS},it.createElement("div",{className:ZS},"grid"===r&&it.createElement("div",{className:aC},it.createElement("div",{className:iC}),it.createElement("div",{className:lC}))))),"grid"!==r&&it.createElement("div",{className:ti()(aC,{[oC]:"horizontal_list"===r,[tC]:"vertical_list"===r})},it.createElement("div",{className:iC}),it.createElement("div",{className:lC}))))))},_C={DEFAULT:7777777,SEASONS:8888888},bC=e=>{let{wrapper:t,items:n,enabled:r=!0,threshold:a=0,rootMargin:o}=e;const i=(0,it.useRef)(null),[l,s]=(0,it.useState)({}),c=(0,it.useCallback)((()=>s({})),[s]);return(0,it.useEffect)((()=>(r&&t.current&&(()=>{if(!t.current)return null;const e=function(e,t){e.forEach((e=>{if(!e.isIntersecting)return;const n=e.target;s((e=>n.dataset.id?{...e,[n.dataset.id]:!0}:e)),t.unobserve(e.target)}))};i.current&&i.current.disconnect();const n=t.current.querySelectorAll('[data-lazy="true"]');if(n.length)try{i.current=new IntersectionObserver(e,{threshold:a,root:o?t.current:void 0,rootMargin:o}),n.forEach((e=>{i.current?.observe(e)}))}catch(e){console.error(e)}})(),()=>{i.current?.disconnect(),i.current=null})),[t,r,n,a,o]),{viewedItems:l,resetViewed:c}},EC=(e,t)=>{if(!e||!t||e<0||t<0)return 0;if(e>=t)return 100;return(e<100?100:e)/t*100},wC=e=>{let{hasNext:t,loading:n,loadMore:r}=e;const a=(0,it.useRef)(null),o=(0,it.useCallback)((e=>{a.current&&a.current?.disconnect(),e&&t&&!n&&(a.current=new IntersectionObserver((e=>{e[0]?.isIntersecting&&r()}),{threshold:0,rootMargin:"100%"}),a.current?.observe(e))}),[t,n,r]);return(0,it.useEffect)((()=>()=>{a.current&&a.current?.disconnect()}),[]),o},AC=e=>{let{state:t,items:n,actions:r,scrollToCurrent:a}=e;const{loading:o,error:i,meta:l}=t,{hasNext:s,hasPrevious:c}=l,u=Boolean(n.length),d=xi(),[f,p]=(0,it.useState)(!a),[m,h]=(0,it.useState)(null),v=(0,it.useCallback)((()=>{h("prev"),d(r.loadPrev())}),[d,r]),y=(0,it.useCallback)((()=>{h("next"),d(r.loadMore())}),[d,r]),g=wC({hasNext:c,loading:o,loadMore:v}),_=wC({hasNext:s,loading:o,loadMore:y});return(0,it.useEffect)((()=>{o||h(null)}),[o]),{hasItems:u,hasNext:s,hasPrevious:c,loading:o,loadingDirection:m,prevLoader:g,nextLoader:_,allowLoaders:f,setAllowLoaders:p,error:i}},SC=e=>{let{listRef:t,items:n,loadingDirection:r,direction:a}=e;const o=(0,it.useRef)(0),i="vertical"===a?"scrollHeight":"scrollWidth",l="vertical"===a?"scrollTop":"scrollLeft";(0,it.useLayoutEffect)((()=>{"prev"===r&&o.current&&t.current&&(t.current[l]=t.current[i]-o.current)}),[n,r,t,i,l]);return{handleScroll:()=>{const e=t?.current;e&&(o.current=e[i]-e[l])}}},CC={loading:!1,error:null,meta:{hasNext:!1,next:null,hasPrevious:!1,previous:null,season:null,type:null}},kC=Hr({name:"tvEpisodes",initialState:DA.getInitialState(CC),reducers:{fetchRequest:(e,t)=>{let{payload:n}=t;e.loading=!0,e.error=null,n.season!==e.meta.season&&DA.removeAll(e),e.meta.season=n.season},fetchRequestByUrl:(e,t)=>{let{payload:n}=t;e.loading=!0,e.error=null,e.meta.type=n.type},fetchSuccess:(e,t)=>{let{payload:n}=t;e.loading=!1,e.meta.type&&"prev"!==e.meta.type||(e.meta.hasPrevious=n.has_previous,e.meta.previous=n.previous),e.meta.type&&"next"!==e.meta.type||(e.meta.hasNext=n.has_next,e.meta.next=n.next),e.meta.type=null,DA.upsertMany(e,n.results)},fetchError:(e,t)=>{let{payload:n}=t;e.meta.hasNext=!1,e.meta.hasPrevious=!1,e.meta.type=null,e.loading=!1,e.error=n?.message||PS}},extraReducers:e=>{e.addCase(Ks.reset,(e=>{e.loading=CC.loading,e.error=CC.error,e.meta={...CC.meta},DA.removeAll(e)}))}}),{reducer:TC}=kC,xC={...kC.actions,loadPrev:kr(`${kC.name}/loadPrev`),loadMore:kr(`${kC.name}/loadMore`),loadDefaultSeason:kr(`${kC.name}/loadDefaultSeason`),loadSeason:kr(`${kC.name}/loadSeason`)},LC=398,RC=e=>{let{visible:t,season:n,maxHeight:r=LC,scrollToCurrent:a,onClick:o,onBack:i,onClose:l}=e;const s=jb(),c=Ni(Ca),u=Ni(UA),d=Ni(YA),f=Ni(zA.selectAll),p=Ni(Ta),{hasItems:m,hasPrevious:h,hasNext:v,loading:y,loadingDirection:g,prevLoader:_,nextLoader:b,allowLoaders:E,setAllowLoaders:w,error:A}=AC({state:d,items:f,actions:xC,scrollToCurrent:a}),{getTrackingLink:S}=ww(),C=(0,it.useRef)(null),k=(0,it.useRef)(null),{viewedItems:T,resetViewed:x}=bC({wrapper:C,items:f,enabled:m,rootMargin:"0px 0px 165px 0px"}),{handleScroll:L}=SC({listRef:k,items:f,loadingDirection:g,direction:"vertical"});return(0,it.useEffect)((()=>{t||x()}),[t,x]),(0,it.useEffect)((()=>{if(m&&a){const e=k.current?.querySelector(`[data-id="${c}"]`)||k.current?.querySelector("[data-id]");e&&k.current?.scrollTo({top:e.offsetTop}),w(!0)}}),[m]),xE({listRef:C,enabled:t,items:f}),it.createElement("div",{className:ti()(DS,{[FS]:!t}),ref:C,"aria-hidden":!t,"aria-disabled":!t},it.createElement("div",{className:ti()(HS,WS)},it.createElement("button",{tabIndex:0,className:YS,onClick:i,"aria-label":"Вернуться к списку сезонов"},it.createElement(RS,null),it.createElement("span",null,`${n||0} сезон`)),it.createElement(kg,{tabIndex:0,className:$S,icon:NS,onClick:l,"aria-label":"Закрыть сезоны и серии","data-close":"true"})),it.createElement("div",{ref:k,className:VS,style:{maxHeight:Math.min(r,LC)},onScroll:L},y&&!m?it.createElement(gC,{count:3,loading:!0,mode:"vertical_list",className:BS}):it.createElement(it.Fragment,null,h&&it.createElement("div",{ref:E?_:void 0,"aria-hidden":!0},it.createElement(gC,{count:1,loading:"prev"===g,mode:"vertical_list",className:BS})),f.map((e=>it.createElement(yC,{key:e.id,id:e.id,title:`${e.episode} серия`,description:e.title,descriptionRows:3,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:bA({value:e.duration}),className:ti()(BS,US),hidden:!T[e.id],progress:EC(e.view_position||0,e.duration),mode:"vertical_list",ariaLabel:e.id===c?OS:`${e.episode} серия${null!==u?` ${u} сезон`:""}`,currentLabel:e.id===c?OS:"",onClick:()=>{return t=e,s.get("businessRecommendationsSeasonsEpisodeClick")({clicked_url:t.video_url}),p&&window.open(S({clickedId:t.id,utmCampaign:"serial",uncommonParams:{resourceId:_C.SEASONS}})),void(o&&o({video:t,resourceId:_C.SEASONS}));var t}}))),E&&v&&it.createElement("div",{ref:b,"aria-hidden":!0},it.createElement(gC,{count:1,loading:"next"===g,mode:"vertical_list",className:BS})),!m&&A&&it.createElement("div",{className:ti()(BS,jS)},A))))},NC="seasons-list-module__seasonsItem___tLBno",PC=390,IC=e=>{let{visible:t,maxHeight:n=PC,onSelect:r,onClose:a}=e;const o=Ni(WA),i=Ni(BA.selectAll),l=(0,it.useRef)(null),s=(0,it.useRef)(null);return xE({listRef:l,enabled:t}),(0,it.useEffect)((()=>{if(t&&l.current&&s.current){l.current.focus();const e=s.current.querySelector('[data-current-season="true"]')||s.current.querySelector("button");e&&s.current.scrollTo({top:e.offsetTop})}}),[t]),it.createElement("div",{ref:l,className:ti()(DS,{[FS]:!t}),"aria-hidden":!t,"aria-disabled":!t,tabIndex:0},it.createElement("div",{className:ti()(BS,HS,WS)},it.createElement("span",null,"Выбор сезона"),it.createElement(kg,{className:$S,icon:NS,onClick:a,"aria-label":"Закрыть сезоны и серии","data-close":"true"})),it.createElement("div",{ref:s,className:VS,style:{maxHeight:Math.min(n,PC)}},i.map((e=>it.createElement("button",{key:e.number,"aria-label":`${e.number} сезон${o===e.number?" Текущий":""}`,className:ti()(BS,US,HS,NC),"data-current-season":o===e.number,onClick:()=>r(e.number)},it.createElement("span",null,e.number," сезон"),o===e.number&&it.createElement("span",{className:zS},it.createElement(Gy,null)))))))},OC="dropdown-panel-module__wrapper___Ekc2u",MC="dropdown-panel-module__wrapperInner___WRHhg",DC="dropdown-panel-module__showEpisodes___mLDsq",FC=e=>{let{onClose:t,onVideoClick:n}=e;const r=(0,it.useRef)(null),a=xi(),o=Ni(ro),i=o?.height?o.height-120:void 0,l=Ni(WA),[s,c]=(0,it.useState)(l),[u,d]=(0,it.useState)(!0);(0,it.useEffect)((()=>{a(xC.loadDefaultSeason())}),[]),(0,it.useEffect)((()=>{c(l)}),[l]),ym((()=>{null!==s&&a(xC.loadSeason(s)),d(!1)}),[s]);return it.createElement("div",(0,Qu.default)({className:OC,id:MS},ou,{onMouseDown:e=>{e.preventDefault()}}),it.createElement("div",{ref:r,className:ti()(MC,{[DC]:null!==s})},it.createElement(IC,{visible:null==s,maxHeight:i,onSelect:c,onClose:t}),it.createElement(RC,{visible:null!==s,scrollToCurrent:u,maxHeight:i,season:s,onBack:()=>c(null),onClose:t,onClick:n})),it.createElement("div",{tabIndex:0,onFocus:()=>{const e=r.current?.querySelectorAll("button[data-close]")[null===s?0:1];e&&e.focus()}}))},VC=e=>{let{onVideoClick:t}=e;const n=xi(),r=Ni(zE),a=()=>n(Ks.setActivePanel(null)),o=Wh(),i=(0,it.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,23]}},{name:"preventOverflow",options:{boundary:o||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[o]);return it.createElement(OE,{popperOptions:i,visible:r,hidePanel:a,renderButton:e=>it.createElement(LS,{ref:e}),renderPanel:()=>it.createElement(FC,{onVideoClick:t,onClose:a})})},BC=e=>{let{onVideoClick:t}=e;const n=Ni($A),r=Ni(HA);return n?it.createElement(LS,null):r?it.createElement(VC,{onVideoClick:t}):null},HC=e=>{const{isTouchDevice:t,isVolumeShow:n,videoId:r,isEmbed:a,volumeBar:o,hasAudioControl:i,isInteractiveVideo:l,reloadTimeoutHover:s,handleMuted:c,handleFullScreen:u,handleChangeQuality:d,handleSeekToStart:f,onChangePlayerMode:p,handleClickMiniPlayer:m,handleMove:h,handlePlay:v,handleVolumeHover:y,handleRecommendationClick:g}=e,_=xi(),b=Ni(bc),E=Ni(WE),w=Ni(Ra),A=yd(Ga),S=Ni(e_),C=Ni(ka),k=Bc("(max-width: 1023px)"),T=Ni(Za),x="cinema"===oi("playerMode"),L=Ni(Io),R=Ni(HA),N=ai.isiOSMobile,P=(0,it.useCallback)((e=>{_(Ks.sendClickEvent({buttonType:Qc.RUTUBE_LOGO,clickedUrl:e}))}),[_]),I=(e,t)=>{if("logo"!==t)switch(s?.(),t){case"muted":c(),_(Ks.trackStat({eventName:L?Zc.SOUND_ON:Zc.SOUND_OFF}));break;case"settings":_(Ks.setActivePanel(E?null:"settings"));break;case"miniPlayer":uu().isFullscreen&&u(),m?.();break;case"cinema":uu().isFullscreen&&u(),p("cinema");break;case"fullscreen":e.currentTarget.dispatchEvent(new window.MouseEvent("mouseout",{view:window,bubbles:!0,cancelable:!1})),u(),p("fullscreen");break;default:eS(t)}else window.open(`${window.location.origin}/video/${r}`)},O=t?void 0:mg.Settings,M=t?void 0:A?mg.FullScreenOff:mg.FullScreenOn,D=!(l&&N);return it.createElement("div",{"data-testid":"ui-right",id:ih.RAICHU_RIGHT_CONTROLS,className:mS},b&&it.createElement(pS,{handleLogoClick:P,handlePlay:v}),R&&it.createElement(BC,{onVideoClick:g}),it.createElement(cS,null),t?it.createElement(mA,{volumeBar:o,hasAudioControl:i,handleControlClick:I,handleMove:h,handleMouseEnter:y,isVolumeShow:n,isTouchDevice:!0}):it.createElement(it.Fragment,null,it.createElement(ME,{handleSeekToStart:f,action:"settings",isShowSettings:E,qualities:w,isTouchDevice:t,onClick:I,onChangeQuality:d,tooltipTitle:O,tooltipPlacement:"top"}),!a&&S&&!A&&it.createElement(Rg,{"data-testid":"ui-mini",tabIndex:0,role:"button","aria-label":qy("Переключить в режим мини-плеера","I",!0),action:"miniPlayer",icon:nS,onClick:I,tooltipTitle:mg.MiniPlayer,tooltipPlacement:"top",className:"front-control"})),!k&&!a&&!C.cinemaMode&&!A&&it.createElement(Rg,{"data-testid":"ui-cinema",action:"cinema",tabIndex:0,role:"button","aria-label":qy("Переключить в театральный режим","T",!0),icon:T||x&&A?rS:aS,onClick:I,tooltipTitle:T||x&&A?mg.CinemaOff:mg.CinemaOn,tooltipPlacement:"top",tooltipHideOnClick:!0,className:"front-control"}),D&&it.createElement(Rg,{"data-testid":"ui-fullscreen",tabIndex:0,role:"button","aria-label":qy(A?"Выйти из полноэкранного режима":"Открыть в полноэкранном режиме","F",!0),action:"fullscreen",icon:A?oS:iS,onClick:I,tooltipTitle:M,tooltipPlacement:"top",className:"front-control"}))},UC="interactive-layer-module__overlay___c2x_2",jC="interactive-layer-module__wrapper___KwFfv",WC="interactive-layer-module__timeline___b3uij",$C="interactive-layer-module__progressBar___yn0u4",zC="interactive-layer-module__title___tuYTe",YC="interactive-layer-module__buttons___gYnUR",GC="interactive-layer-module__autoChoiceAnimation___ZoGTD";function ZC(e){let{buttons:t,countdownValue:n,onIdle:r}=e;const[a,o]=(0,it.useState)(!1);return(0,it.useEffect)((()=>{const e=setTimeout((()=>{o(!0)}),n-600),t=setTimeout((()=>{r()}),n);return()=>{o(!1),clearTimeout(t),clearTimeout(e)}}),[r,n]),it.createElement("div",{className:UC},it.createElement("div",{className:jC},it.createElement("div",{className:zC},"Выберите, что будет дальше"),it.createElement("div",{className:ti()(YC,{[GC]:a})},t),it.createElement("div",{className:WC},it.createElement("div",{style:{animationDuration:`${n}ms`},className:$C}))))}function QC(e){let{handleFragment:t,handleIdle:n,handleShowInteractiveLayer:r,handleClickButton:a,handlePause:o,handleSeekAndPlay:i,handleEndscreen:l,interactiveFragments:s}=e;const c=Ni(Ka),u=(d=Ni(el),parseInt(d.toFixed(3).replace(".","")));var d;const[f,p]=(0,it.useState)(1),m=(0,it.useCallback)((e=>s[e-1]),[s]),h=m(f),v=h?.end||0,y=h?.interaction||1e4,g=h?v-(h?.interaction||0):null,_=h&&g&&u>g,b=xi(),E=function(e,t,n,r){return a=>function(){const o=e(a);o&&(t(XC(o.start)),n(o.num),r?.(o.num))}}(m,i,p,a),w=(0,it.useCallback)((function(){if(!h?.next)return;const e="number"==typeof(t=h?.next[0]||0)?t:t.num;var t;const r=m(e);i(XC(r?.start||0)),p(e),n?.(e)}),[h?.next,m,n,i]);(0,it.useEffect)((()=>t?.(f)),[t,f]);const A=h?.next?.length&&h.next.length>1;(0,it.useEffect)((()=>{_&&c&&A&&(o(),b(fa(!0)),r?.(function(e,t){return t?t.map(((t,n)=>{const{label:r,num:a}=qC(e,t);return[n+1,r,a]})):[]}(m,h.next)))}),[o,c,_,h,A,r,m]),(0,it.useEffect)((()=>{_||b(fa(!1))}),[_]),(0,it.useEffect)((()=>{if(_&&1===h?.next?.length){const e=m(h.next[0]);i(XC(e.start)),p(e.num)}}),[m,i,h,_]),(0,it.useEffect)((()=>{!l||!_||h?.next&&0!==h?.next?.length||l()}),[l,h,_]);const S=s&&s.length>0,C=_&&A;let k;const T=(0,it.useMemo)((()=>it.createElement(ZC,{key:v,buttons:h?KC(E,m,h):[],countdownValue:y,onIdle:w})),[E,m,w,h,y,v]);return S&&C&&(k=T),[k,()=>{p(1)}]}function KC(e,t,n){return n.next?n.next.map((n=>{const{label:r,num:a}=qC(t,n);return it.createElement("button",{onClick:e(a)},r)})):[]}function qC(e,t){let n,r;return"number"==typeof t?(n=e(t)?.name||"",r=e(t)?.num||0):(n=t.name,r=t.num),{label:n,num:r}}function XC(e){return e/1e3}const JC=[qc.LINK,qc.TAG,qc.REPLAY_SQUARE,qc.INFO],ek=e=>!!e&&JC.includes(e),tk=e=>{const{hidden:t=!0,waiting:n,volumeBar:r,reloadTimeoutHover:a,handlePlay:o,handleMove:i,handlePause:l,handleMuted:s,handleFullScreen:c,handleChangeQuality:u,handleSeekToStart:d,changePlayerMode:f,handleSeekAndPlay:p,handlePlaylistNextClick:m,handleNextVideoClick:h,provider:v,isLongPress:y}=e,[g,_]=(0,it.useState)(!1),b=ai.isMobile,E=Ni(Ca),w=Ni(so),A=yd(Ga),[S,C]=(0,it.useState)(null),k=yd(Ta),T=xi(),x=jb(),L=Ni(ja),R=ek(L?.icon),N=Ni(Ba),P=(b||w)&&!R,I=P,O=(0,it.useCallback)((()=>{_(!0)}),[]),M=x.get("businessInteractiveClick"),D=x.get("businessInteractiveClick"),F=Ni(ra)||[],[V,B]=QC({handleSeekAndPlay:p,handlePause:l,handleEndscreen:()=>{l(),T(Ks.setEnded(!0))},handleIdle:D,handleFragment:e=>{T(da(e))},handleClickButton:M,interactiveFragments:F}),H=e=>{w?(p(0),B()):o(e)};return V?it.createElement(it.Fragment,null,V):it.createElement(it.Fragment,null,it.createElement(x_,{isTouchDevice:b,lightMode:b,hidden:t}),it.createElement(Aw,{isShowInfo:!1,title:"",isTouchDevice:b,isFullScreen:A,hidden:t,handlePlay:H},it.createElement(ZE,{handleChangeQuality:u,handleSeekToStart:d})),I&&it.createElement(n_,{hidden:t||n||!N,isLive:!1,isInteractive:!0,isEmbed:k,reloadTimeoutHover:a,handleNextPlaylistVideoClick:m,handleNextVideoClick:h,handlePlay:H}),it.createElement("div",(0,Qu.default)({"data-testid":"video-ui",className:ti()(qE,{[JE]:b,[KE]:t})},tu),it.createElement($h,{boundary:S},it.createElement("div",{className:tw,onMouseLeave:()=>_(!1)},it.createElement("div",{className:nw,ref:C},it.createElement(tS,{isTouchDevice:b,isInteractive:!0,isLive:!1,isTVLiveStream:!1,isEmbed:k,isShowEndScreen:!1,ended:w,volumeBar:r,hasAudioControl:!0,handlePlay:H,handleMuted:s,isVolumeShow:g,handleVolumeHover:O,provider:v,handleMove:i}),it.createElement(HC,{volumeBar:r,hasAudioControl:!1,isTouchDevice:b,isVolumeShow:g,videoId:E,handleSeekToStart:d,isEmbed:!1,handleMuted:s,handleFullScreen:c,handleChangeQuality:u,onChangePlayerMode:f,handlePlay:H,handleVolumeHover:O,handleMove:i,isInteractiveVideo:!0}))))),it.createElement(Hw,{hidden:P&&!y}))},nk=e=>{let{color:t="white"}=e;return it.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("rect",{x:"5",y:"6",width:"14",height:"12.4444",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M13.5555 15.3333H15.8889V13",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),it.createElement("path",{d:"M10.4445 9.11198H8.11112V11.4453",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},rk=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal";if(!t.current)return 0;const r=t.current.getBoundingClientRect(),{top:a,bottom:o,left:i,right:l}=r,s="horizontal"===n?i:o,c="horizontal"===n?l:a,u="horizontal"===n?"clientX":"clientY";let d;d="clientX"in e?e[u]:e.touches&&e.touches.length>=0?e.touches[0][u]:0;let f=(d-s)/(c-s)*100;return f<0&&(f=0),f>100&&(f=100),f},ak="raichu-area-bar-preview-module__wrapper___KU63d",ok="raichu-area-bar-preview-module__img___h72V5",ik="raichu-area-bar-preview-module__chapterName___jyJaW",lk="raichu-area-bar-preview-module__time___xkoXo",sk="raichu-area-bar-preview-module__isDesktop___waKeM",ck="raichu-area-bar-preview-module__vertical___iZwea",uk=e=>{let{barRef:t,previewUrl:n,offset:r,isVertical:a,isTouchDevice:o}=e;const[i,l]=(0,it.useState)(0),s=(0,it.useRef)(null),c=Ni(gl),u=Ni(wo);(0,it.useEffect)((()=>{if(s.current&&t.current){const e=s.current.clientWidth/2/t.current.clientWidth*100;l(r<e?e:r>100-e?100-e:r)}}),[t,r,o]);const d=(0,it.useMemo)((()=>it.createElement("div",{className:ti()(lk,{[sk]:!o}),id:ih.RAICHU_AREAS_BAR_PREVIEW_TIME},null!==u&&bA({value:u}))),[o,u]);return it.createElement("div",{id:ih.RAICHU_AREAS_BAR_PREVIEW,className:ti()(ak,{[ck]:a}),style:{left:`${i}%`},ref:s},o&&d,!!i&&i>0&&null!==u&&!o&&it.createElement(it.Fragment,null,n?it.createElement("div",{style:{backgroundImage:`url(${lh({previewUrl:n,time:u})})`},className:ok}):null,c.length&&Ki(c,u)&&it.createElement("div",{className:ik},Ki(c,u)?.name),d))},dk="raichu-area-module__areas___vPL4T",fk="raichu-area-module__area___Jvf6X",pk=e=>{let{areas:t}=e;return it.createElement("div",{className:dk},it.createElement("div",{className:fk,style:{WebkitTransform:"scaleX(1)",transform:"scaleX(1)",background:"rgba(246, 246, 246, 0.3)"}}),t.map(((e,t)=>it.createElement("div",{key:t,className:fk,style:{WebkitTransform:`scaleX(${e.progress})`,transform:`scaleX(${e.progress})`,background:e.color}}))))},mk="raichu-areas-bar-module__wrapper___WfZSV",hk="raichu-areas-bar-module__hidden___bnSJR",vk="raichu-areas-bar-module__miniPlayer___zQeug",yk="raichu-areas-bar-module__thumbWrapper___qmoDg",gk="raichu-areas-bar-module__thumbInner___wMK1L",_k="raichu-areas-bar-module__areas____YcJQ",bk="raichu-areas-bar-module__area___UQtLz",Ek="raichu-areas-bar-module__thumb___eewCW",wk=(0,it.memo)((e=>{let{id:t,barRef:n,isTouchDevice:r=!1,isTouchable:a=!0,playerMode:o=null,isLiveOutdated:i=!1,handleMove:l}=e;const s=Ni(cl),c=Ni(gl),u=Ni(bo),d=Ni(Eo),f=Ni(fl),p=Ni(Ta),m=Ni(_c),h=Ni(Ua),v=Ni(as),y=Ni(zi),g=Ni(Ao),_=Ni(_l),b=n&&n?.current&&n?.current?.clientWidth||0,E=(0,it.useRef)(null),w=(0,it.useRef)(!1),A=xi(),{isTouched:S,handleTouchStart:C,handleTouchEnd:k}=(()=>{const[e,t]=(0,it.useState)(!1);return{isTouched:e,handleTouchStart:(0,it.useCallback)((()=>{t(!0)}),[]),handleTouchEnd:(0,it.useCallback)((()=>{t(!1)}),[])}})(),T=(0,it.useMemo)((()=>v||y&&!i?100:s),[y,i,v,s]),x=(0,it.useCallback)((()=>{A(Ks.trackStat({eventName:Gc.SEEK}))}),[]),L=e=>{if(!r&&e.target.id===ih.RAICHU_AREAS_BAR_PREVIEW_TIME)return void A(Ks.setPreviewPosition(null));const t=rk(e,n,"horizontal");A(Ks.setPreviewPosition(t))},R=(0,it.useCallback)((()=>{A(Ks.setPreviewPosition(null))}),[]),N=e=>{const n=()=>{L(e),l(e,t)};a&&w.current&&E.current,n()},P=(0,it.useCallback)((e=>{E.current=setTimeout((()=>{w.current=!0}),100),l(e,t),e.stopPropagation()}),[l,t]),I=(0,it.useCallback)((()=>{E.current&&clearTimeout(E.current),w.current=!1}),[]),O=(0,it.useCallback)((e=>c[e]===_&&S?"scaleY(1.8)":"scaleY(1)"),[_,c,S]);return it.createElement("div",{tabIndex:0,role:"slider","aria-label":"Ползунок временной шкалы","aria-valuemin":0,"aria-valuemax":Math.floor(f),"aria-valuenow":Math.floor(s*f/100),"aria-valuetext":`${_A(s*f/100)} (общая длительность ${_A(f)})`,"data-testid":`ui-progress-${t}`,className:ti()(mk,{[vk]:"mini"===o,[hk]:!a},"front-control"),ref:n,onClick:x,onTouchStart:r?P:void 0,onPointerMove:r?N:void 0,onTouchEnd:r?I:void 0,onMouseOut:r?void 0:R,onMouseDown:r?void 0:N,onMouseMove:r?void 0:L,onMouseEnter:r?void 0:L},g&&null!==d&&it.createElement(uk,{barRef:n,previewUrl:u,isTouchDevice:r,offset:d,isVertical:h}),it.createElement("div",{className:_k},c.map(((e,t)=>it.createElement("div",{key:`${String(e.width)+e.name+String(e.start)}`,className:bk,onTouchStart:C,onTouchEnd:k,style:{width:b/100*e.width+"px",transform:ai.isMobile?O(t):void 0}},it.createElement(pk,{areas:[{progress:e.buffered,color:"rgba(246, 246, 246, 0.6)"},{progress:y&&!i?1:e.progress,color:p&&m?m:"var(--pen-accent)"}]}))))),a&&it.createElement("div",{className:yk},it.createElement("div",{className:gk,style:{WebkitTransform:`translateX(${T}%)`,transform:`translateX(${T}%)`}},it.createElement("div",{className:Ek}))))})),Ak="raichu-mini-player-controls-module__controls___x9LyU",Sk="raichu-mini-player-controls-module__controlsBg___AC7Kx",Ck="raichu-mini-player-controls-module__miniPlayerControls___pIwss",kk="raichu-mini-player-controls-module__miniPlayerControlsInner___cXit2",Tk="raichu-mini-player-controls-module__leftButtons___pQ4o9",xk="raichu-mini-player-controls-module__progressBar___IkhUP",Lk="raichu-mini-player-controls-module__currentTime___OPci3",Rk="raichu-mini-player-controls-module__duration___PRm4E",Nk="raichu-mini-player-controls-module__deployBtn___R0tds",Pk="raichu-mini-player-controls-module__close___VnKKt",Ik="raichu-mini-player-controls-module__volume___Q0Yo3",Ok="raichu-mini-player-controls-module__volumeBtn___Tf60m",Mk=e=>{const{provider:t,isLive:n,progressBar:r,ended:a,onMove:o,reloadTimeoutHover:i,onPlay:l,onClickNextVideo:s,onClickDefaultPlayer:c,onChangePlayerMode:u,onMuted:d,onClose:f,goLive:p}=e,m=Ni(Ka),h=Ni(nl),v=Ni(fl),y=yd(xo)&&!n,g=!!s,_=Ni(us),b=Ni(Vs),E=yd(Io),w=yd(Oo),[A,S]=(0,it.useState)(null),C=Ni(ws),k=Ni(as),T=(e,t)=>{switch(t){case"close":u("mini"),f();break;case"volume":d(),i();break;case"play":i(),l("user");break;case"next":i(),s&&s();break;case"deploy":i(),c();break;default:eS(t)}};return it.createElement(it.Fragment,null,b.avatar&&it.createElement(Aw,{isMini:!0,title:_||"",avatarUrl:b.avatar,hidden:!1}),it.createElement("div",{"data-testid":"mini-ui-close",className:Pk},it.createElement(kg,{action:"close",icon:NS,onClick:T,tooltipTitle:mg.MiniPlayerClose,tooltipPlacement:"bottom-end",tooltipMargin:8})),it.createElement("div",{"data-testid":"mini-ui-volume",className:Ik},it.createElement(kg,{action:"volume",icon:!E&&w>0?kw:Tw,onClick:T,className:Ok,tooltipTitle:E?mg.VolumeOn:mg.VolumeOff,tooltipPlacement:"right",tooltipMargin:8})),it.createElement("div",{"data-testid":"mini-ui",className:Ak},it.createElement("div",{className:Sk}),it.createElement("div",{className:Ck},it.createElement($h,{boundary:A},it.createElement("div",{className:kk,ref:S},it.createElement("div",{className:Tk},it.createElement(Ng,{action:"play",played:m,live:k,ended:a,onClick:T,tooltipTitle:m?mg.Pause:mg.Play,tooltipPlacement:"top-start",tooltipMargin:8,className:"front-control"}),y&&it.createElement(kg,{action:"next",icon:Yy,disabled:!g,onClick:T,tooltipTitle:mg.NextVideo,tooltipPlacement:"top",tooltipMargin:8}),n&&it.createElement(Qw,{isMini:!0,provider:t,goLive:p})),!n&&it.createElement("div",{className:xk},it.createElement("div",{className:Lk},bA({value:h})),it.createElement(wk,{id:"progressBar",barRef:r,isTouchable:C,playerMode:"mini",handleMove:o}),it.createElement("div",{className:Rk},bA({value:v}))),it.createElement("div",{className:Nk},it.createElement(kg,{action:"deploy",icon:nk,onClick:T,tooltipTitle:mg.MiniPlayerReturn,tooltipPlacement:"top-end",tooltipMargin:8})))))))};function Dk(){}const Fk=()=>it.createElement("svg",{width:"220px",height:"150px",viewBox:"0 0 220 150",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fill:"red",stroke:"red",strokeWidth:"1",transform:"scale(1,-1) translate(0,-150)",d:" M112.730712890625 55.846142578125C113.76005859375 54.875830078125 114.40107421875 53.503125 114.40107421875 51.980712890625S113.760205078125 49.085595703125 112.733349609375 48.1177734375L112.730712890625 48.115283203125C111.715576171875 47.13603515625 110.33203125 46.532666015625 108.807568359375 46.532666015625S105.89970703125 47.13603515625 104.8828125 48.11689453125L80.769140625 70.03828125C79.76923828125 71.02265625 79.149755859375 72.3908203125 79.149755859375 73.9037109375S79.76923828125 76.784765625 80.768408203125 77.768408203125L80.769140625 77.769140625C81.79541015625 78.722900390625 83.175439453125 79.308251953125 84.69228515625 79.308251953125S87.58916015625 78.722900390625 88.6189453125 77.765771484375z M114.346142578125 49.6154296875C112.730712890625 47.077001953125 110.07685546875 48.230859375 107.422998046875 49.6154296875V49.6154296875C105.666357421875 50.53681640625 104.488623046875 52.34765625 104.488623046875 54.433740234375C104.488623046875 55.662890625 104.8974609375 56.79638671875 105.586669921875 57.705908203125L133.96142578125 101.884716796875C134.998095703125 103.522265625 136.8 104.59365234375 138.852099609375 104.59365234375C139.89609375 104.59365234375 140.875341796875 104.316357421875 141.720263671875 103.83134765625L141.692138671875 103.846142578125C143.337451171875 102.894140625 144.4265625 101.14248046875 144.4265625 99.1365234375C144.4265625 98.106005859375 144.13916015625 97.142724609375 143.640087890625 96.322265625z M208.3845703125 150H10.846142578125C10.56357421875 150.028564453125 10.23544921875 150.04482421875 9.903515625 150.04482421875C4.423095703125 150.04482421875 -0.01962890625 145.602099609375 -0.01962890625 140.1216796875C-0.01962890625 139.902978515625 -0.01259765625 139.685888671875 0.001318359375 139.470556640625L-0.000146484375 10.03828125C-0.010107421875 9.87451171875 -0.0158203125 9.68291015625 -0.0158203125 9.49013671875C-0.0158203125 4.20087890625 4.271923828125 -0.08671875 9.56103515625 -0.08671875C10.014111328125 -0.08671875 10.460009765625 -0.055224609375 10.89638671875 0.00556640625L208.384423828125 -0.000146484375C208.77041015625 -0.055224609375 209.216162109375 -0.08671875 209.669384765625 -0.08671875C214.958642578125 -0.08671875 219.246240234375 4.201025390625 219.246240234375 9.49013671875C219.246240234375 9.68291015625 219.24052734375 9.87451171875 219.229248046875 10.064501953125L219.230419921875 139.499853515625C219.24287109375 139.6857421875001 219.24990234375 139.90283203125 219.24990234375 140.1216796875C219.24990234375 145.602099609375 214.807177734375 150.04482421875 209.3267578125 150.04482421875C208.99482421875 150.04482421875 208.66669921875 150.028564453125 208.34326171875 149.996630859375zM150.69228515625 138.461572265625H173.07685546875V126.92314453125H150.922998046875zM161.538427734375 115.3845703125V34.615283203125H57.69228515625V115.3845703125zM92.30771484375 138.461572265625H126.92314453125V126.92314453125H92.30771484375zM47.07685546875 138.461572265625H69.230712890625V126.92314453125H47.07685546875zM46.153857421875 34.6154296875H11.538427734375V115.384716796875H46.153857421875zM69.230712890625 11.538427734375H47.07685546875V23.07685546875H69.230712890625zM126.92314453125 11.538427734375H92.30771484375V23.07685546875H126.92314453125zM173.07685546875 11.538427734375H150.922998046875V23.07685546875H173.07685546875zM207.69228515625 34.6154296875H173.07685546875V115.384716796875H207.69228515625z"}));const Vk=()=>{const e=!1,[t,n]=(0,it.useState)(!0);return(0,it.useEffect)((()=>{(async()=>{const e=await async function(){const e=document.createElement("video");return e.volume=0,new Promise((t=>{setTimeout((()=>{const n=e.volume;e.remove(),t(0===n)}))}))}();n(e)})()}),[e,n]),Boolean(t)},Bk=e=>{let{className:t}=e;return it.createElement("svg",{className:t,width:"92",height:"16",viewBox:"0 0 92 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},it.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.77552V13.9309H1.35119H2.70238V12.1195V10.3081L6.05813 10.3159L9.78766 10.3236L9.93544 10.4115C10.1133 10.5173 10.2075 10.6779 10.2523 10.9516C10.2704 11.0615 10.2835 11.729 10.2837 12.5362L10.2839 13.9309H11.6351H12.9863L12.9859 12.1273C12.9855 10.1946 12.9858 10.1979 12.8276 9.8656C12.727 9.65419 12.4522 9.3751 12.236 9.26483C12.1393 9.21547 11.9457 9.15162 11.8059 9.12291L11.5516 9.07071L11.7087 9.01933C12.0927 8.89376 12.5209 8.50782 12.7501 8.08075C13.0849 7.4567 13.1634 6.44662 12.9408 5.62471C12.6649 4.60595 11.9543 3.97685 10.7943 3.7244C10.3793 3.63408 9.58103 3.62067 4.59827 3.62041L0 3.62012V8.77552ZM14.6953 7.33697C14.7081 11.4319 14.6988 11.2278 14.8995 11.8043C15.27 12.868 16.0826 13.5497 17.2827 13.8033C17.8582 13.9249 17.6105 13.9291 20.75 13.9291C23.5152 13.9291 23.6409 13.925 24.2172 13.8034C24.865 13.6668 25.45 13.3679 25.863 12.9626C26.3736 12.4616 26.584 12.0369 26.7439 11.1853C26.7836 10.9735 26.7924 10.3996 26.8038 7.27856L26.8171 3.62012H25.4488H24.0806V6.91885C24.0806 10.5434 24.0847 10.4553 23.8968 10.8259C23.7576 11.1005 23.4873 11.305 23.0816 11.4425C22.9581 11.4844 22.6557 11.4909 20.8516 11.4992C18.1405 11.5095 18.5041 11.5089 18.1329 11.333C17.9176 11.231 17.6994 11.0244 17.5888 10.8178C17.4181 10.4985 17.4205 10.5537 17.4199 6.94265L17.4194 3.62012H16.0515H14.6836L14.6953 7.33697ZM28.1891 4.81769V6.01526H30.937H33.6849V9.97309V13.9309H35.112H36.5391V9.97309V6.01526H39.2719H42.0046V4.81769V3.62012H35.0969H28.1891V4.81769ZM43.39 7.27856C43.4013 10.3897 43.4102 10.9741 43.4496 11.1853C43.6036 12.0108 43.8211 12.4588 44.297 12.9309C44.5591 13.1909 44.8071 13.3613 45.1565 13.5217C45.6173 13.7332 45.8731 13.8028 46.503 13.8878C46.97 13.9509 51.9029 13.9515 52.3967 13.8886C53.3072 13.7725 53.9683 13.5057 54.4949 13.0417C54.8557 12.7237 55.1123 12.3266 55.2942 11.8043C55.495 11.2278 55.4856 11.4319 55.4985 7.33697L55.5101 3.62012H54.1429H52.7758L52.7665 7.03028C52.7578 10.2224 52.7537 10.4503 52.7026 10.5943C52.5785 10.9441 52.3383 11.2126 52.0252 11.3515C51.6731 11.5077 51.6349 11.5095 49.3414 11.5004L47.2518 11.492L47.0508 11.4166C46.5504 11.2291 46.3299 11.0034 46.183 10.5281C46.1326 10.3651 46.1283 10.1177 46.1204 6.98647L46.1119 3.62012H44.7443H43.3766L43.39 7.27856ZM57.6724 8.77418V13.9309H62.9851C67.696 13.9309 68.3348 13.9256 68.6245 13.8842C69.619 13.7421 70.2667 13.3889 70.7247 12.7388C71.1643 12.1149 71.3253 11.0501 71.1031 10.236C70.9842 9.80044 70.6819 9.34782 70.3544 9.11508C70.1794 8.99068 69.8982 8.84767 69.7188 8.79176L69.6047 8.75619L69.8835 8.62565C70.484 8.34445 70.8898 7.77464 71.0352 7.00837C71.089 6.72478 71.0804 6.04912 71.019 5.73851C70.8439 4.85248 70.2457 4.15397 69.4231 3.87491C69.1271 3.77446 69.007 3.74356 68.6944 3.68739C68.4665 3.64647 67.8066 3.63966 63.0543 3.62923L57.6724 3.61743V8.77418ZM72.9548 8.77552V13.9309H79.1325H86.0522L86.0541 12.7334L86.056 11.5358H80.4704H75.6268V10.7471V9.95849H80.4698H85.2616V8.77552V7.59255H80.4698H75.6268V6.80391V6.01526H80.4698H86.0547V4.81769V3.62012H79.1338H72.9548V8.77552ZM67.7013 5.95749C68.0471 6.0056 68.2114 6.11548 68.3331 6.38026C68.4321 6.59556 68.4435 6.86855 68.3641 7.1203C68.2927 7.34629 68.1934 7.4645 67.9849 7.57179L67.8594 7.63637L64.1019 7.64423L60.3444 7.65208V6.78986V5.92764L63.9197 5.92822C66.0968 5.92857 67.5757 5.94002 67.7013 5.95749ZM9.86466 6.1255C10.209 6.28857 10.3369 6.56311 10.3066 7.07403C10.2818 7.49418 10.0863 7.77777 9.74418 7.89028C9.65564 7.91937 8.83794 7.92928 5.97982 7.93585L2.70238 7.9442V6.97928V6.01436L5.99564 6.0221L9.66274 6.02987L9.86466 6.1255ZM68.0871 9.96906C68.2372 10.0459 68.3882 10.19 68.4383 10.3043C68.5201 10.491 68.5498 10.7521 68.512 10.9525C68.4513 11.2746 68.3216 11.4458 68.0568 11.5533C67.9254 11.6067 67.7753 11.6091 64.1322 11.6167L60.3444 11.6245V10.7617V9.89876L64.1626 9.90673C67.8194 9.91433 67.9854 9.91698 68.0871 9.96906Z",fill:"#F6F6F6"}),it.createElement("ellipse",{cx:"89.3677",cy:"1.80872",rx:"1.86901",ry:"1.80872",fill:"#FF2D2D"}))},Hk="watch-on-rutube-button-module__button___IrAlY",Uk="watch-on-rutube-button-module__label___goNVz",jk="watch-on-rutube-button-module__logo___Xv7h7",Wk="watch-on-rutube-button-module__isOverlayEmbed___XHAtO",$k=e=>{let{className:t,isOverlayEmbed:n,handlePlay:r,logoClassName:a,...o}=e;const i=jb(),l=xi(),{getTrackingLink:s}=ww(),c=uS({onWindowOpen:e=>{window.open(s({utmCampaign:"main_logo"}),"_blank"),i.get("businessWatchOnRutubeClick")(e),n&&r(),l(Ks.trackStat({eventName:Gc.WATCH_ON_RUTUBE_CLICK,clickedUrl:e}))}});(0,it.useEffect)((()=>{i.get("businessWatchOnRutubeShow")(),l(Ks.trackStat({eventName:Gc.WATCH_ON_RUTUBE_VIEW}))}),[i]);const u=Ni(bc);return!n&&u||n?it.createElement("div",(0,Qu.default)({onClick:c,className:ti()(Hk,t,{[Wk]:n})},o),it.createElement("span",{className:Uk},"Смотреть на"),it.createElement(Bk,{className:jk})):null},zk="raichu-embed-overlay-logo-module__button___tqMwa",Yk="raichu-embed-overlay-logo-module__isMobile___zdKVU",Gk="raichu-embed-overlay-logo-module__controls____6f4m",Zk="raichu-embed-overlay-logo-module__hidden___wTFMr",Qk="raichu-embed-overlay-logo-module__slideVertical___C8qOT",Kk="raichu-embed-overlay-logo-module__slideHorizontal___oA2z7",qk=e=>{let{handleHideOverlay:t,handlePlay:n}=e;const r=Ni(Fa),a=ai.isMobile;return it.createElement($k,(0,Qu.default)({isOverlayEmbed:!0,handlePlay:n},ru,{onAnimationEnd:t,className:ti()(zk,{[Zk]:r&&a,[Yk]:a,[Gk]:r,[Qk]:!a,[Kk]:a})}))},Xk=e=>it.createElement(b_,(0,Qu.default)({classNames:"raichu-fade"},e),e.children),Jk=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},it.createElement("path",{fill:t,fillRule:"evenodd",d:"M4.43 12.24c.03.07.07.14.13.2l5 5a.62.62 0 1 0 .88-.88L6.5 12.62H19a.62.62 0 1 0 0-1.24H6.5l3.94-3.94a.62.62 0 1 0-.88-.88l-5 5a.62.62 0 0 0-.13.68Z",clipRule:"evenodd"}))},eT=e=>{let{color:t="white"}=e;return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},it.createElement("path",{fill:t,fillRule:"evenodd",d:"M19.57 12.24a.62.62 0 0 1-.13.2l-5 5a.62.62 0 1 1-.88-.88l3.94-3.94H5a.62.62 0 1 1 0-1.24h12.5l-3.94-3.94a.62.62 0 0 1 .88-.88l5 5a.62.62 0 0 1 .13.68Z",clipRule:"evenodd"}))},tT="raichu-text-button-module__textButton___VLOc4",nT=e=>{let{children:t,className:n,...r}=e;return it.createElement("button",(0,Qu.default)({className:ti()(tT,n)},r),t)},rT="raichu-pause-recommendations-module__pauseRecs___PiCcy",aT="raichu-pause-recommendations-module__isVisible____W4TN",oT="raichu-pause-recommendations-module__pauseRecsInner___xJPr1",iT="raichu-pause-recommendations-module__barActive___6t3g6",lT="raichu-pause-recommendations-module__pauseRecsTitle___HAWRl",sT="raichu-pause-recommendations-module__pauseRecsWrapper___DqyZE",cT="raichu-pause-recommendations-module__pauseRecsControl___lWk4F",uT="raichu-pause-recommendations-module__pauseRecsButton___OSNcW",dT="raichu-pause-recommendations-module__pauseRecsPrev___ggtLM",fT="raichu-pause-recommendations-module__pauseRecsNext___rJegM",pT="raichu-pause-recommendations-module__pauseRecsList___AyJ1U",mT="raichu-pause-recommendations-module__pauseRec___bINVU",hT="raichu-pause-recommendations-module__buttonClose___r1rO8",vT="raichu-pause-recommendations-module__buttonShow___phzLB",yT="raichu-pause-recommendations-module__miniCoversWrapper___C1OI0",gT="raichu-pause-recommendations-module__miniCover___rsB6Y",_T=(0,it.memo)((e=>{let{items:t}=e;return it.createElement("div",{className:yT},t.map((e=>it.createElement("img",{className:`${gT}`,src:e.video.thumbnail_url,alt:e.video.title,loading:"lazy"}))))})),bT={xxs:{visible:1,total:5},xs:{visible:3,total:18},sm:{visible:4,total:16},md:{visible:4,total:16},lg:{visible:6,total:18},xlg:{visible:8,total:16}},ET=(0,it.memo)((e=>{let{onVideoClick:t,playerLoading:n}=e;const r=(0,it.useRef)(null),{items:a,perPage:o,imageHeight:i,scrollTo:l,handlePrev:s,handleNext:c,handleFocus:u,setListNode:d,listNode:f,calcImageSize:p}=(()=>{const e=(0,it.useRef)(null),t=Ni(ao),n=Ni(ro)?.width,{visible:r,total:a}=t?bT[t]:{visible:0,total:0},o=yd((e=>Od(e,a))),[i,l]=(0,it.useState)(1),s=r&&o.length?Math.ceil(o.length/r):1,[c,u]=(0,it.useState)(0),d=(0,it.useCallback)((t=>{e.current=t}),[]),f=(0,it.useCallback)((()=>{const t=e.current?.clientWidth;t&&u(Math.round((t/r-16)/1.76))}),[u,r]),p=(0,it.useCallback)((function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.current){const r=e.current.clientWidth;e.current.scrollTo({behavior:n?"smooth":void 0,top:0,left:r*(t-1)})}}),[e]),m=(0,it.useCallback)((e=>{l((t=>{const n="left"===e?t-1:t+1;return p(n),n}))}),[l,p]),{handlePrev:h,handleNext:v}=(0,it.useMemo)((()=>({handlePrev:()=>m("left"),handleNext:()=>m("right")})),[m]);return(0,it.useEffect)((()=>{const e=s<i?s:i;e!==i&&l(e),p(e,!1),f()}),[n]),{items:o,perPage:r,scrollTo:p,handlePrev:i>1?h:void 0,handleNext:i<s?v:void 0,handleFocus:e=>{const t=e+1,n=i*r;t>n&&m("right"),t<n-r&&m("left")},listNode:e,setListNode:d,imageHeight:c,calcImageSize:f}})(),m=(e=>{const t=xi(),n=jb();return{onShow:(0,it.useCallback)((()=>{t(Ks.sendYm({statEventType:Zc.PAUSE_SCREEN,params:{action:"show",list_of_cards:e.map(((e,t)=>({title:e.video.title,url:e.video.video_url,position:(t+1).toString()})))}})),n.get("businessRecommendationsShowPauseRecommendations")()}),[t,e,n]),onToggleByUser:(0,it.useCallback)((e=>{e&&n.get("businessRecommendationsShowPauseRecommendations")(),t(Ks.sendYm({statEventType:Zc.PAUSE_SCREEN,params:{action:e?"show_rec":"hide_rec"}}))}),[t,n]),onVideoClick:(0,it.useCallback)(((e,r)=>{n.get("businessRecommendationsPauseRecommendationClick")(),t(Ks.sendYm({statEventType:Zc.PAUSE_SCREEN,params:{action:"click",clicked_url:e,position:r.toString()}}))}),[t,n])}})(a),h=Ni(Ao),v=Ni(Eo),y=Ni(Ta),g=h&&null!==v&&!ai.isMobile,{getTrackingLink:_}=ww(),{isPlaying:b,isVisible:E,isAnimationEnded:w,onAnimationEntered:A,onAnimationExited:S,showRecsByUser:C,hideRecsByUser:k}=((e,t)=>{const n=xi(),r=Ni(qA),a=Ni(Ka),[o,i]=(0,it.useState)(!1),[l,s]=(0,it.useState)(!0),c=(0,it.useCallback)((()=>{i(!0)}),[i]),u=(0,it.useCallback)((()=>{Pi((()=>{e.onToggleByUser(!0),n(Ks.setPauseRecsHidden(!1))})),c()}),[n,c,e]),d=(0,it.useCallback)((()=>{i(!1)}),[i]),f=(0,it.useCallback)((()=>{Pi((()=>{e.onToggleByUser(!1),n(Ks.setPauseRecsHidden(!0))})),d()}),[n,d,e]),p=(0,it.useCallback)((()=>s(!1)),[s]),m=(0,it.useCallback)((()=>s(!0)),[s]);return ym((()=>{a||t?d():r||c()}),[a,t]),ym((()=>{Pi((()=>{o&&e.onShow(),n(Ks.setPauseRecsActive(o))}))}),[o]),{isPlaying:a,isVisible:o,isAnimationEnded:l,onAnimationEntered:p,onAnimationExited:m,showRecsByUser:u,hideRecsByUser:f}})(m,n),{viewedItems:T}=bC({wrapper:f,items:a,enabled:E,rootMargin:"100%"}),x=(0,it.useCallback)(((e,n)=>{m.onVideoClick(e.video_url,n),y?window.open(_({utmCampaign:"pausescreen",clickedId:e.id}),"_blank"):t&&t({video:e})}),[m,y,t,_]);if((0,it.useEffect)((()=>{!E&&w?l(1,!1):E&&p()}),[E,w,l]),!a.length||!o)return null;const L=E&&!n&&!b,R=Array.isArray(a)&&a.length>1&&a[0].video.thumbnail_url&&a[1].video.thumbnail_url;return it.createElement(it.Fragment,null,!b&&!n&&!E&&w&&it.createElement(nT,{className:vT,onClick:C,"aria-label":"Показать рекомендации","aria-haspopup":"true","aria-controls":"raichuPauseRecs","aria-expanded":L},R&&it.createElement(_T,{items:[a[0],a[1]]}),"Рекомендации"),it.createElement(Xk,{appear:!0,in:L,nodeRef:r,timeout:500,onEntered:A,onExited:S},it.createElement("div",{id:"raichuPauseRecs",className:ti()(rT,{[aT]:!w||!b&&E}),ref:r,"aria-label":"Рекомендации"},it.createElement("div",{className:ti()(oT,{[iT]:g})},it.createElement("div",{className:lT},"Рекомендации"),it.createElement(kg,{className:hT,icon:NS,onClick:k,"aria-label":"Закрыть рекомендации"}),it.createElement("div",{className:sT},it.createElement("div",{className:ti()(cT,dT),style:{height:`${i}px`}},s&&it.createElement("button",{"aria-hidden":"true",className:uT,onClick:s},it.createElement(Jk,null))),it.createElement("div",{className:pT,ref:d},a.map(((e,t)=>it.createElement(yC,{key:e.video.id,id:e.video.id,title:e.video.title,thumbnailUrl:e.video.thumbnail_url,age:e.video.pg_rating.age,duration:bA({value:e.video.duration}),hidden:!T[e.video.id],mode:"horizontal_list",width:`${(100/o).toFixed(2)}%`,className:mT,onClick:()=>x(e.video,t+1),onFocus:()=>u(t)})))),it.createElement("div",{className:ti()(cT,fT),style:{height:`${i}px`}},c&&it.createElement("button",{"aria-hidden":"true",className:uT,onClick:c},it.createElement(eT,null))))))))})),wT="raichu-subscribe-module__wrapper___dYSEX",AT="raichu-subscribe-module__hidden___oWY8L",ST="raichu-subscribe-module__bottom___sYhgH",CT="raichu-subscribe-module__inactive___t0Mb7",kT="raichu-subscribe-module__logo___kdh8S",TT="raichu-subscribe-module__logoImg___fsr8o",xT="raichu-subscribe-module__popup___rIBSP",LT="raichu-subscribe-module__popupShow___ehxZl",RT="raichu-subscribe-module__button___NQv1X",NT=e=>{let{subscribeData:t,handleFullScreen:n,onSubscribeClick:r,isTouchDevice:a=!1,controlsHidden:o}=e;const i=xi(),l=Ni(Ta),s=Ni(ds)||"",c=Ni(Ds),u=Ni(Mo),d=Ni(Lo),f=Ni(Do),p=Ni($E),m=Ni(Zo),h=(0,it.useRef)(null),v=l&&a&&!o||d&&l,y=!p&&a||o&&!a,g=(0,it.useRef)(null),{startAutoHideTimer:_,clearAutoHideTimer:b}=(e=>{const t=xi(),n=(0,it.useRef)(null),r=(0,it.useCallback)((()=>{n.current=setTimeout((()=>{t(Ks.setActivePanel(null)),t(Ks.setIsShowSubscribeButton(!1))}),4e3)}),[]),a=(0,it.useCallback)((()=>{n.current&&(clearTimeout(n.current),n.current=null)}),[]);return(0,it.useEffect)((()=>(e&&(t(Ks.setActivePanel("subscription")),r()),()=>{a()})),[r,a,e]),{startAutoHideTimer:r,clearAutoHideTimer:a}})(m),{getTrackingLink:E}=ww(),w=(0,it.useMemo)((()=>{const{type:e,id:n}=t,r="tv"===e?`metainfo/tv/${String(n)}/`:`channel/${String(n)}`,a=new URLSearchParams,o=pc(s),i=E({utmCampaign:"subscribe",channelId:String(t.id)});return l?i:`${o}/${r}?${a.toString()}`}),[l,t,s,E]),A=(0,it.useCallback)((()=>{l?(i(Ks.trackStat({eventName:Gc.SUBSCRIBE_CLICK})),window.open(`${w}`,"_blank")):(u||n&&n(),t.id&&r({id:t.id,type:t.type,isUserSubscribed:f}))}),[w,l,t,u,r,f,n]),S=()=>{g.current&&(clearTimeout(g.current),g.current=null),i(Ks.setActivePanel(null))},C=()=>{g.current=setTimeout((()=>{i(Ks.setActivePanel("subscription"))}),100)},k=()=>{i(Ks.trackStat({eventName:Gc.AUTHOR_EMBED_CLICK}))};return it.createElement(it.Fragment,null,t&&c?.id!==u?it.createElement("div",(0,Qu.default)({className:ti()(wT,{[ST]:o,[AT]:v,[CT]:y}),onMouseEnter:a?void 0:C,onMouseLeave:a?void 0:S,onTouchEnd:a?e=>{e.stopPropagation(),e.target!==h.current&&(e.preventDefault(),b(),i(Ks.setActivePanel(p?null:"subscription")),p||(_(),k()))}:void 0},tu,ru),it.createElement("a",{className:ti()(kT),href:l?E({utmCampaign:"channel",channelId:String(t.id)}):w,onClick:k,target:"_blank",rel:"noreferrer","aria-label":"Логотип канала"},it.createElement("img",{alt:"Логотип канала",className:TT,src:t.avatar||Ct})),it.createElement("div",{className:ti()(xT,{[LT]:p}),"aria-live":"polite"},it.createElement("button",{type:"button",className:ti()(RT),onClick:A,ref:h,"aria-label":f?"Отменить подписку на канал":"Подписаться на канал",onFocus:a?void 0:C,onBlur:a?void 0:S},f?"Подписаны":"Подписаться"))):null)},PT="raichu-aria-alert-module__ariaAlert___RmsxF",IT=e=>{let{children:t,...n}=e;return it.createElement("span",(0,Qu.default)({},n,{className:PT}),t)},OT="raichu-progress-button-module__progressBtn___T_iZh",MT="raichu-progress-button-module__progressBtnSmall___euKmp",DT="raichu-progress-button-module__progressBtnIcon___S3Ui_",FT=e=>{const{size:t="default",timeout:n=Wt,onClick:r}=e,{cssProgressValue:a,setProgress:o}=((e,t,n)=>{const[r,a]=(0,it.useState)(0),o=e/100*r;return(0,it.useLayoutEffect)((()=>{let r=null,o=0,i=!1;return null!==t&&(r=window.requestAnimationFrame((function l(){i||(o+=e/(t||0),a(o*e/e*10),o*e*.1<e?r=window.requestAnimationFrame(l):(a(0),"number"==typeof r&&window.cancelAnimationFrame(r),n&&n(!0),r=null))}))),()=>{i=!0,"number"==typeof r&&window.cancelAnimationFrame(r)}}),[t]),{cssProgressValue:o,setProgress:a}})(216,n,r),i=(0,it.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),o(0),r()}),[o,r]),l=(0,it.useCallback)((e=>{e.stopPropagation()}),[]);return it.createElement("div",(0,Qu.default)({className:ti()(OT,{[MT]:"default"!==t}),title:"Следующее видео",onClick:i},tu),it.createElement("svg",{className:DT,viewBox:"0 0 60 60",fill:"none"},it.createElement("path",{fill:"rgba(28, 35, 43, 0.9)",d:"M0.5 18.7514C0.5 9.91191 0.5 5.49216 3.24608 2.74608C5.99216 0 10.4119 0 19.2514 0H41.7486C50.5881 0 55.0078 0 57.7539 2.74608C60.5 5.49216 60.5 9.91191 60.5 18.7514V41.2486C60.5 50.0881 60.5 54.5078 57.7539 57.2539C55.0078 60 50.5881 60 41.7486 60H19.2514C10.4119 60 5.99216 60 3.24608 57.2539C0.5 54.5078 0.5 50.0881 0.5 41.2486V18.7514Z"}),it.createElement("path",{d:"M23 20v19.6l14-9.8L23 20Z",fill:"#fff",stroke:"#fff",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!!n&&it.createElement("path",{onClick:i,onMouseDown:l,onMouseUp:l,onTouchStart:l,style:{strokeDasharray:216,strokeDashoffset:a+216},stroke:"#00A1E7",strokeWidth:"2",d:"M30 1H10C5.02944 1 1 5.02944 1 10V50C1 54.9706 5.02944 59 10 59H50C54.9706 59 59 54.9706 59 50V10C59 5.02944 54.9706 1 50 1Z"})))},VT="raichu-endscreen-auttoplay-module__endScreenAutoplay___HV28r",BT="raichu-endscreen-auttoplay-module__endScreenAutoplayLabel____MZml",HT=()=>{const e=xi(),t=(0,it.useRef)(null),n=Ni(Da),r=(0,it.useCallback)((()=>{e(Ks.setAutoplay(!n))}),[e,n]);var a,o;a="dark2021",o=t,(0,it.useEffect)((()=>{const e=vt(ft[a]);yt(a,e),o.current&&(o.current.dataset[mt]=a)}),[a,o]);const i="Проигрывать видео автоматически";return it.createElement("button",{ref:t,className:VT,onClick:r,"aria-label":n?`Не ${i}`:i},it.createElement(mE,{size:pE.SMALL,isActive:n,onChange:r}),it.createElement("span",{className:BT},i))},UT={noScrollbar:"raichu-endscreen-next-module__noScrollbar___ZOpBb",fullSizeOverlay:"raichu-endscreen-next-module__fullSizeOverlay___FywTr",video:"raichu-endscreen-next-module__video___RKAK8",videoInner:"raichu-endscreen-next-module__videoInner___DiqKu",videoImg:"raichu-endscreen-next-module__videoImg___a_yMq",videoBg:"raichu-endscreen-next-module__videoBg___MIITb",nextVideo:"raichu-endscreen-next-module__nextVideo___fDGZJ",nextVideoClose:"raichu-endscreen-next-module__nextVideoClose___zWovj",nextVideoCloseButton:"raichu-endscreen-next-module__nextVideoCloseButton___v9RAb",fullHeight:"raichu-endscreen-next-module__fullHeight___SWaWe",endScreenNext:"raichu-endscreen-next-module__endScreenNext___AkImZ",md:"raichu-endscreen-next-module__md___MRvA4",lg:"raichu-endscreen-next-module__lg___y_R70",xlg:"raichu-endscreen-next-module__xlg___QmfQi",nextVideoInner:"raichu-endscreen-next-module__nextVideoInner___fM8fw",nextVideoNext:"raichu-endscreen-next-module__nextVideoNext___o847Z",sm:"raichu-endscreen-next-module__sm___fK1nY",nextVideoTitle:"raichu-endscreen-next-module__nextVideoTitle___PCn7s",xxs:"raichu-endscreen-next-module__xxs___pyb0f",nextVideoPlay:"raichu-endscreen-next-module__nextVideoPlay___aNUem",nextVideoCancel:"raichu-endscreen-next-module__nextVideoCancel___cytjX",nextVideoAutoplay:"raichu-endscreen-next-module__nextVideoAutoplay___FrF3K"},jT=e=>{let{onClick:t,onClickCancel:n,data:r,isEmbed:a,width:o,height:i,sizeId:l,fullHeight:s}=e;const{onScreenRef:c,autoplay:u}=(()=>{const e=Ni(Da),[t,n]=(0,it.useState)(e),[r,a]=zc(void 0,!0,.6);return(0,it.useEffect)((()=>{"boolean"==typeof a&&(!a&&t?n(!1):a&&e&&!t&&n(!0))}),[a,e,t]),(0,it.useEffect)((()=>{n(e)}),[e]),{onScreenRef:r,autoplay:t}})(),d=(0,it.useRef)(null),f=(0,it.useRef)(null),p=Vw(l,UT),m=Ni(Da),{title:h,thumbnail_url:v}=r,{getTrackingLink:y}=ww(),g=s?`${o}px`:`${Math.ceil((i-180)*$t)}px`,_=(0,it.useCallback)((e=>{a?window.open(y({utmCampaign:"endscreen",clickedId:r.id}),"_blank"):t({isAuto:e,video:r})}),[t,r,y,a]),b=(0,it.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=e.target;d.current?.contains(t)||t===f.current||_(!1)}),[_,d]),E=(0,it.useCallback)((e=>{e.preventDefault(),n()}),[n]);return it.createElement("div",{className:ti()(UT.endScreenNext,p,{[UT.fullHeight]:s}),style:{maxWidth:g}},it.createElement(IT,{role:"alert","aria-live":"assertive"},"Следующее видео: ",h,m?` начнется через ${Math.floor(Wt/1e3)} секунд`:""),it.createElement("div",{className:UT.nextVideoClose},it.createElement(kg,{"aria-label":"Закрыть эндскрин",icon:NS,onClick:n,className:UT.nextVideoCloseButton})),it.createElement("a",{href:r.video_url,title:h,"aria-label":`Перейти к просмотру видео: ${h}`,onClick:b,className:ti()(UT.video,UT.nextVideo,p)},it.createElement("div",{ref:c,className:UT.videoInner},v&&it.createElement("img",{src:v,alt:h,className:ti()(UT.fullSizeOverlay,UT.videoImg)}),it.createElement("div",{className:ti()(UT.fullSizeOverlay,UT.videoBg)}),it.createElement("div",{className:UT.nextVideoInner},it.createElement("div",{className:ti()(UT.nextVideoNext,p)},"Следующее видео:"),h&&it.createElement("div",{className:ti()(UT.nextVideoTitle,p)},h),it.createElement("div",{ref:d,className:UT.nextVideoPlay},it.createElement(FT,{timeout:u?Wt:null,onClick:_})),it.createElement("button",{ref:f,className:UT.nextVideoCancel,onClick:E},"Отмена"),!a&&s&&it.createElement("div",{className:UT.nextVideoAutoplay},it.createElement(HT,null))))),!a&&!s&&it.createElement("div",{className:UT.nextVideoAutoplay},it.createElement(HT,null)))},WT={xxs:{total:4,template:"1fr 1fr"},xs:{total:6,template:"1fr 1fr 1fr"},sm:{total:6,template:"1fr 1fr 1fr"},md:{total:6,template:"1fr 1fr 1fr"},lg:{total:12,template:"1fr 1fr 1fr 1fr"},xlg:{total:12,template:"1fr 1fr 1fr 1fr"}},$T="raichu-endscreen-recommendations-module__recommendations___aKsYy",zT="raichu-endscreen-recommendations-module__recommendationsWrapper___FRatr",YT="raichu-endscreen-recommendations-module__recommendationsInner___Jf06d",GT="raichu-endscreen-recommendations-module__recommendationsGrid___MaNM3",ZT="raichu-endscreen-recommendations-module__recommendationsCarousel___CTzD1",QT="raichu-endscreen-recommendations-module__recommendationsItem___um974",KT=()=>it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},it.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.06 17.5v.08c0 .37.28.65.65.65a.6.6 0 0 0 .46-.18s4.66-5.03 10.38-3.51v5.08c0 .36.28.64.65.64.14 0 .23-.04.32-.1l9.28-7.88a.74.74 0 0 0 .23-.51.7.7 0 0 0-.18-.46l-9.28-7.53a.87.87 0 0 0-.37-.09.63.63 0 0 0-.65.65v4.75c-.04 0-9.18-1.38-11.49 8.4Z",clipRule:"evenodd"})),qT="raichu-endscreen-recommendations-header-module__header___nxnCD",XT="raichu-endscreen-recommendations-header-module__title___RPy05",JT="raichu-endscreen-recommendations-header-module__avatar___veOAe",ex="raichu-endscreen-recommendations-header-module__titleLink___XWEK_",tx="raichu-endscreen-recommendations-header-module__close____CnGq",nx=e=>{let{onClose:t,hiddenTitle:n}=e;const r=xi(),a=Ni(Fs),o=Ni(Ds),i=Ni(us),l=Ni(Vs),s=Ni(ds),c=Ni(Ta),{getTrackingLink:u}=ww(),{handleShareButton:d,handleCheckSharePanelWasOpen:f}=YE();return it.createElement("div",{className:qT},n?it.createElement(it.Fragment,null,it.createElement("h2",null,"Рекомендации"),it.createElement(kg,{className:tx,icon:NS,onClick:t,"aria-label":"Закрыть рекомендации"})):it.createElement(it.Fragment,null,it.createElement("div",{className:XT},it.createElement("a",{href:c?u({utmCampaign:"channel_left",channelId:String(l.id)}):a,target:"_blank",title:o.name,onClick:()=>{r(Ks.sendClickEvent({buttonType:Qc.CHANNEL_LOGO,clickedUrl:a||""}))},className:JT,rel:"noreferrer"},it.createElement("img",{src:l.avatar||Ct,alt:o.name})),c?it.createElement("a",{href:c?u({utmCampaign:"title"}):s,target:"_blank",className:ti()(gw,ex),rel:"noreferrer"},i):it.createElement("span",{className:ti()(gw,ex)},i)),it.createElement("div",null,it.createElement(kg,{tabIndex:0,role:"button","aria-label":"Поделиться видео",icon:KT,withBg:!1,onClick:d,onMouseDown:f}))))},rx=e=>{let{onClick:t,onClose:n,width:r,height:a,sizeId:o}=e;const i=(0,it.useRef)(null),l=Hc(),s=Bc("(orientation: landscape)"),c=Ni(Ta),u=r<=666,d=u||!c&&l&&s&&r<1e3,f=d?20:WT[o]?.total||4,p=yd((e=>Od(e,f))),{viewedItems:m}=bC({wrapper:i,items:p,enabled:d,rootMargin:"100%"});return it.createElement("div",{tabIndex:0,"aria-label":"Рекомендации",className:$T,style:{maxWidth:`${r}px`,maxHeight:`${a}px`}},it.createElement(nx,{onClose:n,hiddenTitle:l||u}),it.createElement("div",{className:zT},it.createElement("div",{className:YT},it.createElement("div",{ref:i,className:ti()(GT,{[ZT]:d}),style:{gridTemplateColumns:WT[o]?.template}},p.map((e=>it.createElement(yC,{key:e.video.id,id:e.video.id,title:e.video.title,description:e.video.author?.name,descriptionRows:1,thumbnailUrl:e.video.thumbnail_url,age:e.video.pg_rating.age,duration:bA({value:e.video.duration}),hidden:!m[e.video.id]&&d,className:QT,mode:d?"horizontal_list":"grid",onClick:()=>t(e.video)})))))))},ax="raichu-endscreen-module__fullSizeOverlay___DxIhi",ox="raichu-endscreen-module__endScreen___v75_9",ix="raichu-endscreen-module__fullHeight___IVjaO",lx="raichu-endscreen-module__endScreenBg___PwC1k",sx=e=>{let{onClick:t,reloadTimeoutHover:n}=e;const r=xi(),a=Ni(Ta),o=Ni(Id),[i,l]=(0,it.useState)(!o||a),s=jb(),c=Ni(ro)||{height:0,width:0},u=Bc("(orientation: portrait)"),d=a&&u?c.width:Math.ceil(c.height*$t),f=ya(d,"common")||"xxs",p=Hc()||d<=666,{getTrackingLink:m}=ww(),h=(0,it.useCallback)((e=>{let{isAuto:i,video:l}=e;Pi((()=>{const e={nextVideoId:l.id,clickedUrl:l.video_url};o?.id===l.id?r(Ks.sendYm({statEventType:Zc.END_SCREEN,params:{end_screen:i?"auto":"play",...e}})):r(Ks.sendYm({statEventType:Zc.END_SCREEN,params:{end_screen:"click_on_card",...e}})),r(Ks.trackStat({eventName:Gc.CLICK_ENDSCREEN_ACTION})),r(Ks.trackStat({eventName:Gc.CLICK_ENDSCREEN}))})),n(),a?window.open(m({utmCampaign:"endscreen",clickedId:l.id}),"_blank"):t&&t({video:l})}),[n,a,s,t,o?.id,m]),v=(0,it.useCallback)((e=>{e.isAuto||s.get("businessRecommendationsEndScreenNextVideoClick")(),h(e)}),[h]),y=(0,it.useCallback)((e=>{s.get("businessRecommendationsEndScreenRecommendationClick")(),h({isAuto:!1,video:e})}),[h]),g=(0,it.useCallback)((()=>{l(!0),s.get("businessRecommendationsShowEndScreenRecommendations")()}),[l]),_=(0,it.useCallback)((()=>{l(!1),n(),Pi((()=>{r(Ks.setShowPoster(!1)),r(Ks.trackStat({eventName:Gc.CANCEL_ENDSCREEN})),r(Ks.sendYm({statEventType:Zc.END_SCREEN,params:{end_screen:"cancel"}})),r(Ks.setEndScreenVisible(!1)),r(Ks.hideEndScreen(!0))}))}),[l,n]);return(0,it.useEffect)((()=>{Pi((()=>{r(Ks.setShowPoster(!0)),r(Ks.trackStat({eventName:Gc.SHOW_ENDSCREEN})),r(Ks.sendYm({statEventType:Zc.END_SCREEN,params:{end_screen:"show"}})),r(Ks.setEndScreenVisible(!0))})),i?s.get("businessRecommendationsShowEndScreenRecommendations")():s.get("businessRecommendationsShowEndScreen")()}),[]),it.createElement("div",{"data-testid":"endscreen",className:ti()(ax,ox,{[ix]:p})},it.createElement("div",{className:ti()(ax,lx)}),i?it.createElement(rx,{width:d,height:c.height,sizeId:f,onClose:_,onClick:y}):it.createElement(it.Fragment,null,o&&it.createElement(jT,{width:d,height:c.height,sizeId:f,fullHeight:p,data:o,isEmbed:a,onClick:v,onClickCancel:g})))},cx=e=>{const{hidden:t=!0,waiting:n,isTouchDevice:r,isLive:a,ended:o,volumeBar:i,progressBar:l,handlePrevSeek:s,handleNextSeek:c,reloadTimeoutHover:u,handlePlaylistPrevClick:d,handlePlaylistNextClick:f,handleNextVideoClick:p,handlePlay:m,handleMuted:h,handleMove:v,handleFullScreen:y,handleChangeQuality:g,handleClickMiniPlayer:_,handleClickDefaultPlayer:b,handleSubscribe:E,handleRecommendationClick:w,handleSeekToStart:A,changePlayerMode:S,onSnapshotClick:C,goLive:k,provider:T,prevVideo:x,nextVideo:L,isLongPress:R}=e,[N,P]=(0,it.useState)(!1),[I,O]=(0,it.useState)(!1),M=Ni(Ca),D=yd(Ta),F=Ni(fo),V=Ni(hl),B=Ni(us),H=Ni(Vs),U=Ni(za),j=Ni(hs),W=Ni(Sc),$=Ni(Cc),z=Ni(Bd),Y=Ni(Os),G=Ni(t_),Z=yd(Ga),Q=Ni(So),K=Ni(Ba),q=Ni(Ka),X=Vk(),J=Ni(ja),ee=ek(J?.icon),te=r&&!ee,ne=te&&!z||F,re=Bc("(min-width: 460px)"),[ae,oe]=(0,it.useState)(null),[ie,le]=(0,it.useState)(!0),se=Gw(T),ce=(0,it.useCallback)((()=>{P(!0)}),[]),ue=(0,it.useCallback)((()=>{P(!1)}),[]),de=Ni(XA)&&re&&!r&&!z&&!Q,fe=!F&&W&&$&&Y&&D&&!o&&!Q,pe=Ni(as),me=it.createElement(it.Fragment,null,j&&it.createElement("button",{type:"button",className:QE,onClick:C},it.createElement(Fk,null)));return z&&r?t?null:it.createElement(sx,{onClick:w,reloadTimeoutHover:u}):it.createElement(it.Fragment,null,it.createElement(x_,{isTouchDevice:r,lightMode:r&&I,hidden:t||R||F}),!Q&&it.createElement(Aw,{title:B||"",isTouchDevice:r,isFullScreen:Z,avatarUrl:H.avatar,onClickMiniPlayer:_,hidden:t||I,handlePlay:m,isShowSubscribe:fe},!z&&it.createElement(ZE,{handleChangeQuality:g,handleSeekToStart:A})),ne&&it.createElement(n_,{hidden:t||n||!K,isLive:a,isEmbed:D,onPrevSeek:s,onNextSeek:c,handlePrevVideoClick:d,handleNextPlaylistVideoClick:f,handleNextVideoClick:p,reloadTimeoutHover:u,onSeekStateChanged:O,handlePlay:m}),!t&&it.createElement(it.Fragment,null,z?it.createElement(sx,{onClick:w,reloadTimeoutHover:u}):null,me),fe&&it.createElement(NT,{subscribeData:H,onSubscribeClick:E,isTouchDevice:r,controlsHidden:t}),G&&ie&&it.createElement(qk,{handlePlay:()=>{q&&m("user")},handleHideOverlay:()=>{le(!1)}}),F?it.createElement("div",{className:ti()(qE,XE)},it.createElement($k,{handlePlay:Dk})):it.createElement("div",{"data-testid":"video-ui",className:ti()(qE,{[JE]:r,[KE]:t}),[eu]:!t},de&&it.createElement(ET,{onVideoClick:w,playerLoading:n}),it.createElement("div",{className:ti()(ew)},it.createElement(wk,{id:"progressBar",barRef:l,isTouchDevice:r,isTouchable:!(a&&!V||t),playerMode:U,handleMove:v,isLiveOutdated:se})),it.createElement($h,{boundary:ae},!Q&&it.createElement("div",{className:tw,onMouseLeave:()=>P(!1)},it.createElement("div",{className:nw,ref:oe},it.createElement(tS,{isTouchDevice:r,isTVLiveStream:pe,isLive:a,isEmbed:D,isShowEndScreen:z,ended:o,volumeBar:i,hasAudioControl:X,handlePrevSeek:s,handleNextSeek:c,reloadTimeoutHover:u,handlePlaylistPrevClick:d,handlePlaylistNextClick:f,handleNextVideoClick:p,handlePlay:m,handleMuted:h,handleMove:v,handleVolumeHide:ue,isVolumeShow:N,handleVolumeHover:ce,provider:T,goLive:k,prevVideo:x,nextVideo:L}),it.createElement(HC,{volumeBar:i,hasAudioControl:X,isTouchDevice:r,isVolumeShow:N,videoId:M,isEmbed:D,reloadTimeoutHover:u,handleMuted:h,handleSeekToStart:A,handleFullScreen:y,handleChangeQuality:g,handleClickDefaultPlayer:b,onChangePlayerMode:S,handleClickMiniPlayer:_,handleMove:v,handlePlay:m,handleVolumeHover:ce,handleRecommendationClick:w}))))),it.createElement(Hw,{hidden:te&&!R}))},ux="raichu-stats-for-nerds-module__root___CjNVl",dx="raichu-stats-for-nerds-module__closeButton___Xopk1",fx="raichu-stats-for-nerds-module__name___j8UIH",px="raichu-stats-for-nerds-module__value___g1YSw",mx="raichu-stats-for-nerds-module__copyButton___bzOAe",hx=()=>{const[e,t]=$c(!1,2e3),n=xi(),r=Jb(),a=(0,it.useCallback)((()=>{n(Ks.hideStatsForNerds())}),[n]);return it.createElement("div",{className:ux},it.createElement("div",{className:dx,onClick:a},"[x]"),r.map((e=>{let{label:t,value:n}=e;return it.createElement("div",{key:t},it.createElement("div",{className:fx},t,":"),it.createElement("span",{className:px},n))})),it.createElement("div",{className:mx,onClick:()=>{xy(JSON.stringify(r)).then((()=>t(!0))).catch((e=>console.info(e)))}},"[",e?"Copied":"Copy","]"))},vx="raichu-wrapper-module__player___RySRH",yx="raichu-wrapper-module__wrapperInfoLogo___Rjdyx",gx="raichu-wrapper-module__poster___fPYFZ",_x="raichu-wrapper-module__poster360___RUcX1",bx="raichu-wrapper-module__video___0DAsR",Ex="raichu-wrapper-module__videoTV___acupd",wx="raichu-wrapper-module__videoBrightness___KUh6N";function Ax(e,t){const n=e.canvas.width,r=e.canvas.height;let a=null,o=null;a="number"==typeof a?a:.5,o="number"==typeof o?o:.5,a<0&&(a=0),o<0&&(o=0),a>1&&(a=1),o>1&&(o=1);const i=t.videoWidth,l=t.videoHeight,s=Math.min(n/i,r/l);let c,u,d,f,p=i*s,m=l*s,h=1;p<n&&(h=n/p),Math.abs(h-1)<1e-14&&m<r&&(h=r/m),p*=h,m*=h,d=i/(p/n),f=l/(m/r),c=(i-d)*a,u=(l-f)*o,c<0&&(c=0),u<0&&(u=0),d>i&&(d=i),f>l&&(f=l),e.drawImage(t,c,u,d,f,0,0,n,r)}async function Sx(e,t){const n=document.createElement("canvas"),r=n.getContext("2d"),a=e.videoWidth,o=e.videoHeight;if(!r)return console.info("canvas.getContext(2d) === null"),Promise.reject("canvas.getContext(2d) === null");if(n.width=e.offsetWidth,n.height=e.offsetHeight,a<=o){r.filter="brightness(30%)",Ax(r,e),r.filter="brightness(100%)";const t=a/o*n.height;r.drawImage(e,n.width/2-t/2,0,t,n.height)}else Ax(r,e);const i=(e=>{try{let t;t=-1!==e.split(",")[0].indexOf("base64")?window.atob(e.split(",")[1]):decodeURI(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],r=[];for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return new window.Blob([new Uint8Array(r)],{type:n})}catch(e){return new window.Blob}})(n.toDataURL("image/jpeg",.7)),l=new FormData;l.append("file",i);const s=await(async(e,t)=>{const n=await fetch(`/api/video/${e}/thumbnail/`,{method:"POST",body:t});return await n.json()})(t,l);return s?.thumbnail_url}const Cx="episodes-list-module__noScrollbar___DQBl0",kx="episodes-list-module__episodes___jJME7",Tx="episodes-list-module__episodesInner___GKx46",xx="episodes-list-module__noScroll___CuV9B",Lx="episodes-list-module__episodesItem___o1oQL",Rx="episodes-list-module__episodesPrevLoader___TJjYm",Nx="episodes-list-module__error___N2iir",Px=e=>{let{visible:t,onClick:n}=e;const[r,a]=(0,it.useState)(!1),o=(0,it.useRef)(null),i=jb(),l=Ni(UA),s=Ni(Ta),c=Ni(Ca),u=Ni(YA),d=Ni(zA.selectAll),{hasItems:f,hasPrevious:p,hasNext:m,loading:h,loadingDirection:v,prevLoader:y,nextLoader:g,allowLoaders:_,setAllowLoaders:b,error:E}=AC({state:u,items:d,actions:xC,scrollToCurrent:r}),{getTrackingLink:w}=ww(),{viewedItems:A,resetViewed:S}=bC({wrapper:o,items:d,enabled:f,rootMargin:"100%"}),{handleScroll:C}=SC({listRef:o,items:d,loadingDirection:v,direction:"horizontal"});return(0,it.useEffect)((()=>{S()}),[l,S]),(0,it.useEffect)((()=>{const e=o.current?.querySelector(`[data-id="${c}"]`)||o.current?.querySelector("[data-id]");if(e&&o.current){const t=parseInt(window.getComputedStyle(o.current).paddingLeft,10);o.current.scrollTo({left:e.offsetLeft-t})}b(!0),a(t)}),[t]),(0,it.useEffect)((()=>{a(!1)}),[l]),it.createElement("div",{className:kx},!f&&h?it.createElement(ri,null):it.createElement(it.Fragment,null,f?it.createElement("div",{ref:o,className:ti()(Cx,Tx,{[xx]:!t}),onScroll:C},p&&it.createElement("div",{ref:_?y:void 0,className:ti()(Lx,Rx),style:{gridColumnGap:"8px"}},it.createElement(gC,{count:1,loading:"prev"===v,mode:"horizontal_list",className:Lx,width:"100%"})),d.map((e=>it.createElement(yC,{key:e.id,id:e.id,title:`${e.episode} серия`,description:e.title,descriptionRows:2,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:bA({value:e.duration}),className:Lx,hidden:!A[e.id],progress:EC(e.view_position||0,e.duration),mode:"horizontal_list",ariaLabel:e.id===c?OS:`${e.episode} серия${null!==l?`${l} сезон`:""}`,currentLabel:e.id===c?OS:"",onClick:()=>{return t=e,i.get("businessRecommendationsSeasonsEpisodeClick")({clicked_url:t.video_url}),void(s?window.open(w({clickedId:t.id,utmCampaign:"pausescreen",uncommonParams:{resourceId:_C.SEASONS}})):n&&n({video:t,resourceId:_C.SEASONS}));var t}}))),_&&m&&it.createElement(it.Fragment,null,it.createElement("div",{ref:g}),"next"===v&&it.createElement(gC,{count:1,loading:!0,mode:"horizontal_list",className:Lx}))):it.createElement("div",{className:Nx},E)))},Ix="seasons-fullscreen-module__fullSizeOverlay___kjdI7",Ox="seasons-fullscreen-module__fade___bl5O_",Mx="seasons-fullscreen-module__fadeIn___byLKc",Dx="seasons-fullscreen-module__hidden___roJzn",Fx="seasons-fullscreen-module__wrapper___lfnp4",Vx="seasons-fullscreen-module__wrapperInner___UxGS0",Bx="seasons-fullscreen-module__btnClose___ux48W",Hx="seasons-list-module__noScrollbar___Gu0GF",Ux="seasons-list-module__seasons___Gu2IK",jx="seasons-list-module__noScroll___H1rYe",Wx="seasons-list-module__seasonsItem___X_J5s",$x="seasons-list-module__disabled___CUGqV",zx=e=>{let{visible:t}=e;const n=(0,it.useRef)(null),r=xi(),a=Ni(UA),o=Ni(BA.selectAll),i=(0,it.useCallback)((e=>{if(!n.current)return;const t=e.offsetLeft,r=e.offsetLeft+e.offsetWidth,a=n.current.scrollLeft,o=n.current.scrollLeft+n.current.offsetWidth-140,i=parseInt(window.getComputedStyle(n.current).paddingLeft,10);let l=0;r>o?l=a+r-o:t<a&&(l=Math.min(t-40,0)),n.current.scroll({left:l-i})}),[]),l=e=>{i(e.target)};return(0,it.useEffect)((()=>{if(t&&n.current){const e=n.current.querySelector('[data-current-season="true"]')||n.current.querySelector("button");e&&n.current.scrollTo({left:e.offsetLeft})}}),[t,a,i]),it.createElement("div",{ref:n,className:ti()(Hx,Ux,{[jx]:!t})},o.map((e=>it.createElement("button",{key:e.number,"data-current-season":a===e.number,"aria-label":`${e.number} сезон${a===e.number?" Текущий":""}`,tabIndex:0,className:ti()(Wx,{[$x]:a===e.number}),onClick:()=>{return t=e.number,void r(xC.loadSeason(t));var t},onFocus:l},e.number," сезон"))))},Yx=e=>{let{onClick:t}=e;const n=(0,it.useRef)(null),r=(0,it.useRef)(null),a=xi(),o=Ni(zE),i=Ni(ro),l=Math.min(Math.ceil((i?.width||0)/$t),i?.height||0),{fadeIn:s,setFadeIn:c,isAnimating:u}=(e=>{let{defaultValue:t,time:n,onStart:r,onEnd:a}=e;const[o,i]=(0,it.useState)(t),[l,s]=(0,it.useState)(!1);return ym((()=>{let e=setTimeout((()=>{s(!1),a&&a(!0),e=null}),n);return s(!0),r&&r(),()=>{e&&(clearTimeout(e),a&&a(!1))}}),[o]),{isAnimating:l,fadeIn:o,setFadeIn:i}})({defaultValue:o,time:200,onEnd:()=>{s||a(Ks.setActivePanel(null))}});return(0,it.useEffect)((()=>{c(o),o?setTimeout((()=>{n.current?.focus()}),200):a(xC.loadDefaultSeason())}),[o,c]),it.createElement("div",{tabIndex:0,role:"document","aria-label":"Выбор сезона и серии",ref:n,id:MS,className:ti()(Ox,{[Dx]:!o,[Mx]:s})},it.createElement("div",(0,Qu.default)({className:ti()(Fx,Ix)},tu),it.createElement("div",{className:Vx,style:{height:`${l}px`}},it.createElement(kg,{ref:r,tabIndex:0,className:ti()(Bx),icon:NS,onClick:()=>{c(!1);const e=document.querySelector(`button[aria-controls="${MS}"]`);e&&e.focus()},"aria-label":"Закрыть сезоны и серии"}),it.createElement(zx,{visible:s&&!u}),it.createElement(Px,{visible:s&&!u,onClick:t}))),it.createElement("div",{tabIndex:0,onFocus:()=>{const e=n.current?.querySelector('[data-current-season="true"]')?.nextElementSibling;e?(e.click(),e.focus()):r.current?.focus()}}))},Gx=e=>{let{provider:t,videoId:n,player:r,rootWrapper:a,progressBar:o,volumeBar:i,waiting:l,reloadTimeoutHover:s,handleMove:c,handleMuted:u,handlePrevSeek:d,handlePlay:f,handleNextSeek:p,handleFullScreen:m,handleChangeQuality:h,handlePlaylistPrevClick:v,handlePlaylistNextClick:y,handleNextVideoClick:g,handleRecommendationClick:_,handleClickCloseMiniPlayer:b,handleSeekToStart:E,handleClickMiniPlayer:w,handleClickDefaultPlayer:A,handleSubscribe:S,handlePlayerMode:C,handleSeekAndPlay:k,handlePause:T,hiddenControls:x,goLive:L,prevVideo:R,nextVideo:N}=e;const P=xi(),I=Ni(Fa),O=Ni(za),M=Ni(so),D=Ni(zi),F=Ni(bo),V=Ni(As),B=Ni(eo),H=Ni(uo),U=Ni(fs),j=Ni(us),W=yd(yo),$=Ni(ms),z=Ni(Wa),Y=Ni($A),G=Ni(zE),Z=(0,it.useMemo)((()=>"mini"===O),[O]),Q=Ni(Yo),K=Ni(Ko),q=(0,it.useMemo)((()=>!(B||W||Y&&G||Q)&&(!!(M||K&&!ai.isMobile)||I)),[W,M,I,B,Y,G,Q,K]),X=Ni(aa);return(0,it.useEffect)((()=>{n&&P(Ks.hideStatsForNerds())}),[P,n]),it.createElement($h,{boundary:a.current},$&&it.createElement("div",{"data-testid":"ui-author-logo",className:yx},it.createElement("img",{alt:"logo",src:$})),!Z&&it.createElement($y,{rootWrapper:a,handleSeekToStart:E,isTouchDevice:ai.isMobile}),z&&it.createElement(hx,null),H&&it.createElement(vC,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:U,className:ti()(gx,{[_x]:V}),alt:j,onClick:()=>{f("user")}}),X?it.createElement(tk,{hidden:!q,waiting:l,volumeBar:i,handleSeekAndPlay:k,handlePause:T,handlePlay:f,handleMuted:u,handleMove:c,handleFullScreen:m,handleChangeQuality:h,handleSeekToStart:E,changePlayerMode:C,reloadTimeoutHover:s,handlePlaylistNextClick:y,handleNextVideoClick:g,provider:t,isLongPress:Q}):null,!Z&&!X&&it.createElement(it.Fragment,null,it.createElement(cx,{hidden:!q,isTouchDevice:ai.isMobile,waiting:l,isLive:D,ended:M,volumeBar:i,progressBar:o,handlePrevSeek:d,handleNextSeek:p,reloadTimeoutHover:s,handlePlaylistPrevClick:v,handlePlaylistNextClick:y,handleNextVideoClick:g,handlePlay:f,handleMuted:u,handleMove:c,handleFullScreen:m,handleChangeQuality:h,handleClickDefaultPlayer:A,handleRecommendationClick:_,handleSeekToStart:E,changePlayerMode:C,handleClickMiniPlayer:w,onSnapshotClick:()=>r?.current&&Sx(r?.current,n),handleSubscribe:S,provider:t,goLive:L,prevVideo:R,nextVideo:N,isLongPress:Q}),Y&&it.createElement(Yx,{onClick:_})),!x&&q&&Z&&it.createElement(Mk,{isLive:D,progressBar:o,previewUrl:F,ended:M,onMove:c,reloadTimeoutHover:s,onChangePlayerMode:C,onPlay:f,onClickNextVideo:y,onClickDefaultPlayer:A,onClose:b,onMuted:u,provider:t,goLive:L}))},Zx=e=>{let{isEmbed:t,children:n}=e;return t?it.createElement(Et,{forceThemeId:st},n):it.createElement(it.Fragment,null,n)},Qx=e=>{const{provider:t,player:n,rootWrapper:r,isAllowControls:a,isPartner:o,canPlay:i,isEmbed:l,videoId:s,waiting:c,progressBar:u,volumeBar:d,handlePlay:f,handleFullScreen:p,handleMove:m,handleMuted:h,handlePrevSeek:v,handleNextSeek:y,handlePlaylistPrevClick:g,handlePlaylistNextClick:_,handleNextVideoClick:b,handleRecommendationClick:E,handleSeekToStart:w,handleClickMiniPlayer:A,handleClickDefaultPlayer:S,handleClickCloseMiniPlayer:C,handleSubscribe:k,reloadTimeoutHover:T,handleChangeQuality:x,handlePlayerMode:L,handleSeekAndPlay:R,handlePause:N,hiddenControls:P,goLive:I,prevVideo:O,nextVideo:M}=e,D=c&&!o,F=Ni(aa);return it.createElement(Zx,{isEmbed:l},(a&&!o&&i||F)&&it.createElement(it.Fragment,null,it.createElement(Gx,{provider:t,isEmbed:l,videoId:s,player:n,rootWrapper:r,waiting:c,progressBar:u,volumeBar:d,handlePlay:f,handleFullScreen:p,handleMove:m,handleMuted:h,handlePrevSeek:v,handleNextSeek:y,handlePlaylistPrevClick:g,handlePlaylistNextClick:_,handleNextVideoClick:b,handleRecommendationClick:E,handleSeekToStart:w,handleChangeQuality:x,handleClickCloseMiniPlayer:C,handleClickMiniPlayer:A,handleClickDefaultPlayer:S,handleSubscribe:k,handlePlayerMode:L,reloadTimeoutHover:T,handleSeekAndPlay:R,handlePause:N,hiddenControls:P,goLive:I,prevVideo:O,nextVideo:M})),it.createElement(ri,{show:D,showDelay:0}))},Kx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,it.useRef)(),[r,a]=(0,it.useState)(e);(0,it.useEffect)((()=>()=>{n?.current&&clearTimeout(n.current)}),[]);return[r,r=>(n?.current&&clearTimeout(n.current),n.current=setTimeout((()=>a(e)),t),a(r))]};let qx=function(e){return e.VK="VK",e.OK="OK",e.TELEGRAM="TELEGRAM",e.WHATS_APP="WHATS_APP",e.EMAIL="EMAIL",e.EMBED="EMBED",e.LINK="LINK",e.COPY_BUTTON="COPY_BUTTON",e}({});function Xx(e){try{return window.navigator.clipboard.writeText(e).then((()=>{})).catch((()=>{})),Promise.resolve("Ссылка скопирована в буфер обмена")}catch(t){return((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t)),n.setSelectionRange(0,e.length)}else n.select();return new Promise(((e,t)=>{try{return document.execCommand("copy"),e("Ссылка скопирована в буфер обмена")}catch(e){return t("Ошибка при копировании ссылки")}finally{document.body.removeChild(n)}}))})(e,["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)}}var Jx="freyja_char-embed-settings__embedSettings_njovm",eL="freyja_char-embed-settings__settingsButton_jB4Wt",tL="freyja_char-embed-settings__active_PX6nu",nL="freyja_char-embed-settings__blockTitle_aSK51",rL="freyja_char-embed-settings__blockBody_dnxJh",aL="freyja_char-embed-settings__palette_CWifh",oL="freyja_char-embed-settings__paletteItem_pSLcG",iL="freyja_char-embed-settings__cross_7XLJL",lL="freyja_char-embed-settings__warningMessage_dXiO3",sL="freyja_char-embed-settings__size_bzFyb",cL="freyja_char-embed-settings__width_sWzIb",uL="freyja_char-embed-settings__height_gy36j",dL="freyja_char-embed-settings__currColor_jx6MH",fL="freyja_char-embed-settings__checkbox_3GShE";const pL=e=>{const{children:t,color:n=null,style:r,type:a,name:o,size:i="large",noHover:l,className:s,variant:c,...u}=e,d=o.startsWith("IconDs"),f=ti()("svg-ds-icon",`svg-icon--${o}`,`svg-ds-icon--size-${i}`,s),p=ti()("svg-icon",`svg-icon--size-${i}`,`svg-icon--${o}`,s,{"svg-icon--no-hover":!!l,[`svg-icon--type-${a}`]:a,[`svg-icon--variant-${c}`]:c}),m=d?f:p,h=(0,it.useMemo)((()=>{const e={...r??{}};return n&&(e.color=n),e}),[n,r]);return it.createElement("svg",{style:h,className:m,...u},t)},mL=(e,t)=>it.createElement(pL,{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e,ref:t,name:"IconError"},it.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.751 6.538c1.019-1.697 3.479-1.697 4.497 0l5.468 9.113c1.049 1.748-.21 3.971-2.248 3.971H6.532c-2.038 0-3.297-2.223-2.248-3.971zm3.43.64a1.378 1.378 0 0 0-2.362 0L5.35 16.291a1.378 1.378 0 0 0 1.181 2.087h10.936a1.378 1.378 0 0 0 1.181-2.087zM12 9.378c.344 0 .622.278.622.622v3a.622.622 0 0 1-1.244 0v-3c0-.344.278-.622.622-.622m0 6a.622.622 0 0 0 0 1.244h.01a.622.622 0 0 0 0-1.244z",clipRule:"evenodd"})),hL=(0,it.forwardRef)(mL),vL=(e,t)=>it.createElement(pL,{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e,ref:t,name:"IconPasswordOff"},it.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M7.197 7A8.57 8.57 0 0 0 4 12.168C4.766 16.066 8.1 19 12.099 19c1.835 0 3.53-.618 4.901-1.663"}),it.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M9.858 10A2.929 2.929 0 1 0 14 14.142M4 4l16 16M10 5.297A7.5 7.5 0 0 1 12.1 5c3.9 0 7.153 2.984 7.9 6.948A9 9 0 0 1 18.826 15"})),yL=(0,it.forwardRef)(vL),gL=(e,t)=>it.createElement(pL,{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",...e,ref:t,name:"IconPasswordOn"},it.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244,d:"M21 12c-.85-3.994-4.557-7-9-7s-8.15 3.006-9 7c.85 3.994 4.557 7 9 7s8.15-3.006 9-7"}),it.createElement("circle",{cx:12,cy:12,r:3,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.244})),_L=(0,it.forwardRef)(gL);var bL=n(5051),EL=n.n(bL);const wL=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return isNaN(+e)?`${e}`:(e=+e)>=t?Intl.NumberFormat("en-US").format(e).replace(/,/g," ").replace(/\./g,""):`${e}`.replace(/\./g," ")};var AL={input:"freyja_char-input__input_OV-wx",input_disabled:"freyja_char-input__input_disabled_kRjED",inputWrapper:"freyja_char-input__inputWrapper_16aM4",textareaWrapper:"freyja_char-input__textareaWrapper_dQrqc",label:"freyja_char-input__label_R4PVl",input_error:"freyja_char-input__input_error_U1cK-",errorText:"freyja_char-input__errorText_J1nYH",shadowTextarea:"freyja_char-input__shadowTextarea_oEVcY",iconWrapper:"freyja_char-input__iconWrapper_BQMGL",iconError:"freyja_char-input__iconError_8QQWR",error:"freyja_char-input__error_mRWob",errorLeft:"freyja_char-input__errorLeft_NZcu5",errorRight:"freyja_char-input__errorRight_-CbbA",length:"freyja_char-input__length_ked7s",length_bottom:"freyja_char-input__length_bottom_GSJjE",lengthWrapper:"freyja_char-input__lengthWrapper_86DfH",realLength:"freyja_char-input__realLength_jiRZZ",maxLength:"freyja_char-input__maxLength_i02mt",required:"freyja_char-input__required_qBQXg"};const SL=e=>{let{id:t,required:n,children:r}=e;return it.createElement("label",{htmlFor:t,className:ti()(AL.label,{[AL.required]:n})},r)},CL=e=>{const{id:t,value:n="",maxLength:r,maxRows:a,rows:o,disabled:i,placeholder:l,required:s,style:c,...u}=e,d=(0,it.useRef)(null),f=(0,it.useRef)(null),p=it.useRef(null),m=it.useCallback((()=>{const e=d.current,t=f.current;if(!t||!e)return;t.value=e.value||l||"x";const n=t.scrollHeight;t.value="x";const r=t.scrollHeight;let i=n;return o&&(i=Math.max(Number(o)*r,i)),a&&(i=Math.min(Number(a)*r,i)),i=Math.max(i,r),i}),[a,l,o]),h=it.useCallback((()=>{const e=m(),t=d.current;e&&t&&p.current!==e&&(p.current=e,t.style.height=`${e}px`)}),[m]),v=Dc(h,300);return(0,it.useEffect)((()=>{const e=d.current;if(!e)return;let t;let n;return"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{h()}))})),n.observe(e)),"object"==typeof window&&window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),cancelAnimationFrame(t),n&&n.disconnect()}}),[v,h]),(0,it.useEffect)((()=>{h()}),[n,h]),it.createElement(it.Fragment,null,it.createElement("textarea",{className:AL.shadowTextarea,value:n||"",ref:f}),it.createElement("textarea",(0,Qu.default)({},u,{placeholder:l,ref:d,id:t,value:n||"",disabled:i,rows:o,maxLength:r,required:s,style:c})))};const kL=Object.assign((e=>{const{label:t,type:n="text",disabled:r=!1,multiple:a=!1,error:o,maxLength:i,showLength:l=!0,value:s,required:c,rows:u,errorPosition:d=null,maskChar:f="",isAutoresize:p,maxRows:m,showErrorIcon:h=!0,...v}=e,[y,g]=(0,it.useState)(!1),[_,b]=(0,it.useState)(0),E=(0,it.useMemo)((()=>{const t=e?.id||e?.name;return"undefined"==typeof window?t||Math.random().toString():t||Re()}),[e?.id,e?.name]);(0,it.useEffect)((()=>{i&&b((s||"")?.length)}),[s,i]);const w=()=>{"password"===n&&g((e=>!e))},A=it.createElement("div",{className:ti()(AL.iconWrapper,AL.iconError),onClick:w},it.createElement(hL,null)),S=y?yL:_L,C=it.createElement("div",{className:AL.iconWrapper,onClick:w},it.createElement(S,null)),k=(0,it.useMemo)((()=>({maxHeight:m?18*m:"auto"})),[m]);return it.createElement("div",{className:ti()(AL.input,{[AL.input_error]:!!o,[AL.input_disabled]:r,error:!!o})},"function"==typeof t?t({required:c,id:E}):null!=t?it.createElement(SL,{id:E,required:c},t):null,a&&it.createElement("div",{className:AL.textareaWrapper},!p&&it.createElement("textarea",(0,Qu.default)({},v,{id:E,value:s||"",disabled:r,rows:u||6,maxLength:i,required:c,style:k})),p&&it.createElement(CL,(0,Qu.default)({},v,{id:E,value:s||"",disabled:r,rows:u||6,maxLength:i,required:c,style:k})),l&&!!i&&it.createElement("span",{className:AL.lengthWrapper},it.createElement("span",{className:AL.realLength},wL(String(s||"").length)),it.createElement("span",{className:AL.maxLength}," из ",wL(i)))),!a&&it.createElement("div",{className:AL.inputWrapper},it.createElement(EL(),(0,Qu.default)({},v,{id:E,mask:v.mask??"",value:s??"",type:"password"===n&&y?"text":n,disabled:r,maxLength:i,required:c,maskChar:f})),o&&h?A:"password"===n&&C,l&&!!i&&"password"!==n&&!o&&it.createElement("span",{className:AL.length},it.createElement("span",null,wL(_)),`из ${wL(i)}`)),!!o&&it.createElement("p",{className:ti()(AL.errorText,{[AL[`error${d??""}`]]:d})},o))}),{Label:SL});vA().extend(gA());const TL=(e,t)=>((e,t)=>{const{cutHoursIfZero:n=!1,emptyLineIfZero:r=!1}=t||{};if(!e)return r?"":n?"00:00":"00:00:00";const a=vA().duration(e,"seconds").format("HH:mm:ss");return a.startsWith("00")&&n?a.slice(3):a})(e,{cutHoursIfZero:t}),xL=e=>{if(!e)return 0;const[t,n,r]=e.trim().split(":").reverse();return+t+60*+n+(r?3600*+r:0)},LL=e=>{let{time:t,onTimeChange:n,showHours:r=!1,fallbackValue:a,error:o}=e;const[i,l]=(0,it.useState)(TL(t,!r));(0,it.useEffect)((()=>{l(TL(t,!r))}),[t,r]),(0,it.useEffect)((()=>{n(t)}),[t,n]);return it.createElement(kL,{value:i,onChange:e=>{const{value:t}=e.currentTarget;l(t);const o=xL(t);TL(o,!r)===t&&(void 0===a||o>0)&&n(o)},onBlur:()=>{const e=xL(i);void 0!==a&&0===e?(n(a),l(TL(a,!r))):(l(TL(e,!r)),(void 0===a||e>0)&&n(e))},mask:r?"99:99:99":"99:99",maskChar:"0",error:o})},RL=(e,t)=>{if(e||t)try{return new URL(e||"",t)}catch(e){return}},NL=e=>{let{url:t,pepper:n=null,isMobile:r,startTime:a,urlParams:o={}}=e;const i=RL(t);if(!i)return"";for(const e in o)i.searchParams.set(e,o[e]);return i.searchParams.set("r",r?"wm":"wd"),n&&i.searchParams.set("p",n),a&&i.searchParams.set("t",a.toString()),i.toString()},PL="#0e8dee",IL=(e,t,n,r,a)=>{const o=n&&Math.floor(n/1e3);if(!t)return"";if(o){if(e>o)return"Время старта больше длины видео: ";if(e===o)return"Время старта равно длине видео: "}if(r){if(a&&e>r)return"Время старта больше времени окончания ";if(a&&e===r)return"Время старта равно времени окончания "}return""},OL=(e,t,n,r,a)=>{const o=n&&Math.floor(n/1e3);return a?o&&r>o?"Время окончания больше длины видео: ":t&&e>r?"Время старта больше времени окончания ":t&&e===r?"Время старта равно времени окончания ":"":""};var ML={checkbox:"freyja_char-checkbox__checkbox_GDS9Y",top:"freyja_char-checkbox__top_FoOOx",bottom:"freyja_char-checkbox__bottom_3VwiW",checkboxDisabled:"freyja_char-checkbox__checkboxDisabled_Sh-1y",input:"freyja_char-checkbox__input_wGwSh",title:"freyja_char-checkbox__title_2c6tT",title__regular:"freyja_char-checkbox__title__regular_jpR6Y",title__large:"freyja_char-checkbox__title__large_-VOGq",titleDisabled:"freyja_char-checkbox__titleDisabled_zTKMQ",checkmarkWrapper:"freyja_char-checkbox__checkmarkWrapper_TM1xU"},DL={checkmark:"freyja_char-checkmark__checkmark_jhsTO",checkmark__isChecked:"freyja_char-checkmark__checkmark__isChecked_d7H6I",checkmark__isDisabled:"freyja_char-checkmark__checkmark__isDisabled_dT4c3",checkmark__isInvalid:"freyja_char-checkmark__checkmark__isInvalid_5Dj4-",checkmark__regular:"freyja_char-checkmark__checkmark__regular_MBMq8",icon:"freyja_char-checkmark__icon_xlNLv",checkmark__large:"freyja_char-checkmark__checkmark__large_2vPsT",wrapper:"freyja_char-checkmark__wrapper_LMqLH",icon__isDisabled:"freyja_char-checkmark__icon__isDisabled_JNikn"};const FL=e=>{let{isChecked:t=!1,isValid:n=!0,isDisabled:r=!1,size:a="regular"}=e;return it.createElement("span",{className:ti()(DL.checkmark,DL[`checkmark__${a}`],{[DL.checkmark__isChecked]:t,[DL.checkmark__isDisabled]:r,[DL.checkmark__isInvalid]:!n})},t?it.createElement("div",{className:DL.wrapper},it.createElement("span",{className:ti()(DL.icon,{[DL.icon__isDisabled]:r})})):null)};const VL=e=>{const{title:t,checked:n,isValid:r=!0,disabled:a=!1,position:o,onClick:i,size:l="regular",id:s,...c}=e,u=(0,it.useRef)(s??Re());return it.createElement("div",{className:ti()(ML.checkbox,{[ML.checkboxDisabled]:a,...o?{[ML[o]]:o}:{}}),onClick:i},it.createElement("div",{className:ML.checkmarkWrapper},it.createElement(FL,{isChecked:n,isDisabled:a,isValid:r,size:l}),it.createElement("input",(0,Qu.default)({},c,{className:ML.input,type:"checkbox",id:u.current,checked:n,disabled:a}))),t?it.createElement("label",{className:ti()(ML.title,ML[`title__${l}`],{[ML.titleDisabled]:a}),htmlFor:u.current},t):null)},BL=Math.floor(171),HL=e=>{let{onEmbedCodeChanged:t,videoDuration:n,playOptions:r,url:a,showTimecode:o,defaultStartTime:i,pepper:l,videoId:s}=e;const c=bA({value:n/1e3})||"",u=n>=36e5,[d,f]=it.useState(PL),[p,m]=(0,it.useState)(720),[h,v]=(0,it.useState)(405),[y,g]=(0,it.useState)(!1),[_,b]=(0,it.useState)(!1),[E,w]=(0,it.useState)(!1),[A,S]=(0,it.useState)((()=>i)),[C,k]=(0,it.useState)(!1),[T,x]=(0,it.useState)(Math.floor(n/1e3)),[L,R]=(0,it.useState)(!1),[N,P]=(0,it.useState)(!1),[I,O]=(0,it.useState)(""),[M,D]=(0,it.useState)("");(0,it.useEffect)((()=>{const e=n&&Math.floor(n/1e3);t((e=>{let{settings:t,playOptions:n,url:r,pepper:a,videoId:o}=e;const{embedStart:i,embedEnd:l,embedWidth:s,embedHeight:c,embedColor:u,embedShowAuthor:d,embedShowTitle:f}=t,p=RL(`${r}/play/embed/${n?.video_id||o||""}`);if(!p)return"";a&&p.searchParams.append("p",a),u!==PL&&p.searchParams.append("skinColor",u.replace("#","")),i>0&&p.searchParams.append("t",i.toString()),l>0&&p.searchParams.append("stopTime",l.toString()),p.pathname+="/";const m={videoUrl:n?.video_url||"",title:n?.title||"",authorUrl:n?.author?.url||"",name:d&&n?.author?.name||"",origin:`${RL(n?.video_url)?.origin||""}/`};return`<iframe width="${s}" height="${c}" src="${p.toString()}" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>${f?(e=>{const{videoUrl:t,title:n,authorUrl:r,name:a,origin:o}=e;return(a&&r?'\n<p><a href="VIDEO_URL">TITLE</a> от <a href="AUTHOR_URL">NAME</a> на <a href="ORIGIN_URL">RUTUBE</a>':'\n<p><a href="VIDEO_URL">TITLE</a> на <a href="ORIGIN_URL">RUTUBE</a>').replace("VIDEO_URL",t).replace("TITLE",n).replace("AUTHOR_URL",r).replace("NAME",a).replace("ORIGIN_URL",o)})(m):""}`})({settings:{embedColor:d,embedWidth:p,embedHeight:h,embedShowAuthor:y,embedShowTitle:_,embedStartEnabled:E,embedStart:E&&!I?A:0,embedEndEnabled:C,embedEnd:C&&!M&&T<e?T:0},playOptions:r,url:a,pepper:l,videoId:s}))}),[I,M,n,t,d,p,h,y,_,E,A,C,T,r,a,l,s]);const F=(0,it.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("Некорректная высота!"):(m(t),v(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e/t)}(t)))}),[]),V=(0,it.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("Некорректная ширина!"):(v(t),m(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e*t)}(t)))}),[]),B=(0,it.useCallback)(((e,t)=>{t.preventDefault(),f(e)}),[f]),H=(0,it.useCallback)((e=>{e.preventDefault(),P(!N)}),[N]),U=e=>t=>{if("start"===e){const e=IL(t,E,n,T,C),r=OL(t,E,n,T,C);S(t),O(`${e}${e&&n?c:""}`),T>t&&D(`${r}${r&&n?c:""}`)}if("end"===e){const e=IL(A,E,n,t,C),r=OL(A,E,n,t,C);x(t),D(`${r}${r&&n?c:""}`),A<t&&O(`${e}${e&&n?c:""}`)}};return(0,it.useEffect)((()=>{const e=IL(A,E,n,T,C),t=OL(A,E,n,T,C);O(`${e}${e&&n?c:""}`),D(`${t}${t&&n?c:""}`)}),[E,C]),it.createElement(it.Fragment,null,it.createElement("button",{className:eL,onClick:()=>R(!L)},L?"Скрыть":"Показать"," настройки параметров"),it.createElement("div",{className:ti()(Jx,{[tL]:L})},it.createElement("div",{className:sL},it.createElement("div",{className:nL},"Размеры, px: "),it.createElement("div",{className:rL},it.createElement("div",{className:cL},it.createElement(kL,{type:"text",maxLength:4,showLength:!1,value:p.toString(),title:"ширина",onChange:F})),it.createElement("span",{className:iL},"×"),it.createElement("div",{className:uL},it.createElement(kL,{type:"text",maxLength:4,showLength:!1,value:h.toString(),title:"высота",onChange:V})),(p-0<304||h-0<BL)&&it.createElement("div",{className:lL},`Минимальная ширина плеера - ${304..toString()}px`))),it.createElement("div",null,it.createElement("div",{className:ti()(nL,dL)},"Основной цвет  ",it.createElement(bE,{onClick:H,color:d,isDisabled:!0})),it.createElement("div",{className:rL},it.createElement("button",{className:eL,onClick:H},"Изменить"),N&&it.createElement(AE,{className:aL,itemClass:oL,itemActiveClass:tL,onItemClick:B,activeColor:d}))),o&&it.createElement(it.Fragment,null,it.createElement("div",{className:rL},it.createElement("div",{className:fL},it.createElement(VL,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:E,title:E?"Начало:":`Начало: ${bA({value:A})}`,onChange:e=>{const{checked:t}=e.currentTarget;w(t)}})),E&&it.createElement(LL,{showHours:u,time:A,onTimeChange:U("start")}),I&&it.createElement("div",{className:lL},I)),it.createElement("div",{className:rL},it.createElement("div",{className:fL},it.createElement(VL,{id:"embed-end-checkbox",name:"embed-end-checkbox",checked:C,title:C?"Конец:":`Конец: ${c||""}`,onChange:e=>{const{checked:t}=e.currentTarget;k(t)}})),C&&it.createElement(LL,{showHours:u,time:T,fallbackValue:Math.floor(n/1e3),onTimeChange:U("end")}),M&&it.createElement("div",{className:lL},M))),it.createElement("div",{className:fL},it.createElement(VL,{id:"embed-show-title-checkbox",name:"embed-show-title-checkbox",checked:_,onChange:e=>{const{checked:t}=e.currentTarget;b(t)},title:"Показывать название видео"})),_&&it.createElement("div",{className:fL},it.createElement(VL,{id:"embed-show-author-checkbox",name:"embed-show-author-checkbox",checked:y,onChange:e=>{const{checked:t}=e.currentTarget;g(t)},title:"Показывать автора канала"}))))};var UL="freyja_char-share-embed__title_7ijjH",jL="freyja_char-share-embed__embed_hztm3";const WL=(e,t)=>it.createElement(pL,{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...e,ref:t,name:"IconCopyInBuffer"},it.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.22 3.3h-.03c-.544 0-.996 0-1.364.031-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365V7.3h-.11c-.544 0-.996 0-1.364.03-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365v5.619c0 .545 0 .996.03 1.364.032.383.1.738.274 1.071a2.7 2.7 0 0 0 1.151 1.152c.333.173.688.241 1.071.273.368.03.82.03 1.365.03h3.618c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365v-.11h.11c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365V7.192c0-.545 0-.997-.03-1.365-.032-.383-.1-.738-.273-1.07a2.7 2.7 0 0 0-1.152-1.152c-.333-.173-.688-.242-1.07-.274-.369-.03-.82-.03-1.365-.03zm3.48 12h.08c.581 0 .974 0 1.277-.025.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V7.22c0-.581 0-.975-.026-1.278-.024-.295-.069-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026h-3.56c-.581 0-.975 0-1.278.026-.295.024-.441.068-.542.12a1.3 1.3 0 0 0-.554.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v.08h2.109c.545 0 .996 0 1.364.03.383.032.738.1 1.071.274a2.7 2.7 0 0 1 1.152 1.151c.173.333.241.688.273 1.071.03.368.03.82.03 1.364v4.11ZM9 8.7h-.78c-.581 0-.975.001-1.278.027-.295.024-.441.068-.541.12a1.3 1.3 0 0 0-.555.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v5.56c0 .581 0 .974.026 1.277.024.295.068.442.12.542a1.3 1.3 0 0 0 .555.554c.1.052.246.097.541.121.303.025.697.026 1.278.026h3.56c.581 0 .974 0 1.277-.026.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V11.22c0-.582 0-.975-.026-1.278-.024-.295-.068-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026z",clipRule:"evenodd"})),$L=(0,it.forwardRef)(WL);var zL="freyja_char-share-form__form_y2h5x",YL="freyja_char-share-form__button_UEKvP",GL="freyja_char-share-form__message_fnT2h";const ZL=e=>{let{isCopied:t,message:n,onClick:r,value:a,type:o}=e;return it.createElement("div",{className:zL},it.createElement(kL,{readOnly:!0,value:a,onClick:()=>r(o)}),it.createElement("button",{className:YL,type:"button",onClick:()=>r(qx.COPY_BUTTON)},it.createElement($L,{size:"large"})),t&&it.createElement("div",{className:GL},n))};var QL="freyja_link-button__button_YRo-x";const KL=e=>{let{children:t,onClick:n}=e;return it.createElement("button",{className:QL,type:"button",onClick:n},t)},qL=e=>{let{url:t,playOptions:n,onShare:r,showTimecode:a,defaultStartTime:o,pepper:i,videoId:l}=e;const[s,c]=(0,it.useState)(""),[u,d]=Kx(!1),f=n?.duration||0,p=e=>{s&&(Xx(s),d(!0),r&&r(e))};return it.createElement(it.Fragment,null,it.createElement("h3",{className:UL},"Код вставки плеера"),it.createElement(ZL,{isCopied:u,value:s,onClick:p,message:"Код скопирован в буфер обмена",type:qx.EMBED}),it.createElement("div",{className:jL},it.createElement(HL,{onEmbedCodeChanged:c,videoDuration:f,playOptions:n,defaultStartTime:o,url:t,showTimecode:a,pepper:i,videoId:l})),it.createElement(KL,{onClick:()=>{p(qx.EMBED)}},"Скопировать"))};var XL="freyja_char-share-panel__social_-a3Fk",JL="freyja_char-share-panel__hideEmbed_htfGX",eR={title:"freyja_char-share-url__title_ZMEx4",buttons:"freyja_char-share-url__buttons_2kEaC",icon:"freyja_char-share-url__icon_T-poR",subtitle:"freyja_char-share-url__subtitle_Evedm",startTime:"freyja_char-share-url__startTime_b0k3Y",checkbox:"freyja_char-share-url__checkbox_Oktfi",warningMessage:"freyja_char-share-url__warningMessage_ndZ0V",shareIcon:"freyja_char-share-url__shareIcon_a0e2o","shareIcon--type-facebook":"freyja_char-share-url__shareIcon--type-facebook_4xpKO","shareIcon--type-ok":"freyja_char-share-url__shareIcon--type-ok_Kfv4d","shareIcon--type-mail":"freyja_char-share-url__shareIcon--type-mail_imvG8","shareIcon--type-telegram":"freyja_char-share-url__shareIcon--type-telegram_Epuhf","shareIcon--type-viber":"freyja_char-share-url__shareIcon--type-viber_9--iz","shareIcon--type-vk":"freyja_char-share-url__shareIcon--type-vk_vc6wr","shareIcon--type-whatsapp":"freyja_char-share-url__shareIcon--type-whatsapp_ovg0R"},tR="freyja_char-share-button__charShareButton_bEsry";const nR=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),rR=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}),aR=e=>{let{children:t,className:n,disabled:r,onClick:a,link:o,windowHeight:i=400,windowWidth:l=550,windowPosition:s="windowCenter",...c}=e;return it.createElement("button",(0,Qu.default)({},c,{className:ti()(tR,n),disabled:r,onClick:e=>{((e,t)=>{let{windowPosition:n,width:r,height:a,...o}=t;const i={location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes",width:r,height:a,...o,..."windowCenter"===n?nR(r,a):rR(r,a)};window.open(e,"",Object.entries(i).map((e=>{let[t,n]=e;return`${t}=${n}`})).join(", "))})(o,{height:i,width:l,windowPosition:s}),a?.(e,o)}}),t)},oR=e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t,n]=e;return`${encodeURIComponent(t)}=${encodeURIComponent(String(n))}`}));return t.length>0?`?${t.join("&")}`:""};function iR(e,t){let{title:n,image:r,noParse:a,noVkLinks:o}=t;return`https://vk.com/share.php${oR({url:e,title:n,image:r,noparse:a?1:0,no_vk_links:o?1:0})}`}const lR={windowWidth:660,windowHeight:460};function sR(e,t){let{title:n,description:r,image:a}=t;return`https://connect.ok.ru/offer${oR({url:e,title:n,description:r,imageUrl:a})}`}const cR={windowWidth:588,windowHeight:480,windowPosition:"screenCenter"};function uR(e,t){let{title:n}=t;return`https://telegram.me/share/url${oR({url:e,title:n})}`}const dR={windowWidth:550,windowHeight:400};function fR(e,t){let{title:n,separator:r=" "}=t;return`${`https://${/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web"}.whatsapp.com/send`}${oR({text:n?`${n}${r}${e}`:e})}`}const pR={windowWidth:550,windowHeight:400},mR=[{SocialButton:e=>{let{url:t,title:n,image:r,noParse:a,noVkLinks:o,...i}=e;return it.createElement(aR,(0,Qu.default)({link:iR(t,{title:n,image:r,noParse:a,noVkLinks:o})},lR,i))},icon:"vk",type:qx.VK},{SocialButton:e=>{let{url:t,title:n,description:r,image:a,...o}=e;return it.createElement(aR,(0,Qu.default)({link:sR(t,{title:n,description:r,image:a})},cR,o))},icon:"ok",type:qx.OK},{SocialButton:e=>{let{url:t,title:n,...r}=e;return it.createElement(aR,(0,Qu.default)({link:uR(t,{title:n})},dR,r))},icon:"telegram",type:qx.TELEGRAM},{SocialButton:e=>{let{url:t,title:n,separator:r,...a}=e;return it.createElement(aR,(0,Qu.default)({link:fR(t,{title:n,separator:r})},pR,a))},icon:"whatsapp",type:qx.WHATS_APP}],hR=e=>{let{type:t}=e;return it.createElement("span",{className:ti()(eR.shareIcon,eR[`shareIcon--type-${t}`])})},vR=e=>{let{url:t,location:n,isMobile:r,playOptions:a,pepper:o,onShare:i,showTimecode:l,defaultStartTime:s,urlParams:c}=e;const u=a?.duration||0,d=bA({value:u/1e3})||"",f=u>=36e5,p=`Посмотрите это видео на RUTUBE: «${a?.title||""}»`,[m,h]=Kx(!1),[v,y]=(0,it.useState)(!1),[g,_]=(0,it.useState)((()=>s)),[b,E]=(0,it.useState)(""),w=(0,it.useCallback)((()=>NL({url:`${t}${n}`,pepper:o,isMobile:r,startTime:v?g:null,urlParams:c})),[t,n,o,r,v,g,c]),[A,S]=(0,it.useState)(w()),C=e=>{i&&i(e)},k=(0,it.useMemo)((()=>((e,t,n)=>encodeURI(`mailto:?subject=${t}&body=${n?.title||""} — ${e}`))(`${t}${n}`,p,a)),[t,n,p,a]);(0,it.useEffect)((()=>{if(b&&v)S("");else{const e=NL({url:`${t}${n}`,pepper:o,isMobile:r,startTime:!b&&v?g:null,urlParams:c});S(e)}}),[r,n,g,t,o,b,v,c]);return it.createElement(it.Fragment,null,it.createElement("h3",{className:eR.title},"Поделиться"),it.createElement("div",{className:eR.buttons},mR.map(((e,t)=>{let{SocialButton:n,icon:r,type:a}=e;return it.createElement(it.Fragment,{key:t},it.createElement(n,{url:A,title:p,className:eR.icon,onClick:()=>C(a)},it.createElement(hR,{type:r})))})),it.createElement("a",{href:k,className:eR.icon,onClick:()=>C(qx.EMAIL)},it.createElement(hR,{type:"mail"}))),it.createElement("p",{className:eR.subtitle},"Ссылка"),it.createElement(ZL,{isCopied:m,value:A,onClick:e=>{A&&(Xx(A),h(!0),C(e))},message:"Ссылка скопирована в буфер обмена",type:qx.LINK}),l&&it.createElement(it.Fragment,null,it.createElement("div",{className:eR.startTime},it.createElement("div",{className:eR.checkbox},it.createElement(VL,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:v,title:v?"Начало:":`Начало: ${bA({value:g})}`,onChange:e=>{const{checked:t}=e.currentTarget;y(t)}})),v&&it.createElement(LL,{showHours:f,time:g,onTimeChange:e=>{_(e);const t=IL(e,v,u);E(`${t}${t&&u?d:""}`)}}),b&&v&&it.createElement("div",{className:eR.warningMessage},b))))};var yR=function(e){return e.SHARE_URL="share-url",e.EMBED_CODE="embed-code",e}(yR||{});const gR=e=>{let{url:t,location:n,isMobile:r,showTimecode:a,playOptions:o,pepper:i,urlParams:l,onShare:s,onClickOutside:c,currentTime:u=0,anchorRef:d,containerRef:f,hideEmbedCode:p=!1,videoId:m}=e;const[h,v]=(0,it.useState)(yR.SHARE_URL),y=(0,it.useRef)(null),g=f||y,_=e=>{s&&s(e)};var b,E,w;return b=[g,d],E=c,(0,it.useEffect)((()=>{const e=e=>{if(Array.isArray(b)){if(b.some((t=>t.current?.contains(e.target))))return}else if(!b.current||b.current.contains(e.target))return;E&&E(e)};return document.addEventListener("mousedown",e,w?.mouseHandlerOptions),()=>{document.removeEventListener("mousedown",e)}}),[b,E,w]),it.createElement("div",{ref:g,className:ti()(XL,{[JL]:p})},h===yR.SHARE_URL&&it.createElement(vR,{url:t,location:n,urlParams:l,isMobile:r,playOptions:o,pepper:i,onShare:_,showTimecode:a,defaultStartTime:u}),h===yR.EMBED_CODE&&it.createElement(qL,{url:t,pepper:i,playOptions:o,onShare:_,showTimecode:a,defaultStartTime:u,videoId:m}),h===yR.SHARE_URL&&!p&&it.createElement(KL,{onClick:()=>v(yR.EMBED_CODE)},"Код вставки плеера"))},_R="raichu-share-module__playerShareBtnPopup___Imj_Z",bR="raichu-share-module__raichuPlayerShareScrollContainer___T8OJa",ER="raichu-share-module__sharePopupWrapper___sKtGR",wR=e=>{let{isTouchDevice:t}=e;const n=Ni(zi),r=Ni(jE),a=Ni(Jl),o=Ni($a),i=(0,it.useRef)(null),l=xi(),s=Math.round(Ni(ol)),c=(0,it.useMemo)((()=>{if(a?.video_url)try{return new URL(a?.video_url)}catch(e){return console.warn("raichu-share-popup:",e),{origin:"",pathname:""}}return{origin:"",pathname:""}}),[a?.video_url]);return Uc(i,(()=>{i.current&&r&&l(Ks.setActivePanel(null))})),r?it.createElement("div",{className:ER},it.createElement("div",(0,Qu.default)({ref:i,className:_R},ou),it.createElement("div",{className:bR},it.createElement(gR,{currentTime:s,url:c.origin,location:c.pathname,urlParams:qt(t),isMobile:t,playOptions:a,showTimecode:!n,pepper:o||"",anchorRef:i,onShare:e=>{l(Ks.sendYm({statEventType:Zc.SHARE,params:{socialNetwork:e,action:"share"}}))}})))):null},AR="raichu-start-button-module__startButton___Bmo5i",SR="raichu-start-button-module__withControls___z78wo",CR=(0,it.memo)((e=>{let{onClick:t,isShowControls:n}=e;const r=xi(),[a,o]=(0,it.useState)(jt),i=jb();return(0,it.useEffect)((()=>{const e=setInterval((()=>{o((t=>{const n=t-1e3;return n||(clearInterval(e),r(Ks.setStartButtonShowed(!0))),n}))}),1e3);return()=>{clearInterval(e)}}),[r]),(0,it.useEffect)((()=>{a===jt&&i.get("businessWatchFromStartShow")()}),[i,a]),a?it.createElement(nT,{"data-testid":"replay-button",className:ti()(AR,{[SR]:n}),onClick:()=>{t(),i.get("businessWatchFromStartClick")(),Pi((()=>{r(Ks.setStartButtonShowed(!0)),r(Ks.sendYm({statEventType:Zc.FROM_BEGINNINIG,params:{action:"from_beginning"}}))}))}},"Начать с начала (",Math.round(a/1e3),")"):null})),kR={isFirstQuartileReached:!1,isSecondQuartileReached:!1,isThirdQuartileReached:!1},TR=e=>{let{player:t,isEmbed:n}=e;const r=xi(),a=Ni(Is),o=Ni(Ps),i=Ni(ml),l=(0,it.useRef)(0),s=yd(Ka),c=Ni(zi),u=(0,it.useRef)([]),[d,f]=(0,it.useState)(void 0),[p,m]=(0,it.useState)(null),[h,v]=(0,it.useState)(kR),[y,g]=(0,it.useState)(!1),_=(0,it.useRef)({});(0,it.useEffect)((()=>{l.current=i}),[i]);const b=e=>{try{const t=_.current[e.url_template]=_.current[e.url_template]||{};if(t.count>0){r(Ks.trackIntervalEvent(e));const n=1e3*(e.delay||10);t.count-=1,"watchtime"===e.name&&(t.prevTime=l.current),t.timer||(t.timer=setInterval(b,n,e))}else t.timer&&clearInterval(t.timer)}catch(e){console.error(e)}},E=()=>{try{g(!1);for(const e in _.current){const t=_.current[e];t.timer&&clearInterval(t.timer),t.timeoutTimer&&clearTimeout(t.timeoutTimer),t.timer=null,t.timeoutTimer=null,t.timeBalance=1e3*(i-t.prevTime)}}catch(e){console.error(e)}},w=(e,t)=>{v({...h,[e]:t})};return Th((()=>{void 0!==t.current?.currentTime&&f(Math.trunc(t.current?.currentTime)),void 0!==t.current?.currentTime&&m(Math.trunc(t.current?.currentTime/t.current?.duration*100)),s&&r(Ks.incrementWatchTime())}),t.current?.currentTime?1e3:void 0),(0,it.useEffect)((()=>(r(Ks.trackStat({eventName:Gc.LOAD})),n&&r(Ks.trackStat({eventName:Gc.EMBED_LOAD})),()=>{E(),_.current={}})),[]),(0,it.useEffect)((()=>{if(!u.current.some((e=>e===d))&&!c){const e=a.filter((e=>{if(e.start===d)return!0;if(0!==e.delay&&void 0!==d){const t=(d-e.start)%e.delay;try{return Object.is(t,0)}catch(e){return!1}}return!1}));e.length>0&&d&&(u.current.push(d),e.forEach((e=>r(Ks.sendStat(e)))))}d&&!y&&s&&(g(!0),o.forEach((e=>{try{const t=_.current[e.url_template]=_.current[e.url_template]||{};t.count="number"==typeof t.count?t.count:e.count||1/0;const n=1e3*(e.delay||10),r=(n-t.timeBalance)%n,a="heartbeat"===e.name?0:r||0;t.timeoutTimer=setTimeout(b,a,e)}catch(t){console.error("Error event parameter",t,e)}})))}),[r,d,c,y,s]),(0,it.useEffect)((()=>{p&&(!h.isFirstQuartileReached&&p>=25&&p<50?(r(Ks.trackStat({eventName:Gc.FIRST_QUARTILE})),w("isFirstQuartileReached",!0)):!h.isSecondQuartileReached&&p>=50&&p<75?(r(Ks.trackStat({eventName:Gc.MIDDLE})),w("isSecondQuartileReached",!0)):!h.isThirdQuartileReached&&p>=75&&(r(Ks.trackStat({eventName:Gc.THIRD_QUARTILE})),w("isThirdQuartileReached",!0)))}),[r,p,h]),(0,it.useEffect)((()=>{!t.current?.seeking&&s||E()}),[t.current?.seeking,s]),null},xR=new Event("waiting"),LR=(e,t)=>{const n=t.find((t=>t.value===ga[parseInt(e)]));return e!==_a&&n?n.level:-1};let RR=function(e){return e.PLAY="PL",e.STOP="STP",e.REWIND_FORWARD="RWF",e.REWIND_BACKWARD="RWB",e.X_REWIND="XRW",e.REWIND_FROM_CHAPTERS="RWE",e.REWIND_FROM_DESCRIPTION="RWD",e}({});const NR={nextHbConfig:void 0,final:!1,isBuffering:!1,isSeeking:!1,rewindStartPosition:void 0,playbackActionsLog:[],rangeStartLog:[],rangeEndLog:[],volumeLog:[],speedLog:[],qualityLog:[],subtitlesLanguagesLog:[],playerSizeLog:[]},PR=e=>!isNaN(e)&&isFinite(e),IR=Hr({name:"aggregatedStats",initialState:NR,reducers:{cleanUp:()=>NR,setNextHbConfig:(e,t)=>{let{payload:n}=t;e.nextHbConfig=n},resetNextHbConfig:e=>{e.nextHbConfig=void 0},pushPlaybackAction:(e,t)=>{let{payload:n}=t;e.playbackActionsLog=[...e.playbackActionsLog,n]},pushRangeStart:(e,t)=>{let{payload:n}=t;const r=Math.max(PR(n)?n:0,0);e.rangeStartLog=[...e.rangeStartLog,r]},pushRangeEnd:(e,t)=>{let{payload:n}=t;const r=Math.max(PR(n)?n:0,0);e.rangeEndLog=[...e.rangeEndLog,r]},pushVolume:(e,t)=>{let{payload:n}=t;e.volumeLog=[...e.volumeLog,n]},pushSpeed:(e,t)=>{let{payload:n}=t;e.speedLog=[...e.speedLog,n]},pushQuality:(e,t)=>{let{payload:n}=t;e.qualityLog=[...e.qualityLog,n]},pushSubtitlesLanguage:(e,t)=>{let{payload:n}=t;e.subtitlesLanguagesLog=[...e.subtitlesLanguagesLog,n]},pushPlayerSize:(e,t)=>{let{payload:n}=t;e.playerSizeLog=[...e.playerSizeLog,n]},setFinal:(e,t)=>{let{payload:n}=t;e.final=n},setIsBuffering:(e,t)=>{let{payload:n}=t;e.isBuffering=n},setIsSeeking:(e,t)=>{let{payload:n}=t;e.isSeeking=n},setRewindStartPosition:(e,t)=>{let{payload:n}=t;e.rewindStartPosition=n},resetRewindStartPosition:e=>{e.rewindStartPosition=void 0}}}),OR={onRewind:kr("player/onRewind"),onLongPress:kr("player/onLongPress")},MR=IR.reducer,DR={...IR.actions,...OR},FR=e=>e in ga||e===_a,VR=(e,t,n)=>{const r={};return e&&(r.autoStartLoad=t,r.maxMaxBufferLength=30),n&&(r.backBufferLength=360),r},BR=e=>({getTime:()=>e.currentTime,getMuted:()=>e.muted,getVolume:()=>e.volume,getDuration:()=>e.duration,getBuffered:()=>{const t=e.buffered,n=[{start:0,end:0}],r=Math.floor(e.currentTime);for(let e=0;e<t.length;e++)n.push({start:t.start(e),end:t.end(e)});const a=n.find((e=>r>=e.start&&r<e.end));return[n,a?a.end/e.duration*100:0,a?.end?a?.end:0]},setMuted:t=>{e.muted=t},setVolume:t=>{e.volume=t},setSeek:t=>{Number.isNaN(t)||(e.currentTime=t)},setPlaybackRate:t=>{e.playbackRate=t},isVideoPlaying:()=>!!e&&e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,play:()=>e.play(),pause:()=>e.pause(),startLoad:()=>{e.preload="auto"}});let HR=function(e){return e.EXPECT_START="expect_start",e.STATUS_PLAYING="play_now",e.STATUS_FINISHED="already_finish",e.STATUS_BLOCKED="blocked",e}({});const UR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)return e;if(t){const e=/.+(\d\d\d\d|\d\d)_?(\d\d)_?(\d\d)_(\d\d)_?(\d\d)_?(\d\d)-\d+\.ts/.exec(t)||[],n=(e?[...e.splice(1,6)]:[]).map((e=>parseInt(e)));if(6===n.length&&!n.some(isNaN)){const[e,t,r,a,o,i]=n,l=new Date(e<100?e+2e3:e,t-1,r,a,o,i),s=(new Date).getTimezoneOffset()+180;return l.getTime()-60*s*1e3}}},jR=async e=>{try{return function(){const e=[],t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n");if("#EXTM3U"!==t[0])return e;t.shift();let n=0;for(;n<t.length-2;){const r=t[n],a=/CODECS="([^"]+)"/i,o=/^#EXT-X-STREAM-INF:(?=.*BANDWIDTH=(\d+))(?=(.*FRAME-RATE=(\d+))?)(?=.*RESOLUTION=(\d+)x(\d+))/i.exec(r),i=a.exec(r),l=t[n+1];if(o&&0===l.indexOf("http")){const t=o.map((e=>parseInt(e,10)));e.push({id:e.length,bitrate:t[1],frameRate:Eb(t[3].toString()),width:t[4],height:t[5],codec:i&&i[1]||"",edge:l,value:"",level:0}),n+=2}else n+=1}return e.reduce(((e,t)=>(e.find((e=>e.width===t.width&&e.codec===t.codec))||e.push(t),e)),[])}(await fetch(e).then((e=>e.text()))).reverse()}catch(e){console.error(`Parse m3u8 error: ${e.message.toString()}`)}return[]},WR=["144p","240p","360p","480p","720p","1080p","1440p","2160p"],$R=4e3,zR=(e,t)=>{try{const n=oi(Ht)||t;if("string"!=typeof n)return null;if(n===_a)return-1;const r={},a=e.findIndex(((e,t)=>{const a=parseInt(zs(e.height,e.width)).toString();return r[a]=t,a===n}));return-1!==a?a:((e,t)=>{const n=WR.findIndex((t=>t===e+"p"));if(-1===n)return-1;if(t[e])return t[e];if(n<=3){for(let e=n-1;e>=0;e--){const n=t[parseInt(WR[e])];if("number"==typeof n)return n}for(let e=1;e<=WR.length-n;e++){const r=t[parseInt(WR[n+e])];if("number"==typeof r)return r}}if(n>3){for(let e=1;e<=WR.length-n;e++){const r=t[parseInt(WR[n+e])];if("number"==typeof r)return r}for(let e=n-1;e>=0;e--){const n=t[parseInt(WR[e])];if("number"==typeof n)return n}}return-1})(n,r)}catch(e){return null}},YR={debug:"undefined"!=typeof window&&window.location.search.includes("raichu_hls_debug"),enableWorker:!0,lowLatencyMode:!0,maxMaxBufferLength:180,autoStartLoad:!0,startLevel:3,liveSyncDurationCount:2,capLevelToPlayerSize:!0,fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:4,retryDelayMs:1e3,maxRetryDelayMs:2e3}}}},GR=()=>{},ZR=()=>{},QR=new Map([[Xl.HLS,async e=>{let t;const{video:n,src:r,isLive:a,isTVLiveStream:o,onLevelsLoaded:i,onLevelLoaded:l,onLevelChange:s,onSetDuration:c,onIsSupportedCheck:u,dispatch:d,config:f={},liveStatus:p,embedQuality:m}=e;let h,v=null,y=null,g=null,_=[],b=10,E=5;const w=()=>{const e=wd();if(!v||e-v>3e3){v=wd(),console.error("trying to recover media error.");try{g?.recoverMediaError()}catch(e){console.error(e)}}else if(!y||e-y>3e3){y=wd(),console.error("trying to swap audio codec and recover media error.");try{g?.swapAudioCodec(),g?.recoverMediaError()}catch(e){console.error(e)}}else console.error("cannot recover. Last media error recovery failed."),n.currentTime+=1},A=(e,i)=>{const l=(e,t)=>{const n=g?.levels||[],r=n[e]?.details,a=t||r?.url,o=n[e]?.url??[];for(let e=0;e<o.length;e++)if(o[e]===a)for(let t=0;t<n.length;t++)n[t]?.url&&n[t].url.length>e&&g?.removeLevel(t,e)};if(i.details===t.ErrorDetails.BUFFER_STALLED_ERROR&&Mi()&&n.currentTime.toFixed(0)===n.duration.toFixed(0))n.currentTime=n.duration+1;else if(i.fatal)switch(i.type){case t.ErrorTypes.NETWORK_ERROR:setTimeout((()=>g?.startLoad()),3e3);break;case t.ErrorTypes.MEDIA_ERROR:w();break;default:g?.destroy()}if(i.type===t.ErrorTypes.NETWORK_ERROR&&"levelEmptyError"===i.details&&(g?.destroy(),d&&d(Ks.setStubType("error"))),i.type===t.ErrorTypes.NETWORK_ERROR&&i.details===t.ErrorDetails.LEVEL_LOAD_ERROR){const e=i.context?.level&&i.context?.level>=0?i.context?.level:0;if(1===g?.levels[e].url.length){g?.stopLoad();setTimeout((()=>{h?.startLoad()}),$R)}else l(e)}if(i.type===t.ErrorTypes.NETWORK_ERROR&&i.details===t.ErrorDetails.MANIFEST_LOAD_ERROR)if(a){if(p?.current===HR.STATUS_PLAYING||o){h?.stopLoad();setTimeout((()=>{g?.loadSource(r),h?.startLoad()}),$R)}}else if(b){setTimeout((()=>{g?.loadSource(r),h?.startLoad(),navigator.onLine&&b--}),3e3)}else d&&d(Ks.setStubType("error"));if(i.type===t.ErrorTypes.NETWORK_ERROR&&i.details===t.ErrorDetails.FRAG_LOAD_ERROR){const e=i.frag?.level||0,t=i.frag?.baseurl;(g?.levels[e].url.length??1)>1?l(e,t):E<=0?(h?.stopLoad(),p?.current===HR.STATUS_PLAYING||o?setTimeout((()=>{h&&(h.currentLevel=-1,E=5,h?.startLoad())}),$R):console.error("FRAG_LOAD_ERROR:",i)):navigator.onLine&&(E-=1)}if(i.type===t.ErrorTypes.MEDIA_ERROR&&i.details===t.ErrorDetails.BUFFER_STALLED_ERROR){const e=Math.max(g?.currentLevel||0,0),t=g?.levels[e].url.length??1,r=t=>{n.buffered&&n.buffered.end(n.buffered.length-1)<=t+.01&&l(e)};if(t>1&&n.buffered){const e=n.buffered.end(n.buffered.length-1);setTimeout((()=>r(e)),4e3)}}},S=e=>{if("error"===e.type){const t=e.currentTarget.error;t?.MEDIA_ERR_DECODE&&w()}},C=async()=>{try{t=await yu("https://static.rutube.ru/static/player_sdk/hls/1.4.3/hls.min.js?hash=123","Hls")}catch(e){console.error(e)}if(!t.isSupported()){u(!1);let e=await jR(r);const t=document.createElement("video"),a=Boolean(t.canPlayType("video/mp4; codecs=av01.0.00M.10"));(async(e,t)=>{if(!e)return;const{edge:n}=e[0]||{};if(n)try{const e=await fetch(n).then((e=>e.text())),r=/^#EXT-X-PROGRAM-DATE-TIME:(.+)/im.exec(e),a=/^(.+\.ts)/im.exec(e),o=r&&r[1]?Date.parse(r[1]):null,i=a&&a[1]?a[1]:"";if(o||i){const e=UR(o,i);t&&e&&t(Ks.setFragmentTime(e))}}catch(e){console.error(e)}})(e,d),a||(e=e.filter((e=>e.codec&&!e.codec.includes("av01"))));const o=zR(e,m),[s,c]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360;const n=e.length?[...e].reduce(((e,n)=>Math.abs(n.height-t)<Math.abs(e.height-t)?n:e)):null;return[e.findIndex((e=>e===n)),n]}(e);if(s>-1&&(e[s].isAuto=!0),i&&i(e),l){l({level:"number"==typeof o&&o>=0?o:s||-1,isAutoLevel:[void 0,null,-1].includes(o),duration:0,fragDuration:0})}return n.src=null!==o&&e[o]?.edge||c?.edge||r,n.load(),n.pause(),null}if(u(!0),a&&(YR.startPosition=-1),h=new t({...YR,...f}),!n)return null;let e,o={},p=!1,v=!1,y=!1,g=!1;return h?.on(t.Events.MEDIA_ATTACHED,(()=>{h?.loadSource(r),h?.on(t.Events.MANIFEST_PARSED,((e,t)=>{const{levels:n}=t,r=document.createElement("video"),a=Boolean(r.canPlayType("video/mp4; codecs=av01.0.00M.10"));_=n.filter((e=>!(!a&&e.codecSet.includes("av01")))).map(((e,t)=>{const n=Array.isArray(e._attrs)?e._attrs.find((e=>e["FRAME-RATE"]))?.["FRAME-RATE"]:void 0;return{id:t,width:e.width,height:e.height,edge:e.url?.[0],bitrate:e.bitrate,frameRate:Eb(n)}}));const o=zR(_,m);h&&null!==o&&(h.loadLevel=o),i&&i(_)}))})),h?.on(t.Events.LEVEL_LOADED,((e,t)=>{if(!t.details||!l)return null;const n=t.details.totalduration,r=t.details.targetduration,a=Boolean(h&&h.autoLevelEnabled),o=t.level;l({level:o,duration:n,isAutoLevel:a,fragDuration:r})})),h?.on(t.Events.ERROR,A),h?.on(t.Events.LEVEL_SWITCHING,((e,t)=>s&&s(t.level))),h?.once(t.Events.LEVEL_LOADED,((e,t)=>{const n=t.details.totalduration;c?.(n)})),h.on(t.Events.LEVEL_UPDATED,((t,n)=>{let r=null,a=null;const i=xh(n);o=Rh(n);const l=Ph(n,Bi,Hi,o),s=l[l.length-1];if(!g&&i[0]&&d){g=!0;const e=UR(i[0].programDateTime,i[0].relurl);d&&e&&d(Ks.setFragmentTime(e))}i.forEach(((t,n)=>{const o=t.relurl;o===e&&(r=n),o===s&&(a=n)})),"number"==typeof a&&"number"==typeof r&&a-r<=3&&a-r>0&&(y=!0)})),h.on(t.Events.FRAG_LOADED,((e,t)=>{if(d){const{loaded:e=0}=t.frag.stats;d(Ks.incrementBytes(e))}})),h.on(t.Events.FRAG_CHANGED,((t,n)=>{E=5;const r=n.frag.relurl&&o[n.frag.relurl];e=n.frag.relurl;const a=UR(n.frag.programDateTime,n.frag.relurl);d&&a&&d(Ks.setFragmentTime(a));let i=null,l=null;v&&(v=!1),p&&(p=!1,v=!0),r&&r[Hi]&&(i=Nh(r[Hi]),i[Bi]&&(p=!0),i[Ui]&&(l=i[Ui])),Pi((()=>{d&&(d(Ks.setLiveMidrollStartPlay(v)),d(Ks.setLiveMidrollNeedTorPrefetch(y)),d(Ks.setLiveMidrollDuration(l)),y&&d(Ks.setLiveMidrollActive(!0)))})),y=!1})),n.addEventListener("error",S),h?.attachMedia(n),h};g=await C();const k=e=>{g&&(g.nextLevel=e)},T=GR,x=()=>{n.pause(),g&&g.destroy()};return g?{enableAutoLevel:T,changeLevel:k,destroy:x,init:C,instance:h,...BR(n),startLoad:()=>g?.startLoad()}:{enableAutoLevel:T,changeLevel:GR,destroy:GR,init:async()=>null,instance:h,...BR(n)}}],[Xl.Video,async e=>{const{video:t,src:n}=e;return await(async()=>{try{const e=await fetch(n),r=await e.json(),a=r?.results?.[0];t.src=a}catch(e){console.error(e)}})(),{changeLevel:ZR,init:()=>Promise.resolve(null),enableAutoLevel:ZR,destroy:ZR,...BR(t)}}]]),KR=e=>{let{element:t,onHover:n=Dk,onLeave:r=Dk,isTouchDevice:a,onDown:o=Dk,onUp:i=Dk,onMove:l=Dk,onEnter:s=Dk,onOut:c=Dk}=e;(0,it.useEffect)((()=>{if(t&&!a)return t.addEventListener("mouseover",n),t.addEventListener("mouseleave",r),t.addEventListener("mousedown",o),t.addEventListener("mouseup",i),t.addEventListener("mousemove",l),t.addEventListener("mouseenter",s),t.addEventListener("mouseout",c),()=>{t&&(t.removeEventListener("mouseover",n),t.removeEventListener("mouseleave",r),t.removeEventListener("mousedown",o),t.removeEventListener("mouseup",i),t.removeEventListener("mousemove",l),t.removeEventListener("mouseout",c))}}),[t,a,o,s,n,r,l,c,i])},qR=bn([Ca,xa,za,Oo,Jl,Mo,Ho,jo],((e,t,n,r,a,o,i,l)=>({video_id:e,qa:t,sm:n,yclid:Ld(),viewid:a?.view_id||"",user:o,cid:i,pid:l,referer:tn(),v:r})));let XR=!1;const JR=async(e,t,n)=>{const r=await(e=>fetch(`${Eh()}/api/v2/video/stream/${e}/info/`).then((e=>e.json())).catch((e=>(console.warn(e),null))))(e);r&&(t(Ks.setLiveInfo(r)),n&&n(r))},eN=async(e,t)=>{let n=null;const r=await(e=>{const t=Qt({t:String(Math.floor(Date.now()/1e3))});return fetch(`${Eh()}/api/video/position/${e}?${t.toString()}`).then((e=>e.ok?e.json():null)).catch((e=>(console.warn(e),null)))})(e);if(!r)return null;const a=Math.floor(r.pos??0);if(a>0&&t){n={progress:a/(t.duration/1e3)*100,seconds:a,date:1e3*r.etc}}return n},tN=(0,it.memo)((e=>{let{handler:t,updateRequested:n}=e;const r=Math.round(Ni(ol));return(0,it.useEffect)((()=>{n&&t&&t(r)}),[t,n,r]),null})),nN="raichu-chapters-module__chapters___LsHBK",rN=it.memo((e=>{let{Component:t,isFullScreen:n}=e;const r=xi(),a=Ni(Qo),o=Ni(fl),i=Ni(Jl),l=Ni(Ko),s=(0,it.useCallback)((()=>{r(Ks.setShowChapters(!1))}),[]);return l&&a&&n?it.createElement(t,{activeChapter:a,description:i?.description,duration:o,thumbnailUrl:i?.thumbnail_url,className:nN,handleClose:s}):null})),aN="raichu-notifications-module__mainDisclaimerWrapper___h213o",oN="raichu-notifications-module__isTouchScreen___b6zpO",iN="raichu-notifications-module__noUnmute___zFau0",lN="raichu-notifications-module__withMiniControl___vuSl2",sN="raichu-notifications-module__fullScreen___vV8MN",cN="raichu-age-disclaimer-module__wrapper___vBhIm",uN=e=>{const{ageRating:t,timeOut:n=500}=e,[r,a]=(0,it.useState)(!0),o=(0,it.useRef)(null);if(null==t||t<0)return null;return it.createElement(Xk,{appear:!0,in:r,nodeRef:o,timeout:n,onEntered:()=>{setTimeout((()=>{a(!1)}),2500)},unmountOnExit:!0},it.createElement("div",{"data-testid":"age-disclaimer",ref:o,className:cN},t,"+"))},dN="raichu-age-disclaimer-container-module__container___RCtzM",fN="raichu-age-disclaimer-container-module__touch___acVZS",pN="raichu-age-disclaimer-container-module__withControls___Su1Ih",mN="raichu-age-disclaimer-container-module__withShareControl___tuhtR",hN=e=>{let{isTouchDevice:t,isShowControls:n}=e;const r=Ni(js),a=Ni(Ac(t)),o=ti()(dN,{[fN]:t,[pN]:n,[mN]:a&&n});return it.createElement("div",{className:o},it.createElement(uN,{ageRating:r}))},vN="raichu-disclaimer-module__disclaimer___TNomn",yN="raichu-disclaimer-module__disclaimerDanger___n_c8W",gN="raichu-disclaimer-module__disclaimerSuccess___Epuo0",_N=e=>{let{handleEnd:t,isShow:n,handleTextShowed:r,disclaimer:a}=e;const o=(0,it.useRef)(null),{text:i,id:l,type:s}=a;return it.createElement(Xk,{appear:!0,in:n,nodeRef:o,timeout:500,key:l,onEntered:r,onExited:t,unmountOnExit:!0},it.createElement("div",{ref:o,className:ti()(vN,{[yN]:"danger"===s,[gN]:"success"===s})},it.createElement(i,null)))},bN=()=>{const{queue:e,visible:t,startTimer:n,removeMessage:r}=Hu(),[a]=e;return a?it.createElement("div",{"data-testid":`disclaimer-${a.id}`,id:ih.RAICHU_DISCLAIMER_QUEUE},it.createElement(_N,{isShow:t,handleTextShowed:n,handleEnd:r,disclaimer:a})):null},EN="raichu-unmute-button-module__unmuteButton___e78s5",wN="raichu-unmute-button-module__isTouch___ilqHC",AN="raichu-unmute-button-module__animateFinished___OGc9z",SN="raichu-unmute-button-module__unmuteButtonText___HXAxa",CN=e=>{let{onDisclaimerAllowed:t,handleMuted:n}=e;const r=(0,it.useRef)(null),a=xi(),o=Ni(Io),i=jb(),[l,s]=(0,it.useState)(!1);return(0,it.useEffect)((()=>{i.get("businessContentPlaybackUnmuteButtonShow")()}),[]),(0,it.useEffect)((()=>{const e=setTimeout((()=>{t()}),3150);return()=>{clearTimeout(e)}}),[]),it.createElement(Xk,{appear:!0,in:o,nodeRef:r,timeout:150,unmountOnExit:!0,onExit:()=>{a(Ks.setShowUnmute(!1))}},it.createElement("button",{ref:r,className:ti()(EN,{[AN]:l,[wN]:ai.isMobile}),style:{animationDelay:"3000ms",animationDuration:"150ms"},tabIndex:0,"aria-label":"Включить звук",onAnimationEnd:()=>{ai.isMobile||s(!0)},onClick:()=>{ai.isMobile||(n(),i.get("businessContentPlaybackUnmuteButtonClick")())}},it.createElement(Tw,null),it.createElement("span",{className:SN},"Включить звук")))},kN=e=>{let{isShowDisclaimer:t,isShowAgeDisclaimer:n,isShowUnmute:r,isTouchDevice:a,isShowControls:o,isMiniAvailable:i,handleMuted:l}=e;const s=Ni(Ga),[c,u]=(0,it.useState)(!r),{queue:d}=Hu(),f=Ni(Ja),p=(0,it.useMemo)((()=>a?t&&(c||!r):t),[t,r,a,c]),[m,h]=(0,it.useState)(p?80:40),v=ti()(aN,{[oN]:a,[lN]:o&&i&&!r,[sN]:s});(0,it.useEffect)((()=>{r&&a&&u(!1)}),[r,a]);const y=document.getElementById(ih.RAICHU_DISCLAIMER_QUEUE);return(0,it.useLayoutEffect)((()=>{if(y){const e=y.clientHeight+45;h(e)}y&&!r&&h(y.scrollHeight),y&&r||h(40),(d.length||40!==m)&&y&&(r||y&&d.length)})),it.createElement(it.Fragment,null,it.createElement("div",{className:ti()(v,{[iN]:!r}),style:{minHeight:ai.isMobile?"auto":m,height:ai.isMobile?"auto":m,transition:"height .2s ease-in-out"}},r&&!f&&it.createElement(CN,{handleMuted:l,onDisclaimerAllowed:()=>u(!0)}),p&&it.createElement(bN,null)),n&&it.createElement(hN,{isTouchDevice:a,isShowControls:o}))},TN="object"==typeof navigator&&"mediaSession"in navigator,xN=e=>{let{provider:t}=e;const[n,r]=(0,it.useState)(!0),a=xi();return(0,it.useEffect)((()=>{const e=()=>{document.hidden?(r(!1),t?.isVideoPlaying()&&TN&&a(Ks.setBackgroundView(!0))):(r(!0),a(Ks.setBackgroundView(!1)))};return document&&(document.addEventListener("visibilitychange",e),window.addEventListener("pagehide",e)),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("pagehide",e)}}),[t,r]),{isTabActive:n}},LN=e=>{let{hlsProvider:t,setIsAutoPlayOnScreen:n}=e;const r=(0,it.useRef)(!1);(0,it.useEffect)((()=>{const e=navigator.userAgent.toLowerCase().includes("android"),a="object"==typeof navigator&&"mediaSession"in navigator;if(!e)return;const o=()=>{if(document.hidden&&t?.isVideoPlaying())return r.current=!0,n(!1),t?.pause(),void(a&&(navigator.mediaSession.playbackState="paused"));!document.hidden||t?.isVideoPlaying()?document.hidden||!r.current||t?.play()?.catch(console.error):r.current=!1};return document&&window&&document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o)}}),[t,n])},RN=e=>{let{isMobile:t}=e;const n=yd(Ca),r=(e=>{if(!e.trim()||!/^https?:\/\//.test(e))return e;const t=new URL(e);t.hostname.startsWith("www.")&&(t.hostname=t.hostname.slice(4));const n=t.toString();return n.endsWith("/")?n.slice(0,-1):n})(en({selectLastOrigin:!0})),a=Zt(window.location.href),o=yd((e=>co(e,r,a))),i=(0,it.useMemo)((()=>{if(!o)return null;const e=new URLSearchParams({utm_source:o.config.utm_source,utm_medium:o.config.utm_medium,utm_campaign:ma(o.config.utm_campaign,t),utm_content:n});return o.config.utm_term&&e.set("utm_term",new URL(r).host),Ty(`${window.location.origin}/video/${n}`,e)}),[o,n,t,r]);return o&&i?{isExperimentEnabled:!0,link:i}:{isExperimentEnabled:!1}},NN=e=>{let{event:t,ref:n,providerRef:r}=e;const a=rk(t,n),o=r.current?.getDuration()??1;return Math.floor(o*a*10)/1e3};var PN=n(7162);const IN=PN.default,ON=Hr({name:"player",initialState:{idDistribution:null,idWebsite:null,isEmbedAllowed:!1,isAllowedChecking:!1},reducers:{setDistributor:(e,t)=>{let{payload:n}=t;e.idDistribution=n.id_distribution,e.idWebsite=n.id_website},setIsEmbedAllowed:(e,t)=>{let{payload:n}=t;e.isEmbedAllowed=n},setIsAllowedChecking:(e,t)=>{let{payload:n}=t;e.isAllowedChecking=n}}}),{actions:MN,reducer:DN}=ON,FN={loadedTimestamp:null,viewCount:0},VN=Hr({name:"stats",initialState:FN,reducers:{cleanUp:()=>FN,setLoadedTimestamp(e,t){let{payload:n}=t;e.loadedTimestamp=n},incrementViewCount(e){e.viewCount+=1}}}),BN=VN.reducer,HN=VN.actions,UN={loading:!1,error:null,meta:{current:null}},jN=Hr({name:"tvSeasons",initialState:FA.getInitialState(UN),reducers:{fetchRequest:(e,t)=>{let{payload:n}=t;e.loading=!0,e.error=null},fetchSuccess:(e,t)=>{let{payload:n}=t;e.loading=!1,e.meta.current=n.current_season,FA.upsertMany(e,n.results)},fetchError:(e,t)=>{let{payload:n}=t;e.loading=!1,e.error=n?.message||PS}},extraReducers:e=>{e.addCase(Ks.reset,(e=>{e.loading=UN.loading,e.error=UN.error,e.meta={...UN.meta},FA.removeAll(e)}))}}),{reducer:WN}=jN,$N={...jN.actions,loadPrev:kr(`${jN.name}/loadPrev`),loadMore:kr(`${jN.name}/loadMore`),loadInitial:kr(`${jN.name}/loadInitial`)},zN=gr({episodes:TC,seasons:WN,stat:kS}),YN=gr({app:Jo,player:qs,seasonsWidget:zN,distribution:DN,aggregatedStats:MR,watchTime:rp,advertWatchTime:qf,interactiveContent:sa,stats:BN});function GN(e){let{payload:t}=e;return function*(){try{if(yield*Gf(as)){const e=yield*Gf(el);yield $f(Ks.setTVStreamDelta(e))}const e=yield*Gf(al),n=Math.min(void 0!==t?t:1/0,e);for(;;)yield Uf(DR.cleanUp),yield $f(DR.pushRangeStart(n)),yield $f(DR.pushPlaybackAction(RR.PLAY)),yield jf(Ks.setPlaying,ZN)}catch(e){console.warn(e)}}()}function ZN(e){let{payload:t}=e;return function*(){try{const e=yield*Gf(al),n=yield*Gf(dp),r=yield*Gf(wp),a=yield*Gf(Ap),o=r||a;if((yield*Gf(Yo))&&n===RR.X_REWIND)return;t&&n!==RR.PLAY&&(n===RR.X_REWIND&&(yield $f(DR.pushRangeEnd(e))),yield $f(DR.pushRangeStart(e)),yield $f(DR.pushPlaybackAction(RR.PLAY))),t||o||[RR.STOP,RR.X_REWIND].includes(n)||(n&&(yield $f(DR.pushRangeEnd(e))),yield $f(DR.pushPlaybackAction(RR.STOP)),yield $f(DR.pushRangeStart(e)),yield $f(DR.pushRangeEnd(e)))}catch(e){console.warn(e)}}()}function QN(e){let{payload:t,type:n}=e;return function*(){yield Zf(500);try{if(n===Ks.setVolume.type&&(yield*$f(DR.pushVolume(Number(t)))),n===Ks.setMuted.type)if(t)yield*$f(DR.pushVolume(0));else{const e=yield*Gf(Oo);yield*$f(DR.pushVolume(e))}}catch(e){console.warn(e)}}()}function KN(e){let{payload:{rewindTo:t,currentTime:n,source:r}}=e;return function*(){(yield*Gf(Ap))||(yield*$f(DR.setRewindStartPosition(n))),yield*$f(DR.setIsSeeking(!0)),yield Zf(500);const e=yield*Gf(dp),a=yield*Gf(Sp),o=void 0===a?n:a,i=e===RR.PLAY;i&&(yield $f(DR.pushRangeEnd(o))),r?yield $f(DR.pushPlaybackAction("chapters"===r?RR.REWIND_FROM_CHAPTERS:RR.REWIND_FROM_DESCRIPTION)):yield $f(DR.pushPlaybackAction(t>o?RR.REWIND_FORWARD:RR.REWIND_BACKWARD)),yield $f(DR.pushRangeStart(o)),yield $f(DR.pushRangeEnd(t)),i&&(yield $f(DR.pushPlaybackAction(RR.PLAY)),yield $f(DR.pushRangeStart(t))),yield*$f(DR.setIsSeeking(!1)),yield*$f(DR.resetRewindStartPosition())}()}function qN(e){let{payload:t}=e;return function*(){yield $f(DR.pushSpeed(t)),yield*jf(Ks.setActiveRate,XN)}()}function XN(e){let{payload:t}=e;return function*(){yield $f(DR.pushSpeed(t))}()}function*JN(){yield Zf(200);const e=yield*Gf(Yp),t=yield*Gf(vp);t[t.length-1]!==e&&(yield $f(DR.pushQuality(e)))}function*eP(){const e=yield*Gf(xp),t=yield*Gf(kp),n=yield*Gf(gp),r=n[n.length-1],a=t&&e?t.langTitle:e?"":"0";r!==a&&(yield $f(DR.pushSubtitlesLanguage(a)))}function tP(e){let{payload:t}=e;return function*(){const e=yield*Gf(bp),n=Bp(t);e[e.length-1]!==n&&(yield $f(DR.pushPlayerSize(n)))}()}function nP(e){let{payload:t}=e;return function*(){const e=yield*Gf(dp),n=yield*Gf(al),r=yield*Gf(ho);t&&e&&e!==RR.STOP&&(yield $f(DR.pushPlaybackAction(RR.STOP)),yield $f(DR.pushRangeEnd(n)),yield $f(DR.pushRangeStart(n)),yield $f(DR.pushRangeEnd(n))),t||e===RR.PLAY||r||(yield $f(DR.pushPlaybackAction(RR.PLAY)),yield $f(DR.pushRangeStart(n)))}()}function*rP(){const e=yield*Gf(dp),t=yield*Gf(al);e!==RR.STOP&&(yield $f(DR.pushPlaybackAction(RR.STOP)),e&&(yield $f(DR.pushRangeEnd(t))),yield $f(DR.pushRangeStart(t)),yield $f(DR.pushRangeEnd(t)))}function*aP(){const e=(0,PN.eventChannel)((e=>{const t="undefined"!=typeof document;return t&&document.addEventListener("enterpictureinpicture",e),t&&document.addEventListener("leavepictureinpicture",e),()=>{t&&document.removeEventListener("enterpictureinpicture",e),t&&document.removeEventListener("leavepictureinpicture",e)}}));yield*jf(e,(function*(){if(Boolean(document.pictureInPictureElement))yield $f(DR.pushPlayerSize("P"));else{const e=yield*Gf(za);yield $f(DR.pushPlayerSize(Bp(e)))}}))}function oP(e){let{payload:t}=e;return function*(){const{type:e,forcedPlayback:n}=t,r=yield*Gf(al),a=(yield*Gf(dp))===RR.PLAY;switch(e){case"on":a&&(yield $f(DR.pushRangeEnd(r))),yield $f(DR.pushPlaybackAction(RR.X_REWIND)),yield $f(DR.pushRangeStart(r));break;case"off":n||(yield $f(DR.pushRangeEnd(r)),yield $f(DR.pushPlaybackAction(RR.PLAY)),yield $f(DR.pushRangeStart(r)))}}()}function*iP(){yield*Wf(Ks.startPlay,GN),yield*Wf([Ks.setVolume.type,Ks.setMuted.type],QN),yield*Wf(DR.onRewind,KN),yield*Wf(DR.onLongPress,oP),yield*jf(Ks.initActiveRate,qN),yield*Wf([Ks.setAutoQuality,Ks.setActiveQuality],JN),yield*jf([Ks.setActiveCaption.type,Ks.setCaptionSettingsShow],eP),yield*jf(Ks.changePlayerMode.type,tP),yield*function*(){return yield(0,Hf.takeLeading)(...arguments)}(fu.onVideoEnded,rP),yield*jf(Ks.setShowAdvert,nP),yield*Yf(aP)}function*lP(e){yield(0,Hf.put)(MN.setIsAllowedChecking(!0));try{const t=!!(yield(0,Hf.call)(kh,tn(),e)).is_reproduce;yield(0,Hf.put)(MN.setIsEmbedAllowed(t)),t||(yield(0,Hf.put)(Ks.setError("REFERER IS NOT ALLOWED")),yield(0,Hf.put)(Ks.setStubType("distribution_error")))}catch(e){yield(0,Hf.put)(MN.setIsEmbedAllowed(!1)),(e instanceof Error||"string"==typeof e)&&(yield(0,Hf.put)(Ks.setError(e.toString()))),yield(0,Hf.put)(Ks.setStubType("distribution_error"))}yield(0,Hf.put)(MN.setIsAllowedChecking(!1))}function*sP(){const{p:e,platform:t,admin_mode:n,quality:r,q:a,resource_id:o,id_website:i,id_distribution:l,yclid_p:s,visitor_id:c}=Zt(window.location.href),u=(()=>{const{pathname:e}=window.location,t=e.split("/").filter(Boolean);if(e.indexOf("embed")>=0&&t.length>=3)return t[t.length-1]})();i?(yield(0,Hf.put)(MN.setDistributor({id_distribution:l,id_website:i})),yield(0,Hf.put)(Ks.setDistributionInfo({id_distribution:l,id_website:i})),yield(0,Hf.call)(lP,i)):yield(0,Hf.put)(MN.setIsEmbedAllowed(!0)),e&&(yield(0,Hf.put)(Ks.setPepper(e))),t&&(yield(0,Hf.put)(Ks.setPlatform(t))),n&&(yield(0,Hf.put)(Ks.setIsAdminMode("true"===n)));const d=a||r;d&&FR(d)&&(yield(0,Hf.put)(Ks.setEmbedQuality(d))),o&&(yield(0,Hf.put)(Ks.setFollowedResourceId(Number(o)))),u&&(yield(0,Hf.put)(Ks.setTrackId(u))),s&&(yield(0,Hf.put)(Ks.setParentYclid(s))),c&&(yield(0,Hf.put)(Ks.setVisitorId(c))),yield(0,Hf.put)(Xo.setIsLoaded(!0))}function*cP(){yield(0,Hf.takeLatest)(Xo.init,sP)}const uP=e=>{const t=oi(Ft);if(t){return JSON.parse(t)[e]}return null},dP=(e,t)=>{let n=oi(Ft);if(n){let r=JSON.parse(n);r={...r,[e]:t},n=JSON.stringify(r),ii(Ft,n)}},fP=e=>{const t={active:e?"1":"0",color:"#ffffff",size:"medium",bgColor:"#000000",bgOpacity:7,savedSubs:{}};ii(Ft,JSON.stringify(t))};function*pP(){try{oi(Ft)||fP();const e=uP("active"),t=uP("color"),n=uP("size"),r=uP("bgColor"),a=uP("bgOpacity"),o=uP("savedSubs");if("string"!=typeof e&&(dP("active","0"),yield(0,Hf.put)(Ks.setCaptionSettingsShow(!1))),"1"===e?yield(0,Hf.put)(Ks.setCaptionSettingsShow(!0)):yield(0,Hf.put)(Ks.setCaptionSettingsShow(!1)),o){const e=Date.now();for(const t in o)o[t].expire<e&&delete o[t];yield(0,Hf.put)(Ks.setSavedCaptions(o)),dP("savedSubs",o)}t&&(yield(0,Hf.put)(Ks.setCaptionSettingsTextColor(t))),n&&(yield(0,Hf.put)(Ks.setCaptionTextSize(n))),r&&(yield(0,Hf.put)(Ks.setCaptionSettingsBackgroundColor(r))),a&&(yield(0,Hf.put)(Ks.setCaptionSettingsBackgroundOpacity(a)))}catch(e){console.info(e)}}function mP(e){let{payload:t}=e;return function*(){try{yield(0,Hf.put)(Ks.setCaptionSettingsShow(!!t)),yield dP("active",t?"1":"0")}catch(e){console.info(e)}}()}function hP(e){let{payload:t}=e;return function*(){try{yield(0,Hf.put)(Ks.setCaptionSettingsTextColor(t)),yield dP("color",t)}catch(e){console.info(e)}}()}function vP(e){let{payload:t}=e;return function*(){try{yield(0,Hf.put)(Ks.setCaptionTextSize(t)),yield dP("size",t)}catch(e){console.info(e)}}()}function yP(e){let{payload:t}=e;return function*(){try{yield(0,Hf.put)(Ks.setCaptionSettingsBackgroundColor(t)),yield dP("bgColor",t)}catch(e){console.info(e)}}()}function gP(e){let{payload:t}=e;return function*(){try{yield(0,Hf.put)(Ks.setCaptionSettingsBackgroundOpacity(t)),yield dP("bgOpacity",t)}catch(e){console.info(e)}}()}function*_P(){try{yield(0,Hf.put)(Ks.resetCaptionSettingToInitial()),fP(!0)}catch(e){console.info(e)}}function bP(e){let{payload:t}=e;return function*(){try{const e=uP("savedSubs")??{};e[t.videoId]=t.subs,yield(0,Hf.put)(Ks.setSavedCaptions(e)),dP("savedSubs",e)}catch(e){console.info(e)}}()}function EP(e){let{payload:t}=e;return function*(){try{const e=uP("savedSubs")??{};delete e[t.videoId],yield(0,Hf.put)(Ks.setSavedCaptions(e)),dP("savedSubs",e)}catch(e){console.info(e)}}()}function wP(e){let{payload:t}=e;return function*(){try{const{playOptionsCaptions:e}=t,n=yield(0,Hf.select)(Dp),r=yield(0,Hf.select)(Ca),a=e.reduce(((e,t,n)=>(t.sub_id?e[t.sub_id]=t:e[n]=t,e)),{});yield(0,Hf.put)(Ks.setPlayerCaptions(a));const o=()=>{if(n){const t=n.sub_id;return a[t]?t:((0,Hf.put)(Ks.deleteSavedSubs({videoId:r})),e[0].sub_id??0)}return e[0].sub_id??0},i=o();yield(0,Hf.put)(Ks.setActiveCaption(a[i]))}catch(e){console.info(e)}}()}function*AP(){yield(0,Hf.takeLatest)(Ks.initCaptions,pP),yield(0,Hf.takeLatest)(Ks.setCaptionVisibility,mP),yield(0,Hf.takeLatest)(Ks.setCaptionColor,hP),yield(0,Hf.takeLatest)(Ks.setCaptionSize,vP),yield(0,Hf.takeLatest)(Ks.setCaptionBackgroundColor,yP),yield(0,Hf.takeLatest)(Ks.setCaptionBackgroundOpacity.type,gP),yield(0,Hf.takeLatest)(Ks.resetCaptionSettings,_P),yield(0,Hf.takeLatest)(Ks.setSavedSubs,bP),yield(0,Hf.takeLatest)(Ks.deleteSavedSubs,EP),yield(0,Hf.takeLatest)(Ks.setAllAndActiveCaptionsState,wP)}const SP=function(e){let{event:t,params:n}=e;return function*(){try{const e=yield(0,Hf.getContext)("raichuCounterHelper");if(e){const r=e.get(t);yield(0,Hf.call)(r,n)}}catch(e){console.error(e)}}()};function*CP(){if(!(yield(0,Hf.select)(mp)).length){const e=yield(0,Hf.select)(Io),t=yield(0,Hf.select)(Oo);yield*$f(DR.pushVolume(e?0:t))}if(!(yield(0,Hf.select)(hp)).length){const e=yield(0,Hf.select)(lo);yield*$f(DR.pushSpeed(e))}if(!(yield(0,Hf.select)(yp)).length){const e=yield(0,Hf.select)(Yp);yield*$f(DR.pushQuality(e))}if(!(yield(0,Hf.select)(_p)).length){const e=yield(0,Hf.select)($p);yield*$f(DR.pushSubtitlesLanguage(e))}if(!(yield(0,Hf.select)(Ep)).length){const e=yield(0,Hf.select)(Gp);yield*$f(DR.pushPlayerSize(e))}}function*kP(e){const t=yield(0,Hf.select)(al),n=yield(0,Hf.select)(fp),r=yield(0,Hf.select)(pp),a=yield(0,Hf.select)(dp);n.length>r.length&&(yield*$f(DR.pushRangeEnd(t))),yield*$f(DR.resetNextHbConfig()),yield*SP({event:"businessContentPlaybackHbInterval",params:{config:e}}),yield*$f(DR.cleanUp()),a===RR.PLAY&&(yield*$f(DR.pushRangeStart(t)),yield*$f(DR.pushPlaybackAction(RR.PLAY)))}function*TP(){let e=yield(0,Hf.select)(Ka);for(;!e;)yield Uf(Ks.setPlaying),e=yield(0,Hf.select)(Ka)}function*xP(e){return(yield(0,Hf.select)(Lb,e)).map((e=>{let{count:t,start:n,delay:r}=e;return{count:t,start:n,delay:r}})).filter(((e,t,n)=>t===n.findIndex((t=>{let{count:n,start:r,delay:a}=t;return n===e.count&&r===e.start&&a===e.delay})))).sort(((e,t)=>e.start-t.start))}function*LP(e){if(yield*TP(),yield*$f(DR.setNextHbConfig(e)),yield(0,Hf.call)(CP),yield Zf(1e3*e.start),!e.delay&&!e.count)return void(yield*kP(e));const t=e.count||Number.POSITIVE_INFINITY;for(let n=0;n<t;++n)yield*kP(e),yield*TP(),yield(0,Hf.call)(CP),n!==t-1&&(yield*$f(DR.setNextHbConfig(e)),yield Zf(1e3*e.delay))}function RP(e){let{type:t}=e;return function*(){if(yield $f(DR.cleanUp()),t===Ks.reset.type)return;const e=yield(0,Hf.call)(xP,Zc.HB_INTERVALS);for(const t of e)yield*LP(t)}()}function*NP(){if("undefined"==typeof window)return;const e=(0,PN.eventChannel)((e=>(window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e))));yield function*(){return yield(0,Hf.race)(...arguments)}([Uf(e),Uf([fu.onPlayerUnmount.type,Ks.setVideoId.type])]),yield*$f(DR.setFinal(!0));const t=yield(0,Hf.select)(up);t&&(yield*kP(t));if(!(yield(0,Hf.select)(dp))){yield*$f(DR.pushPlaybackAction(RR.STOP));const e=yield(0,Hf.select)(al);yield*$f(DR.pushRangeStart(e)),yield*$f(DR.pushRangeEnd(e))}yield*$f(DR.setFinal(!0)),yield*SP({event:"businessPlayerLifecycleUnload"})}function*PP(){yield*$f(DR.setFinal(!0))}function*IP(){yield*Wf([Ks.startPlay.type,Ks.reset.type],RP),yield*Wf(Ks.startPlay,NP),yield*Wf(fu.onVideoEnded,PP)}function*OP(){try{const e=yield(0,Hf.call)(Ah);yield(0,Hf.put)(Ks.setEmbedConfig(e))}catch(e){console.warn("Не удалось загрузить конфиг")}}function*MP(){yield(0,Hf.takeLatest)(Ks.loadEmbedConfig,OP)}function DP(e){let{payload:t}=e;return function*(){const{videoId:e,playlistId:n}=t,r=yield(0,Hf.select)(Ta);try{const t=yield(0,Hf.call)(Ch,e,r?"player":"wdp",20,n);(t.next_video||t.recommendation)&&(yield(0,Hf.put)(Ks.setEndScreenContent(t)))}catch(e){console.error("getEndscreenVideoError:",e)}}()}function*FP(){yield(0,Hf.takeLatest)(du.getEndScreenContent,DP)}function VP(e){let{payload:t}=e;return function*(){const{videoId:e,incrementIndex:n,replay:r,autoStart:a}=t,o=Zt(window?.location?.href);try{const t=Ld(),i=yield(0,Hf.call)((()=>bh((async(e,t)=>{const n=Zt(window.location.href),r=n.hasOwnProperty("referer")?n.referer||"":tn(),a={no_404:!0,p:n.p,quality:n.quality?1:void 0,admin_mode:n.admin_mode?1:void 0,platform:n.platform,referer:r,pver:"v2",client:"wdp"};t&&(a.yclid=t);const o=Qt(a);return(await fetch(`${Eh()}/api/play/options/${e}/?${o.toString()}`,{headers:{ClientIP_TZ:Ud()}})).json()})(e,t))));if(i.stat_api=(i.stat_api||[]).reduce(((e,t)=>{const n=Cd(t.method_str);return n&&e.push({...t,callbackParams:n}),e}),[]),(e=>{e.forEach((e=>{const t=e.callbackParams&&"boolean"!=typeof e.callbackParams&&e.callbackParams.counterId;t&&!kd(t)&&Td(t)}))})(i.stat_api),yield(0,Hf.put)(Ks.setStatistics(is(i))),yield(0,Hf.put)(Ks.setPlayOptions(i)),a&&(yield(0,Hf.put)(Ks.setPlayOptionsAutoplay(!0)),i.live_streams?.hls||(yield(0,Hf.put)(Ks.setStartTime(a)))),i.appearance?.auto_start||(yield(0,Hf.put)(Ks.setShowControls(!0))),!1!==n&&(yield(0,Hf.put)(Ks.incrementMovieIndex())),r){const e=yield(0,Hf.select)(ol);yield(0,Hf.put)(Ks.startPlay(e))}o&&void 0!==o.getPlayOptions&&((e,t)=>{const n={},r=e.getPlayOptions;""!==r?(r.split(",").forEach((e=>{t[e]&&(n[e]=t[e])})),fc(zt.PLAYOPTIONS_LOADED,n)):fc(zt.PLAYOPTIONS_LOADED,t)})(o,i)}catch(e){yield(0,Hf.put)(Ks.setStubType("error")),"string"==typeof e&&(yield(0,Hf.put)(Ks.setError(e.toString())))}}()}function*BP(){yield(0,Hf.put)(Ks.setIsStartStatEventSend(!0)),yield(0,Hf.put)(Ks.trackStat({eventName:Gc.START})),yield(0,Hf.put)(Ks.setEndReached(!1)),yield(0,Hf.put)(Ks.setEnded(!1))}function*HP(){yield(0,Hf.takeLatest)(Ks.loadPlayOptions,VP),yield(0,Hf.takeEvery)(Ks.startPlay,BP)}function UP(e){let{payload:t}=e;return function*(){try{const e=yield(0,Hf.select)(za);if(t){const n=((e,t)=>{const n=oi("playerMode");switch(e){case"cinema":return t===e||n===e&&"fullscreen"===t?"default":e;case"fullscreen":case"mini":return t===e?n:e;default:return e}})(t,e);["default","cinema"].includes(n)&&ii("playerMode",n),yield*function*(e){if("fullscreen"===e){Kb(yield(0,Hf.select)(Ua))}else li(Qb)===String(!0)&&(window.screen?.orientation?.unlock(),ci(Qb))}(n),yield(0,Hf.put)(Ks.changePlayerMode(n)),yield(0,Hf.put)(Ks.sendYm({statEventType:Zc.SCREEN_MODE}))}const n=oi("playerMode");t||n===e||(yield(0,Hf.put)(Ks.changePlayerMode(n||"default")),yield(0,Hf.put)(Ks.sendYm({statEventType:Zc.SCREEN_MODE})))}catch(e){console.info(e)}}()}function jP(e){let{payload:{level:t,keepLevel:n}}=e;return function*(){try{const e=yield(0,Hf.select)(xa);if((-1===t||e)&&n)ii(Ht,_a);else{const e=(yield(0,Hf.select)(Ra)).find((e=>e.level===t));e&&n&&ii(Ht,parseInt(zs(e.height,e.width)).toString())}}catch(e){console.info(e)}}()}function WP(e){let{payload:{level:t}}=e;return function*(){const e=yield(0,Hf.select)(xa),n=yield(0,Hf.select)(Ra);if(n.length){const r=n.find((e=>e.level===t));fc(zt.CURRENT_QUALITY,{quality:{height:"number"==typeof r?.height?r.height:0,quality:r?parseInt(zs(r.height,r.width)).toString():0,isAutoQuality:e}})}}()}function*$P(){try{const e=yield(0,Hf.select)(pl);si("raichu-viewed-time",String(e))}catch(e){console.info(e)}}function*zP(){try{const e=yield(0,Hf.select)(pl);si("last-tt-midroll-time",String(e))}catch(e){console.info(e)}}function YP(e){let{payload:t}=e;try{ii(Ut,t?"1":"")}catch(e){console.info(e)}}function*GP(){yield function*(){try{const e="1"===oi(Ut);yield(0,Hf.put)(Ks.setPauseRecsHidden(e))}catch(e){console.info(e)}}(),yield(0,Hf.takeEvery)(Ks.setPauseRecsHidden,YP),yield(0,Hf.takeLatest)(Ks.setPlayerMode,UP),yield(0,Hf.takeEvery)(Ks.setActiveQuality,WP),yield(0,Hf.takeEvery)(Ks.setActiveQuality,jP),yield(0,Hf.takeEvery)(Ks.incrementTVT,$P),yield(0,Hf.takeEvery)(Ks.setLastTtMidrollTime,zP)}function*ZP(){const e=yield*Gf(fl),t=yield*Gf(Eo);if(null!==t){const n=Math.floor(e/100*t);yield $f(Ks.setPreviewTime(n))}}function*QP(){yield Wf(Ks.setPreviewPosition,ZP)}const KP="puid_segments",qP=async()=>{try{const e=await fetch("https://pretarg.adhigh.net/v1/segs",{credentials:"include"});return(await e.json()).segs}catch(e){return console.warn("fetchSegments",e),[]}};function*XP(){const e=Ae.get(KP);if(e)yield(0,Hf.put)(Ks.setPuidSegments(e));else{const e=(yield(0,Hf.call)(qP)).join(":");yield(0,Hf.put)(Ks.setPuidSegments(e)),yield Ae.set(KP,e,{expires:1})}}function*JP(){yield(0,Hf.takeLatest)(Ks.initPuidSegments,XP)}const eI="raichu-playback-rate";function*tI(){try{const e=oi(eI);let t=e?parseFloat(e):1;(isNaN(t)||t<.25||t>2)&&(t=1),yield(0,Hf.put)(Ks.initActiveRate(t))}catch(e){console.info(e)}}function nI(e){let{payload:t}=e;return function*(){try{ii(eI,t.toString()),yield(0,Hf.put)(Ks.sendYm({statEventType:Zc.SPEED}))}catch(e){console.info(e)}}()}function*rI(){yield(0,Hf.fork)(tI),yield(0,Hf.takeEvery)(Ks.setActiveRate,nI)}function aI(e){let{payload:t}=e;return function*(){try{const{buttonType:e,clickedUrl:n,nextVideoId:r,advertName:a,rewindDirection:o,rewindType:i,clickedItemTitle:l,socialNetwork:s,...c}=t.extraParams||{},u=yield(0,Hf.select)((e=>e)),d=t.callbackParams,f={buttonType:e,clickedUrl:n,advertName:a,rewindDirection:o,rewindType:i,clickedItemTitle:l,socialNetwork:s,rawMacros:c};if(d){const e=Cd(t.method_str);e&&(e.params=JSON.parse(Jp(u,JSON.stringify(e.params),f)),e.params={...em(u.player,e.params),...c},xd(e))}else{const e={url:Jp(u,t.url_template,f),body:t.body?Jp(u,t.body,f):"",method:t.method};Nd(e)}}catch(e){console.info(e)}}()}function oI(e){let{payload:{statEventType:t,params:n}}=e;return function*(){try{const e=yield(0,Hf.select)(ss);e[t]&&(yield(0,Hf.all)(e[t].map((e=>{const t={...e};return n&&(t.extraParams=n),(0,Hf.call)(aI,{type:Ks.sendStat.type,payload:t})}))))}catch(e){console.info(e)}}()}function iI(e){let{payload:{buttonType:t,clickedUrl:n}}=e;return function*(){try{yield(0,Hf.put)(Ks.sendYm({statEventType:Zc.CLICK_EVENT,params:{buttonType:t,clickedUrl:n}}))}catch(e){console.info(e)}}()}function lI(e){let{payload:t}=e;return function*(){const e=yield(0,Hf.select)((e=>e));tm([t],e)}()}function sI(e){let{payload:t}=e;return function*(){const e=yield(0,Hf.select)((e=>e)),n=e.player,r=t.eventName,a=t.advertName||"",o=a.replace(/\d/gi,"");yield(0,Hf.put)(Ks.registerStatLaunch(t));const i=n.statistics,l=i?.[r];if(!l||!l.length)return;const s=l.filter((e=>!Yc.includes(e.name)||(0===e.count||e.count>=n.statsEventsLaunches[e.name])));if(!s||!s.length)return;const c={type:o,advertName:a,campaignId:t.campaignId,buttonType:t.buttonType,clickedUrl:t.clickedUrl};tm(s,e,c)}()}function*cI(){yield(0,Hf.takeEvery)(Ks.sendStat,aI),yield(0,Hf.takeEvery)(Ks.sendYm,oI),yield(0,Hf.takeEvery)(Ks.trackIntervalEvent,lI),yield(0,Hf.takeEvery)(Ks.sendClickEvent,iI),yield(0,Hf.takeEvery)(Ks.trackStat,sI)}function uI(){try{return JSON.parse(oi(Bt)||"{}")}catch(e){return console.warn(e),{}}}const dI=function(){let e=null;return function(t){e!==t&&(e=t,(e=>{const t=document.getElementById(`id_${e}`);t&&t.remove(),void 0===window.__GetI&&(window.__GetI=[]);const n={type:"CONVERSION",site_id:"6934",order:[],transaction_id:"",revenue:"",pixel_id:e};window.__GetI.push(n);const r=void 0===window.__GetI_domain?"px.adhigh.net":window.__GetI_domain,a=("https:"===document.location.protocol?"https://":"http://")+r+"/p.js",o=document.createElement("script");o.type="text/javascript",o.src=a,o.id=`id_${e}`;const i=document.getElementsByTagName("script")[0];i.parentNode?.insertBefore(o,i)})("Rutube_play"))}}();function fI(e){return e.progress&&e.progress>=100?0:e.seconds}function pI(e){let{payload:t}=e;return function*(){try{if("number"!=typeof t)return;const e=yield(0,Hf.select)(fl),n=t/e*100;Number.isFinite(n)&&(yield(0,Hf.put)(Ks.setProgress(n))),yield(0,Hf.put)(Ks.setTime(t));const r=yield(0,Hf.select)(Co),a=yield(0,Hf.select)(Ca);if(r&&a){if(!Number.isFinite(e)&&!Number.isFinite(n))return;yield(0,Hf.put)(pu.saveVideoHistoryById({videoId:a??"",progress:n,seconds:t}))}const o=yield(0,Hf.select)(Ta);n>.1&&a&&!o&&dI(a)}catch(e){console.info(e)}}()}function mI(e){let{payload:t}=e;return function*(){try{if("number"!=typeof t)return;const e=(yield(0,Hf.select)(nl))/t*100,n=yield(0,Hf.select)(cl);Number.isFinite(e)&&e>n&&(yield(0,Hf.put)(Ks.setProgress(e))),yield(0,Hf.put)(Ks.setDuration(t))}catch(e){console.info(e)}}()}function*hI(e,t,n){const r=function(e){const t=uI();return t[e]?t[e]:void 0}(e);let a;return null!==n&&(a=yield(0,Hf.call)(eN,e,t)),null!==n&&a||!r?a&&!r?yield(0,Hf.call)(fI,a):a&&r?r.date>a.date?yield(0,Hf.call)(fI,r):yield(0,Hf.call)(fI,a):void 0:yield(0,Hf.call)(fI,r)}function*vI(e){const t=yield(0,Hf.select)(Ta),n=yield(0,Hf.select)(zi),r=yield(0,Hf.select)(fl),a=!(yield(0,Hf.select)(po))&&!t&&!n&&e>60&&r>300&&r-e>=8;yield(0,Hf.put)(Ks.setShouldShowStartButton(a))}function yI(e){let{payload:t}=e;return function*(){try{const{videoId:e,isLive:n,isPlayerReady:r,playOptions:a,forcedTime:o}=t;if(n)return;let i;const l="number"==typeof o,s=new URL(window.location.href).searchParams,c=yield(0,Hf.select)(fl),u=yield(0,Hf.select)(Mo),d=s.get("t")||"",f=parseInt(d,10)||null,p=s.get("stopTime")||s.get("endTime")||"",m=parseInt(p,10)||null;l&&(i=o),!e||!r||n||f||l||(i=yield(0,Hf.call)(hI,e,a,u)),"number"!=typeof f||l||(i=f),"number"==typeof i&&(i<=c-15&&i/c<=.9||f||l)?(yield(0,Hf.put)(Ks.setStartTime(i)),yield(0,Hf.call)(vI,i)):yield(0,Hf.put)(Ks.setStartTime(0)),"number"==typeof m&&m>(i||0)&&(yield(0,Hf.put)(Ks.setStopTime(m)))}catch(e){console.info(e)}}()}function*gI(){yield(0,Hf.takeLatest)(Ks.setTimeAndProgress,pI),yield(0,Hf.takeLatest)(Ks.setDurationAndProgress,mI),yield(0,Hf.takeLatest)(Ks.getPlaybackTimings,yI)}function _I(){try{(()=>{const e=oi(Bt);if(e){const t=JSON.parse(e);for(const e in t)Date.now()-t[e].date>=2592e6&&delete t[e];ii(Bt,JSON.stringify(t))}else ii(Bt,JSON.stringify({}))})()}catch(e){console.info(e)}}function bI(e){let{payload:t}=e;try{const{videoId:e,progress:n,seconds:r}=t,a={...uI(),[e]:{videoId:e,progress:n,seconds:r,date:Date.now()}};ii(Bt,JSON.stringify(a))}catch(e){console.info(e)}}function*EI(){yield(0,Hf.takeLatest)(pu.initUserHistory,_I),yield(0,Hf.takeLatest)(pu.saveVideoHistoryById,bI)}function wI(e){let{payload:t}=e;try{ii(Vt,t?"1":"0")}catch(e){console.info(e)}}function*AI(){yield function*(){try{if("undefined"==typeof window)return;if(!Kt()){const e=oi(Vt),t=!e||!["0","1"].includes(e)||"1"===e;yield(0,Hf.put)(Ks.setAutoplay(t))}}catch(e){console.info(e)}}(),yield(0,Hf.takeEvery)(Ks.setAutoplay,wI)}function SI(e){let{payload:t}=e;return function*(){const{season:e,offset:n}=t,r=yield*Gf(Jl),a=r?.video_id;if(a)try{const t=yield*zf((()=>(async e=>{let{videoId:t,season:n,offset:r,limit:a=10}=e;const o=Qt({limit:a,offset:r}),i=await fetch(`${wh()}/serial/${t}/${n}/?${o.toString()}`),l=await i.json();return 204===i.status?{message:IS}:l})({videoId:a,season:e,offset:n,limit:19})));"message"in t?yield $f(xC.fetchError(t)):yield $f(xC.fetchSuccess(t))}catch(e){yield $f(xC.fetchError())}else yield $f(xC.fetchError())}()}function CI(e){let{payload:t}=e;return function*(){const{url:e}=t;if(e)try{const t=yield*zf((()=>(async e=>{let{url:t}=e;const n=await fetch(t),r=await n.json();return 204===n.status?{message:IS}:r})({url:e})));"message"in t?yield $f(xC.fetchError(t)):yield $f(xC.fetchSuccess(t))}catch(e){yield $f(xC.fetchError())}else yield $f(xC.fetchError())}()}function kI(e){let{payload:t}=e;return function*(){yield $f(xC.fetchRequest({season:t,offset:-2}))}()}function*TI(){for(;;){yield*Uf(xC.loadDefaultSeason);const e=yield*Gf(WA);(yield*Gf(YA)).meta.season!==e&&(yield $f(xC.fetchRequest({season:e,offset:-2})))}}function*xI(){const e=yield*Gf(YA),{hasPrevious:t,previous:n}=e.meta;t&&n&&(yield $f(xC.fetchRequestByUrl({url:n,type:"prev"})))}function*LI(){const e=yield*Gf(YA),{hasNext:t,next:n}=e.meta;t&&n&&(yield $f(xC.fetchRequestByUrl({url:n,type:"next"})))}function*RI(){yield*Wf(xC.fetchRequest,SI),yield*Wf(xC.fetchRequestByUrl,CI),yield*Wf(xC.loadSeason,kI),yield*Wf(xC.loadPrev,xI),yield*Wf(xC.loadMore,LI),yield*Yf(TI)}function*NI(){const e=yield*Gf(Jl),t=e?.video_id;if(t)try{const e=yield*zf((()=>(async e=>{let{videoId:t}=e;const n=await fetch(`${wh()}/serial/${t}`);return 204===n.status?{message:"Серийный контент не найден"}:await n.json()})({videoId:t})));"message"in e?yield $f($N.fetchError(e)):(yield $f($N.fetchSuccess(e)),yield $f(xC.loadDefaultSeason()))}catch(e){yield $f($N.fetchError())}else yield $f($N.fetchError())}function*PI(){for(;;){yield*Uf($N.loadInitial);const e=yield*Gf(Jl);yield $f($N.fetchRequest({videoId:e?.video_id}))}}function*II(){yield*jf($N.fetchRequest,NI),yield*Yf(PI)}function*OI(){(yield*Gf(VA))&&(yield*$f($N.loadInitial()))}function*MI(){yield*Wf(Ks.setPlayOptions,OI),yield*Yf(II),yield*Yf(RI)}function*DI(){yield(0,Hf.fork)(cP),yield(0,Hf.fork)(AI),yield(0,Hf.fork)(rI),yield(0,Hf.fork)(GP),yield(0,Hf.fork)(HP),yield(0,Hf.fork)(MP),yield(0,Hf.fork)(MI),yield(0,Hf.fork)(cI),yield(0,Hf.fork)(gI),yield(0,Hf.fork)(JP),yield(0,Hf.fork)(FP),yield(0,Hf.fork)(AP),yield(0,Hf.fork)(EI),yield(0,Hf.fork)(IP),yield(0,Hf.fork)(iP),yield(0,Hf.fork)(ip),yield(0,Hf.fork)(ep),yield(0,Hf.fork)(QP)}const FI=(()=>{const e=IN(),t=Or({reducer:YN,devTools:!1,middleware:t=>t({thunk:!1}).concat(e)});return e.run(DI),e.setContext({raichuCounterHelper:Hb(t)}),t})(),VI=e=>{let{touchedRef:t,progressBarRef:n,providerRef:r,setSeek:a}=e;const o=xi(),i=e=>{if("progressBar"!==t.current)return;const o=NN({event:e,ref:n,providerRef:r});a(o,!0)},l=()=>{"progressBar"===t.current&&Pi((()=>{a(ol(FI.getState())),o(Ks.setTemporaryTime(null))})),t.current=null,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l)};return KR({element:n.current,onDown:()=>{document.addEventListener("mousemove",i),document.addEventListener("mouseup",l)}}),{handleMouseUp:l}},BI={nextPlayerConfig:null},HI={player:"HTML5",appVersion:"@rutube/raichu-embed@1.90.0-embed"},UI={production:{embed:{android:"47f3",ios:"5d5d",default:"7fd0"},web:{android:"29b0",ios:"a7d6",default:"fe73"}},development:{embed:{android:"8b85",ios:"d002",default:"592a"},web:{android:"a7cf",ios:"4294",default:"3921"}}},jI=[0,144,240,360,480,720,1080,1440,2160,3072];n(2946);const WI=e=>UI.production[e?"embed":"web"][Oi()?"ios":Di()?"android":"default"],$I=e=>()=>{const t=e.instance?.currentLevel,n=e.instance?.levels,r=n&&void 0!==t?n[t]:void 0,a=r?.bitrate||0;return Math.floor(a/100)},zI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,r=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),String(4294967296*(2097151&r)+(n>>>0))},YI=e=>{let{provider:t,videoElement:n}=e;const r=t.instance?.levels,a=t.instance?.currentLevel,o=r&&void 0!==a?r[a]:void 0,i=Ni(Ca),l=Ni((e=>e.player.UUID)),s=Ni(Ka),c=Ni(qa),u=Ni(so),d=Ni(Ta),f=((e,t)=>e?100:t?jI.findLastIndex((e=>e<=t)):0)(Ni(xa),o?.height),{edge:p=""}=Ih(o),m=(0,it.useRef)(),h=ki();return(0,it.useEffect)((()=>{if(!t||!i||!n||m.current||u)return;const e=window.Hls?.isSupported?.();return m.current=(async(e,t)=>(await yu("https://api.vigo.one/html5/Vigo.min.js","initVigo"))(e,t))(n,{...HI,svcid:WI(d),cid:l.replaceAll("-",""),wid:Re().replaceAll("-",""),quality:f,host:p,getBytes:e?()=>{return e=h.getState(),Aa(e).bytesLoadedForCurrentVideo;var e}:()=>null,getBitrate:e?$I(t):()=>null,contentId:i,deviceId:zI(window.navigator.userAgent)}),()=>{m.current&&m.current.then((e=>e.endPlayback())).catch((e=>console.warn(e))),m.current=void 0}}),[i,t,n,u]),(0,it.useEffect)((()=>{c&&m.current&&m.current.then((e=>e.startPlayback())).catch((e=>console.warn(e)))}),[c]),(0,it.useEffect)((()=>{u&&m.current&&(m.current.then((e=>e.endPlayback())).catch((e=>console.warn(e))),m.current=void 0)}),[u]),(0,it.useEffect)((()=>{m.current&&c&&(s?m.current.then((e=>e.resumeCollecting())).catch((e=>console.warn(e))):m.current.then((e=>e.suspendCollecting())).catch((e=>console.warn(e))))}),[s,c]),(0,it.useEffect)((()=>{m.current&&m.current.then((e=>e.bitrateChange(f))).catch((e=>console.warn(e)))}),[f]),(0,it.useEffect)((()=>{m.current&&m.current.then((e=>e.updateHost(p))).catch((e=>console.warn(e)))}),[p]),null},GI="object"==typeof navigator&&"mediaSession"in navigator,ZI=e=>e.shiftKey||e.metaKey||e.ctrlKey||e.altKey,QI=uu(),KI=e=>{e.preventDefault(),e.stopPropagation()},qI={KeyP:!0,KeyN:!0,ArrowLeft:!0,ArrowRight:!0},XI=(e,t,n,r)=>{const{handlePlay:a,handlePrevSeek:o,handleNextSeek:i,handleMuted:l,handleFullScreen:s,handleVolumeChange:c,handlePlayerMode:u,handleMiniPlayer:d,handleClickDefaultPlayer:f,onClickCloseMiniPlayer:p,handlePrevPlaylistVideo:m,handleNextPlaylistVideo:h,handleNextVideo:v,seekTo:y}=t;if(ZI(e)&&!qI[e.code])return;const g=n.store.getState(),{dispatch:_}=n.store,b=zi(g),E=as(g),w=Ja(g),A=Io(g),S=aa(g),C=oa(g),k=Wo(g),T=so(g);if(C&&e.code!==ha.SPACE_BAR)return;const x=()=>{_(Ks.clearInfoIcon())},L=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=sl(g),n=fl(g),r=Math.round(n*t/100),a=e?[...gl(g)].reverse():gl(g);if(1===a.length)return{};const o=a.find((t=>{let{start:n}=t;return e?n<r-.8:n>r}));if(!o)return{};const{start:i,name:l}=o;return{time:i,label:`${bA({value:i})} — ${l}`}};switch(e.code){case ha.SPACE_BAR:KI(e),k.includes(ha.SPACE_BAR)||a("user");break;case"KeyK":KI(e),a("user");break;case"KeyL":case"ArrowRight":if(E||S||T)break;if(KI(e),!e.shiftKey&&n.wasStarted)_(Ks.setInfoIcon({icon:qc.NEXT_SEEK})),i(10);else{const{time:e,label:t}=L();void 0!==e&&(_(Ks.setInfoIcon({icon:qc.SEEK_TO_NEXT_TIME_MARK,label:t})),y(e))}break;case"KeyJ":case"ArrowLeft":if(E||S||T)break;if(KI(e),!e.shiftKey&&n.wasStarted)_(Ks.setInfoIcon({icon:qc.PREV_SEEK})),o(10);else{const{time:e,label:t}=L(!0);void 0!==e&&(y(e),_(Ks.setInfoIcon({icon:qc.SEEK_TO_PREV_TIME_MARK,label:t})))}break;case"ArrowUp":case"ArrowDown":if(UE(g))break;if("mini"!==za(g)&&(QI.isFullscreen||document.activeElement===n.wrapper.current||n.wrapper.current?.contains(document.activeElement))){KI(e);const t=Oo(g);if("ArrowUp"===e.code){const e=Math.floor(Math.min(t+5,100));c(e),_(Ks.setInfoIcon({icon:qc.VOLUME_UP,label:`Громкость ${e}%`}))}else{const e=Math.floor(Math.max(t-5,0));c(e),_(e?Ks.setInfoIcon({icon:qc.VOLUME_DOWN,label:`Громкость ${e}%`}):Ks.setInfoIcon({icon:qc.MUTE,label:"Звук выключен"}))}}break;case"KeyC":if(Cp(g)){const e=xp(g);_(Ks.setInfoIcon({label:`Субтитры в${e?"ы":""}ключены`})),_(Ks.setCaptionVisibility(!e))}break;case"KeyM":KI(e),l(!A),_(Ks.setInfoIcon({label:`Звук в${A?"":"ы"}ключен`,icon:A?qc.UNMUTE:qc.MUTE}));break;case"KeyF":case"Escape":x(),"Escape"!==e.code||QI.isFullscreen?(KI(e),w||(u("fullscreen"),setTimeout((()=>{s()}),0))):"Escape"===e.code&&("mini"===za(g)?(KI(e),u("mini"),p()):UE(g)&&(KI(e),_(Ks.setActivePanel(null))));break;case"KeyP":e.shiftKey&&xo(g)&&m&&(KI(e),m());break;case"KeyN":e.shiftKey&&(xo(g)?(KI(e),h&&h()):Jg(g)&&v());break;case"KeyT":"mini"!==za(g)&&(KI(e),uu().isFullscreen&&s(),u("cinema")),x();break;case"Comma":case"Period":KI(e),(()=>{if(b)return;const t=Bs(g),n=lo(g),r=t.findIndex((e=>e===n));if(!(0===r&&"Comma"===e.code||r===t.length-1&&"Period"===e.code)){const n=t[r+("Period"===e.code?1:-1)];_(Ks.setInfoIcon({label:`Скорость воспроизведения: ${100*n}%`,shortLabel:`Скорость: ${n}`})),_(Ks.setActiveRate(n))}})();break;case"KeyI":e_(g)&&(x(),KI(e),"mini"===za(g)?f():d())}},JI=(e,t)=>{const n=ki(),{enabled:r,isUserPlayFired:a,wasStarted:o,isPlaying:i}=t,l=((0,it.useContext)(mu),Ni(Oo));(0,it.useEffect)((()=>{const a=a=>{try{const o=a.target,i={...t,store:n};!(e=>{const t=e.nodeName.toLowerCase();return"true"===e.contentEditable||t.indexOf("input")>=0||t.indexOf("textarea")>=0})(o)&&r&&(((e,t,n)=>{const{dispatch:r}=n.store;if(!ZI(e)&&(a=e.code,/^Digit[0-9]$/.test(a))){const a=n.store.getState(),o=parseInt(e.key.replace("Digit",""),10),i=fl(a);if(!i||i<=0)return;e.preventDefault(),e.stopPropagation();const{handleSeek:l}=t;l(o>0?o*Math.ceil(i/10):0),r(Ks.setInfoIcon({label:10*o+"%"}))}var a})(a,e,i),XI(a,e,i))}catch(e){console.error(e)}};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}}),[r,a,o,i,l,e.handlePrevPlaylistVideo,e.handleNextPlaylistVideo,e.handleClickDefaultPlayer,e.onClickCloseMiniPlayer])},eO="object"==typeof navigator&&"mediaSession"in navigator;var tO=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),nO="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,rO=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),aO="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(rO):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var oO=["top","right","bottom","left","width","height","size","weight"],iO="undefined"!=typeof MutationObserver,lO=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&l()}function i(){aO(o)}function l(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);a=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){nO&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),iO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){nO&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;oO.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),sO=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},cO=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||rO},uO=vO(0,0,0,0);function dO(e){return parseFloat(e)||0}function fO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+dO(e["border-"+n+"-width"])}),0)}function pO(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return uO;var r=cO(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=dO(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,l=dO(r.width),s=dO(r.height);if("border-box"===r.boxSizing&&(Math.round(l+o)!==t&&(l-=fO(r,"left","right")+o),Math.round(s+i)!==n&&(s-=fO(r,"top","bottom")+i)),!function(e){return e===cO(e).document.documentElement}(e)){var c=Math.round(l+o)-t,u=Math.round(s+i)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(s-=u)}return vO(a.left,a.top,l,s)}var mO="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof cO(e).SVGGraphicsElement}:function(e){return e instanceof cO(e).SVGElement&&"function"==typeof e.getBBox};function hO(e){return nO?mO(e)?function(e){var t=e.getBBox();return vO(0,0,t.width,t.height)}(e):pO(e):uO}function vO(e,t,n,r){return{x:e,y:t,width:n,height:r}}var yO=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vO(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=hO(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),gO=function(e,t){var n,r,a,o,i,l,s,c=(r=(n=t).x,a=n.y,o=n.width,i=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),sO(s,{x:r,y:a,width:o,height:i,top:a,right:r+o,bottom:i+a,left:r}),s);sO(this,{target:e,contentRect:c})},_O=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new tO,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof cO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new yO(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof cO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new gO(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),bO="undefined"!=typeof WeakMap?new WeakMap:new tO,EO=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=lO.getInstance(),r=new _O(t,n,this);bO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){EO.prototype[e]=function(){var t;return(t=bO.get(this))[e].apply(t,arguments)}}));const wO=void 0!==rO.ResizeObserver?rO.ResizeObserver:EO;const AO=()=>{const e=xi(),t=(0,it.useRef)(null),n=(0,it.useCallback)((n=>{if(n){const r=function(e,t){var n=this;let r;return function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];clearTimeout(r),r=setTimeout((()=>e.apply(n,o)),t)}}((()=>{Pi((()=>{e(Ks.setPlayerSize({width:n.offsetWidth,height:n.offsetHeight}));const{x:t,y:r}=n.getBoundingClientRect();e(Ks.setPlayerCoordinates({x:t,y:r}))}))}),100);t.current=new wO(r),t.current.observe(n)}}),[e]);return(0,it.useEffect)((()=>()=>{t.current&&t.current.disconnect()}),[]),n},SO=(e,t)=>e.reduce(((e,n)=>(e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e)),{}),CO=()=>{};let kO=!1,TO=!1,xO=null;const LO=e=>{let{videoNode:t,advertNode:n,videoId:r,trackId:a,playlistId:o,pepper:i,isEmbed:l,playerUrl:s,playerMode:c,isShowControls:u,timeForcedChanged:d,isAutoplayAllowed:f,isShowPlaylistButtons:p,followedLink:m,followedResourceId:h,onClickPrevVideo:v,onClickNextVideo:y,onRecommendationClick:g,onClickCloseMiniPlayer:_=CO,onClickDefaultPlayer:b=CO,subscriptionsHandler:E=CO,updateCurrentTime:w=CO,currentTimeUpdateRequested:A=!1,onPlayerReady:S,userId:C,isUserSubscribed:k,onSubscribeClick:T=CO,onChangePlayerState:x,onChangePlayerLiveInfo:L,forcedTime:R,hiddenControls:N=!1,prevVideo:P,nextVideo:I,allowVetricalTouchScroll:O,disabledFeatures:M=[],interactiveFragments:D,isPlaybackDisabled:F,paidSubscription:V,chaptersComponent:B}=e;(0,it.useMemo)((()=>{window.__rutube?window.__rutube.internalTs=Date.now():window.__rutube={internalTs:Date.now()}}),[]);const H=ki(),U=vd(),[j,W]=(0,it.useState)(!1),$=(0,it.useRef)(null),z=AO(),[Y,G]=zc(void 0,!0,.01),Z=(0,it.useRef)(!1),Q=(0,it.useRef)(!1),K=Ni(UE),q=(()=>{const e=(0,it.useRef)({x:null,y:null}),[t,n]=(0,it.useState)(null);return(0,it.useEffect)((()=>{if(!t)return;const n=t=>{const n=t.touches[0];e.current={x:n.pageX,y:n.pageY}},r=t=>{if(null===e.current.x)return;const n=document.documentElement.clientWidth,r=t.touches[0],a=e.current.x,o=r.pageX-a;(a<=35&&o>0||a>=n-35&&o<0)&&t.preventDefault()};return t.addEventListener("touchstart",n),t.addEventListener("touchmove",r),()=>{t.removeEventListener("touchstart",n),t.removeEventListener("touchmove",r)}}),[t]),n})(),X=(0,it.useCallback)((e=>{$.current=e,Y.current=e,q(e),z(e)}),[z,q]),J=Ni(Hs),ee=jb(),te=(0,it.useRef)(null),ne=(0,it.useRef)(null),re=(0,it.useRef)(null),ae=(0,it.useRef)(null),oe=ai.isMobile,ie=yd(Ka),le=yd(Oo),se=Ni(Fa),ce=Ni(vo),ue=yd(za),de=yd(Ns),fe=Ni(so),pe=yd(gc),me=yd(Es),[,he]=yd(bs),ve=yd(eo),ye=uu(),ge=yd(zi),_e=yd(As),be=yd(_s),[Ee,we]=(0,it.useState)(!1),Se=yd(Jl),Ce=Ni(ts),ke=Ni(ns),Te=Ni(rs),xe=yd(go),Le=yd(mo),Ne=Ni(Gi),Pe=Ni(Zi),Ie=Ni(os),Oe=Ni(Eo),Me=yd(ho),Fe=yd(cs),Ve=yd(Io),He=Ni(Ra),Ue=yd(lo),je=Ni(Vd),We=Ni(Lc)&&!1!==f,$e=Ni(Sl),ze=Ni(Dd),[Ye,Ge]=(0,it.useState)(!1),Ze=Ni(qa),[Qe,Ke]=(0,it.useState)(!1),qe=Ni(Os),Xe=Ni(fl)??1,Je=(0,it.useRef)(null),et=(0,it.useRef)(0),tt=Ni(La),nt=yd(Co),rt=Ni(as),at=Ni(ws),ot=Ni(ql),lt=(()=>{const[e,t]=(0,it.useState)(!1),n=(0,it.useRef)(!1),r=Ni(ro);return(0,it.useEffect)((()=>{!n.current&&r?.width&&r?.height&&(n.current=!0,(async()=>await Be())().then((e=>{t(e)})).catch((e=>{console.info(e)})))}),[r,t]),e})(),st=(0,it.useMemo)((()=>{const e=window.navigator.userAgent.toLowerCase();return e.indexOf("tv")>=0||e.indexOf("smarttv")>=0||e.indexOf("smart-tv")>=0||e.indexOf("web0s")>=0}),[]),ct=(0,it.useRef)(null),ut=Ni(uo),dt=Ni(Qa),ft=Ni(Ba),[pt,mt]=(0,it.useState)(!1),[ht,vt]=(0,it.useState)(!1),yt=Ni(Ja),gt=Ni(e_),_t=Ni(Bo),bt=!yt&&Ze&&!ve&&!fe&&null!==_t,Et=!yt&&Ze&&!ve&&!fe,wt=Ni(To),[At,Ct]=(0,it.useState)(!1),kt=Ni(ul),Tt=Ni(dl),[xt,Lt]=(0,it.useState)(!1),Rt=(0,it.useRef)(!1),{isPortrait:Nt}=Vc();((e,t)=>{const[n,r]=(0,it.useState)(!1);(0,it.useEffect)((()=>{if(t&&!n&&e?.video_url&&"object"==typeof document)try{const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e.video_url),document.head.appendChild(t),r(!0)}catch(e){console.error(e)}}),[t,e?.video_url])})(Se,l);const It=(0,it.useRef)(4),[Ot,Dt]=zc(void 0,!0,.5),[Ft,Vt]=(0,it.useState)(!0),[Bt,Ht]=(0,it.useState)(!1),Ut="object"==typeof navigator&&"mediaSession"in navigator,jt=(0,it.useMemo)((()=>J&&ct.current&&!(je||fe)&&"mini"!==ue),[J,ct.current,je,fe,ue]),Wt=(0,it.useMemo)((()=>bt||Et||_t),[Et,bt,_t]),$t=(0,it.useRef)({x:null,y:null,absDeltaY:null,deltaY:null}),[Gt,Qt]=(0,it.useState)(!0),Kt=D&&D.length;(()=>{const e=xi();(0,it.useLayoutEffect)((()=>{gd((()=>{e(Ks.setCanAutoplay(!0))}),(()=>{e(Ks.setCanAutoplay(!1))}))}),[gd])})();const qt=Ni($o),{handleRecommendationClick:Xt,handleNextVideoClick:Jt}=(e=>{let{videoId:t,followedResourceId:n,onRecommendationClick:r}=e;const a=ki(),o=xi(),i=Ni(Ta);return(0,it.useEffect)((()=>{let e=i?null:_C.DEFAULT;BI.nextPlayerConfig?.id===t?e=BI.nextPlayerConfig.resourceId:n&&Object.values(_C).includes(n)&&(e=n),o(Ks.setFollowedResourceId(e)),BI.nextPlayerConfig=null}),[i,t,n]),{handleRecommendationClick:e=>{let{video:t,resourceId:n}=e;r&&(n&&(BI.nextPlayerConfig={id:t.id,resourceId:n}),r({video:t,resourceId:n}))},handleNextVideoClick:(0,it.useCallback)((()=>{const e=Id(a.getState());e?.id&&(o(Ks.sendYm({statEventType:Zc.NEXT_VIDEO,params:{next_video_id:e.id,clickedUrl:e.video_url}})),r&&r({video:e}))}),[a,r])}})({videoId:r,followedResourceId:h,onRecommendationClick:g}),{isTabActive:en}=xN({provider:ct.current}),tn=ie&&!ve&&!ge&&en,nn=!ve&&nt&&!(xe||be);!function(e){const t=xi();t(e?ua(e):ca())}(D),(0,it.useEffect)((()=>{x&&x({playOptions:Se,isPlaying:ie,playerMode:ue})}),[Se,ie,ue]),(0,it.useEffect)((()=>{U(Ks.setPlaylistId(o||null))}),[o]),(0,it.useEffect)((()=>{U(Ks.setDisabledFeatures(M))}),[M]),(0,it.useEffect)((()=>{s&&U(Ks.setPlayerUrl(s))}),[s]),(0,it.useEffect)((()=>{c&&U(Ks.setPlayerMode(c))}),[c]),(0,it.useEffect)((()=>{U(Ks.setShowControls(Boolean(u)))}),[u]),(0,it.useEffect)((()=>{U(Ks.setShowPlaylistBtns(Boolean(p)))}),[p]),(0,it.useEffect)((()=>{l||U(Ks.setVisitorId(Ae.get("visitorID")||""))}),[l]);const rn=(0,it.useCallback)(((e,t)=>{U(Ks.sendYm({statEventType:e,params:t}))}),[]),an=Ni(oa),on=e=>{!an&&U(Ks.setShowControls(e))},ln=(0,it.useCallback)((()=>{b&&b(),U(Ks.setPlayerMode("default"))}),[b,U]),sn=()=>{if(de){const e=Object.keys(de).reduce(((e,t)=>(e[t]=!1,e)),{});U(Ks.setStatEventsShow(e))}};jc((()=>{(Ne||Pe||"stream_access_fail"===Se?.detail?.name)&&Pe!==HR.STATUS_FINISHED&&JR(r||a||"",U,L)}),!(Ce||ke||Te)?15e3:null);jc((0,it.useCallback)((()=>{U(Ks.incrementTVT())}),[U]),tn?1e3:null);const cn=(0,it.useMemo)((()=>"undefined"!=typeof window&&window.location.search.indexOf("player-carousel")>=0),[]);(0,it.useEffect)((()=>{Ce||ke||Te||(Fe||ge||Ie||"stream_access_fail"===Se?.detail?.name)&&JR(r||a||"",U,L)}),[Fe,ge,Se?.detail?.name,r,a,Ce,ke,Ie,Te,L]),(e=>{let{isPlayerReady:t,onPlayerReady:n,isEmbed:r,wrapper:a}=e;const o=xi();(0,it.useEffect)((()=>{if(t){const e=new URLSearchParams(window.location.search),t=e.get("skinColor");t&&o(Ks.setEmbedColor(t));const i=e.get("autoplay")||"";["true","false"].includes(i)&&o(Ks.setPlayOptionsAutoplay("true"===i)),a&&!r&&a.focus(),n&&n()}}),[t])})({isPlayerReady:nt,isEmbed:l,onPlayerReady:S,wrapper:$.current}),(0,it.useEffect)((()=>{$.current?.focus()}),[ue]),(0,it.useEffect)((()=>{if("public"===Ne||Pe===HR.STATUS_FINISHED||Pe===HR.STATUS_BLOCKED){const e=r||a||"";if(e&&(!Se||!he)){const t=`${e}`;setTimeout((()=>{U(Ks.loadPlayOptions({videoId:t}))}),1e3)}}}),[Ne,r,Pe,a,he]),(0,it.useEffect)((()=>{Pi((()=>{U(Ks.setPlayerReady(Boolean(he))),void 0===he&&U(HN.setLoadedTimestamp((new Date).getTime()))}))}),[he]),(0,it.useEffect)((()=>{let e=null;Se?Se?.is_adult&&!Le?e="adult":Se?.detail?.access_url?e="iframed":"common_subscription"===Se?.detail?.type?e="subscription":Se?.detail?e="common":Se?.video_balancer||Se?.video_balancer_vertical||(e="error"):e=null,U(Ks.setStubType(e)),["common","error"].indexOf(e||"")>=0&&U(Ks.setError(`playOptions return stub: ${String(Se?.detail?.name)}`))}),[U,Se,Le]),(0,it.useEffect)((()=>{U(Ks.setFollowedLink(m))}),[m]),(0,it.useEffect)((()=>{U(Ks.setUserId(C))}),[U,C]),(0,it.useEffect)((()=>{U(Ks.setUserSubscribed(Boolean(k)))}),[U,k]),(0,it.useEffect)((()=>{U(Ks.setEmbed(Boolean(l)))}),[U,l]),(0,it.useEffect)((()=>{U(Ks.setUserPaidSubscription(V))}),[V]),(0,it.useEffect)((()=>{Oi()||uu().on("change",(()=>{U(Ks.setFullscreen(uu().isFullscreen))}))}),[U]),(0,it.useEffect)((()=>{i&&U(Ks.setPepper(i))}),[U,i]);const un=(0,it.useMemo)((()=>{if(v)return()=>{P&&rn(Zc.PREV_VIDEO,{previous_video_id:P?.id}),v()}}),[rn,P,v]),dn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!ct.current||e===le)return null;t||(ct.current.setMuted(e<1),ct.current.setVolume(e/100)),Pi((()=>{U(Ks.setVolume(e)),U(Ks.setMuted(e<1))})),cn||(ii("volume",(e/100).toString()),t||ii("muted",ct.current?.getMuted()?"1":"0"))}catch(e){console.error(e)}},fn=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(!ct.current)return null;try{let r=!ct.current.getMuted();const a=ct.current.getVolume()<=.01;if(a&&(r=!1),"boolean"==typeof e&&(r=e),ct.current.setMuted(r),!r&&a&&dn(50),!cn&&t&&ii("muted",r?"1":"0"),U(Ks.setMuted(r)),!oe&&"touch"!==n){const e=ct.current.getMuted();U(Ks.setShowUnmute(e))}if(!Ze&&oe){const e=ct.current.getMuted();U(Ks.setShowUnmute(e))}}catch(e){console.error(e)}};(e=>{let{player:t}=e;const n=t.current,r=Ni(qR),a=Ni(Pa),[o]=Ni(bs),i=Ni(Uo),l=Ni(Ca);(0,it.useEffect)((()=>{const e=()=>{XR||(a?.width&&(r.q_w=a.width),a?.height&&(r.q_h=a.height),o&&(r.tr=o),i&&(r.referral_rutube=i),fc(zt.PLAY_START,r),XR=!0)};return n&&n.addEventListener("play",e),()=>{n&&n.removeEventListener("play",e)}}),[a,o,t,n,i,r]),(0,it.useEffect)((()=>{XR=!1}),[l])})({player:ne});const pn=(0,it.useRef)(!1);(0,it.useEffect)((()=>{pn.current=wt}),[wt]);const mn=Dc((()=>{const e=sl(H.getState()),t=ol(H.getState());!pn.current&&e<100&&U(Ks.startPlay(t))}),1e3),hn=(0,it.useCallback)((()=>{if(ct.current){const e=ge?1:Ue;ne.current?.playbackRate!==Ue&&ct.current.setPlaybackRate(e)}}),[ge,Ue]),vn=()=>{if(l&&ct.current?.instance?.config){ct.current.instance.config.maxMaxBufferLength=180}let e=Ve;const t=!Ze,n=Boolean("userActivation"in window.navigator&&window.navigator?.userActivation?.hasBeenActive);if(At&&(Ct(!1),U(Ks.hideEndScreen(!1)),U(DR.setFinal(!1)),U(Ks.setEndScreenVisible(!1)),U(Ks.loadPlayOptions({videoId:r,replay:!0})),U(Ks.resetWatchTime()),U(ap.cleanUp()),U(Ks.resetBytes())),ct.current&&!ie){const{autostartmute:r}=Zt(window.location.href);if(hn(),Ge(!0),!Ye&&oe&&(r||!qt&&!n)&&(e=!0,fn(!0,!1)),!qe)return void(ut&&U(Ks.setShowPoster(!1)));const a=ne?.current?.play(),o=()=>{Ze||U(Ks.onVideoStart()),ut&&U(Ks.setShowPoster(!1)),mn(),Ut&&(navigator.mediaSession.playbackState="playing")};void 0!==a&&a.then((()=>o())).catch((n=>{"NotAllowedError"!==n?.name||Ve?(console.warn("playPromiseError:",n),U(Ks.setShowControls(!0))):(fn(!0,!1),ne.current?.play().then((()=>o())).catch((n=>{!e&&t&&fn(!1),U(Ks.setShowControls(!0)),console.warn("playPromiseError:",n)})))}))}},yn=(0,it.useCallback)((()=>{U(Ks.setStopTime(null))}),[U]),gn=()=>{const e=ct?.current?.getDuration()||0;Ut&&isFinite(e)&&"function"==typeof navigator.mediaSession.setPositionState&&navigator.mediaSession.setPositionState({duration:e||0,position:(ne?.current?.currentTime||0)<=e&&ne?.current?.currentTime||0})},_n=(0,it.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=at||!at&&rt;if(fe&&U(Ks.setEnded(!1)),ct.current&&!Number.isNaN(e)&&!ve&&r){const r=ct.current.getDuration();if(e<0&&(e=0),e>r&&(e=r),ge&&e>=r-It.current&&(e=r-It.current),Oi()&&!Ye&&(et.current=e),yn(),t)U(Ks.setTemporaryTime(e));else{const t=ct.current.getTime();U(DR.onRewind({currentTime:t,rewindTo:e,source:n})),ct.current.setSeek(e),U(Ks.setTimeAndProgress(e))}!Oi()&&ut&&U(Ks.setShowPoster(!1))}gn(),Vt(!1)}),[yn,Vt,Ye,ge,rt,ut,ve]),bn=()=>{if(ne?.current){const{liveSyncPosition:e}=ct?.current?.instance||{},{duration:t}=ne.current;if(!e&&!isFinite(t))return;const n=4.04;_n(e?e-n:t-n)}},En=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"user"===e&&(yn(),ce||We?ie?(U(Ks.trackStat({eventName:Gc.PAUSE})),U(Ks.setInfoIcon({icon:rt?qc.STOP:qc.PAUSE}))):(U(Ks.trackStat({eventName:Gc.RESUME})),U(Ks.setInfoIcon({icon:qc.PLAY}))):(U(Ks.trackStat({eventName:Gc.FIRST_PLAY_BUTTON})),U(Ks.setUserPlayFired(!0)),U(Ks.setInfoIcon({icon:qc.PLAY}))),Vt(!1)),"onScreen"===e&&Vt(!0);sl(H.getState())>=100&&(Pi((()=>{U(Ks.setFirstQuartileReached(!1)),U(Ks.setSecondQuartileReached(!1)),U(Ks.setThirdQuartileReached(!1)),U(Ks.setEndReached(!1)),U(Ks.setEnded(!1)),U(Ks.setStatsEventsLaunches({})),U(HN.incrementViewCount())})),sn(),ge||_n(0)),rt&&!ie&&bn(),"external"!==e||ie?ie?(rn(Zc.PAUSE,{play_pause:"pause"}),ct.current&&ct.current.pause(),Ut&&(navigator.mediaSession.playbackState="paused"),rt&&U(Ks.setShowPoster(!0))):(rn(Zc.PAUSE,{play_pause:"play"}),vn()):!ve&&qe?vn():U(Ks.setPlayOptionsAutoplay(!0))};(e=>{const t=yd(zi),n=Ni(Zi),[r,a]=yd(bs),o=(0,it.useRef)(""),i=xi(),l=Ni(Co),s=Ni(Os),c=(0,it.useCallback)((()=>{e&&t&&n===HR.STATUS_PLAYING&&a&&r===Xl.HLS&&(e?.pause(),i(Ks.setPlaying(!1)),i(Ks.setPlayerReady(!1)),setTimeout((()=>{e.instance?.loadSource(a)}),5e3))}),[e,t,n,a,r,i]),u=(0,it.useCallback)((()=>{const t=e?.instance?.levels,n=e?.instance?.loadLevel,r=o.current!==("number"==typeof n&&t&&t[n].url[0]);!l&&e&&r&&s&&(i(Ks.setPlayerReady(!0)),e.play()?.then((()=>{i(Ks.setPlaying(!0))})).catch((e=>{console.warn(e)}))),o.current=("number"==typeof n?e?.instance?.levels[n]?.url[0]:null)??""}),[l,e,i]);(0,it.useEffect)((()=>(e?.instance&&(e.instance?.on("hlsBufferEos",c),e.instance?.on("hlsFragParsed",u)),()=>{e?.instance&&(e.instance?.off("hlsBufferEos",c),e.instance?.off("hlsFragParsed",u))})),[e,t,n,a,r,l,c,u])})(ct.current),((e,t,n,r)=>{const a=(0,it.useRef)(void 0);(0,it.useEffect)((()=>{if(!n&&r&&ai.isiOSMobile)return a.current=setInterval((()=>{const n=e?.getTime(),r=e?.getBuffered()?.[2];void 0!==n&&void 0!==r&&(Math.floor(n)>=Math.floor(r)||0===r)&&t?.dispatchEvent(xR)}),1e3),()=>{a?.current&&clearInterval(a.current)};a.current&&clearInterval(a.current)}),[e,t,n,r])})(ct.current,ne.current,tt,xt),(0,it.useEffect)((()=>{sn()}),[Se]),(0,it.useEffect)((()=>{U(Ks.setTouchDevice(oe))}),[oe]),(0,it.useEffect)((()=>{E(zt.VOLUME_CHANGE,{volume:le?le.toFixed(2):"",muted:Ve})}),[le]);const wn=(0,it.useCallback)((()=>{Vt(!1),ye.isFullscreen?(ye.exit(),U(Ks.setShowChapters(!1))):Oi()?ne.current?.webkitEnterFullScreen():ye.request($.current??void 0)}),[Vt]),An=(0,it.useCallback)((e=>{U(Ks.setPlayerMode(e))}),[U]),Sn=e=>{const t=-1===e;if(U(Ks.setAutoQuality(t)),rn(Zc.QUALITY),Q.current)ct.current?.changeLevel(e),t?(ct.current?.enableAutoLevel(),U(Ks.setActiveQuality({level:-1,keepLevel:!0}))):U(Ks.setActiveQuality({level:e,keepLevel:!0}));else{kO=!0,U(Ks.setIsWating(!0));const n=He.findIndex((e=>e.isAuto))-1,r=He[(t?n:e)+1];if(!r)return;const a=t?n:e;if(U(Ks.setActiveQuality({level:a,keepLevel:!0})),ne.current){ne.current.paused?TO=!1:(ct.current?.pause(),U(Ks.setPlaying(!1)),TO=!0),ne.current&&ct.current&&r.edge&&(xO=ct.current.getTime(),ne.current.src=r.edge,ne.current.load())}}};(0,it.useEffect)((()=>{hn()}),[r,ge,hn]);const Cn=()=>{ct.current&&ct.current.pause(),Vt(!1),U(Ks.setPlaying(!1)),Ut&&(navigator.mediaSession.playbackState="paused")},kn=()=>{const e=sl(H.getState());ie||En("user"),e<100&&_n(0)},Tn=(e,t)=>{ct.current&&_n((ct.current.getTime()||0)-e),ee.get("businessContentPlaybackRewindMode")({rewindType:t,rewindDirection:Jc.BACK})},xn=(e,t)=>{if(ct.current){const t=ct.current.getDuration()||0,n=ct.current.getTime()||0;_n(n+e>=t?t-.1:n+e)}ee.get("businessContentPlaybackRewindMode")({rewindType:t,rewindDirection:Jc.FORWARD})};(0,it.useEffect)((()=>{U(Ks.loadEmbedConfig())}),[]),(e=>{let{wrapperRef:t,isMobile:n,handlePause:r}=e;const a=(0,it.useRef)(!1),o=ki(),i=RN({isMobile:n});(0,it.useEffect)((()=>{const e=t.current;if(!i.isExperimentEnabled||!e||a.current)return;const n=e=>{e.preventDefault(),e.stopPropagation(),r();const t=new URL(i.link),n=Va(o.getState()),l=new URLSearchParams({t:n.toString(),...Object.fromEntries(t.searchParams)});t.search=l.toString(),window.open(t.toString(),"_blank"),a.current=!0};return e.addEventListener("click",n),e.addEventListener("touchend",n),e.addEventListener("contextmenu",n),()=>{e&&(e.removeEventListener("click",n),e.removeEventListener("touchend",n),e.removeEventListener("contextmenu",n))}}),[i.isExperimentEnabled,r,t.current])})({wrapperRef:$,handlePause:Cn,isMobile:oe}),(e=>{const t=Ni(us),n=Ni(fs),r=Ni(Ds).name;(0,it.useEffect)((()=>()=>{eO&&(navigator.mediaSession.metadata=null)}),[e]),(0,it.useEffect)((()=>{eO&&t&&n&&r&&!navigator.mediaSession.metadata&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artist:r,artwork:[{src:n||"",type:"image/jpg",sizes:"709x398"}]}))}),[t,r,n])})(r),(e=>{let{videoId:t,allowPlay:n,providerRef:r,handlers:a,setIsAutoPlayOnScreen:o,isPlaybackDisabled:i}=e;const{handleNextSeek:l,handlePrevSeek:s,onClickPrevVideo:c,onClickNextVideo:u}=a,d=Ni(ws),f=xi();(0,it.useEffect)((()=>{const e=()=>{r.current?.isVideoPlaying()||i?eO&&i&&(navigator.mediaSession.playbackState="paused"):(r.current?.play()?.catch(console.error),eO&&(navigator.mediaSession.playbackState="playing"))},t=()=>{r.current?.isVideoPlaying()&&(o(!1),r.current?.pause(),eO&&(navigator.mediaSession.playbackState="paused"))},n=()=>{l(10)},a=()=>{s(10)};return eO&&(navigator.mediaSession.setActionHandler("play",e),navigator.mediaSession.setActionHandler("pause",t),c&&navigator.mediaSession.setActionHandler("previoustrack",c),u&&navigator.mediaSession.setActionHandler("nexttrack",u),d||(navigator.mediaSession.setActionHandler("seekforward",n),navigator.mediaSession.setActionHandler("seekbackward",a))),()=>{eO&&(f(Ks.setBackgroundView(!1)),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none")}}),[r,t,n,i])})({videoId:r,allowPlay:qe,providerRef:ct,handlers:{handleNextSeek:e=>xn(e,Xc.MEDIA_CONTROLS),handlePrevSeek:e=>Tn(e,Xc.MEDIA_CONTROLS),onClickPrevVideo:un,onClickNextVideo:y,handlePlay:En},setIsAutoPlayOnScreen:Vt,isPlaybackDisabled:F}),LN({hlsProvider:ct.current,setIsAutoPlayOnScreen:Vt}),(e=>{let{playerRef:t,videoId:n,playerReady:r,canPlay:a,handlePlay:o}=e;const[i,l]=(0,it.useState)(!1),[s,c]=(0,it.useState)(!1);(0,it.useEffect)((()=>{const e=()=>{c(!1)},t=()=>{c(!0)};return document.pictureInPictureElement&&(document.exitPictureInPicture().catch((e=>{console.warn("exitPiPError:",e)})),l(!0)),document.addEventListener("enterpictureinpicture",t),document.addEventListener("leavepictureinpicture",e),()=>{document.removeEventListener("leavepictureinpicture",e),document.removeEventListener("enterpictureinpicture",t)}}),[n]),(0,it.useEffect)((()=>{r&&i&&t&&a&&!s&&t?.requestPictureInPicture().then((()=>{l(!1),t.paused&&o&&o()})).catch((e=>{console.warn("enterInPiPError:",e)}))}),[n,t,r,a,o])})({playerRef:ne.current,videoId:r,playerReady:nt,canPlay:Ee,handlePlay:En}),(e=>{let{playerRef:t,allowPlay:n,advertNode:r}=e;(0,it.useEffect)((()=>{t&&n&&document.pictureInPictureElement&&-1!==document.pictureInPictureElement.className.indexOf("raichu-adver-tag")&&t?.requestPictureInPicture().catch((e=>{console.warn("enterInPiPError:",e)})),t&&!n&&document.pictureInPictureElement&&-1!==document.pictureInPictureElement?.className.indexOf("raichu-video-tag")&&r?.element?.querySelector("video")?.requestPictureInPicture().catch((e=>{console.warn("enterInPiPError:",e)}))}),[t,n])})({playerRef:ne.current,allowPlay:qe,advertNode:n}),(e=>{let{isPlaybackDisabled:t,provider:n,setIsAutoPlayOnScreen:r}=e;const a=xi();(0,it.useEffect)((()=>{t&&(r(!1),n?.pause(),GI&&(navigator.mediaSession.playbackState="paused"))}),[t,n,r]),(0,it.useEffect)((()=>{t&&a(Ks.setBackgroundView(!1))}),[t])})({isPlaybackDisabled:F,provider:ct.current,setIsAutoPlayOnScreen:Vt});const Ln=(0,it.useCallback)((()=>{oe&&on(!1),uu().isFullscreen&&wn(),An("mini")}),[oe,An,on,wn]),Rn=(0,it.useCallback)((()=>{U(Ks.setIsPreventHideControls(!0))}),[]),Nn=(0,it.useCallback)((()=>{U(Ks.setIsPreventHideControls(!1))}),[]),Pn=(0,it.useCallback)((()=>{ie&&!te.current&&(Nn(),on(!1))}),[Nn,ie,on]);KR({element:document.getElementById(ih.RAICHU_LOADER_TEMPLATE),onLeave:Pn,isTouchDevice:oe});const{handleWrapperMouseMove:In,reloadTimeoutHover:On}=(e=>{let{isTouchDevice:t,playerMode:n,isShowControls:r,isPreview:a,wasPlayed:o,handlePreventHideControls:i,toggleControlsVisibility:l,handleEnableHideControls:s,handleMove:c,activePanel:u,isPlaying:d,isTouched:f}=e;const p=(0,it.useRef)(null),m=Ni(to),h=Ni(Ta),v=Ni(Lc),y=(0,it.useCallback)((()=>{!d||t&&u||t&&a||l(!1)}),[d,t,u,a,l]),g=(0,it.useCallback)((()=>{p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{m||y()}),3e3)}),[y,m]),_=(0,it.useCallback)((e=>{t||(lu(e.target)?i():s(),c(e,f.current))}),[t,c,f,i,s]),b=(0,it.useCallback)((()=>{t&&"mini"!==n||r||l(!0)}),[t,n,r,l]),E=(0,it.useCallback)((e=>{_(e),b()}),[_,b]);return(0,it.useEffect)((()=>{!d||u?p.current&&clearTimeout(p.current):g()}),[u,d,g]),(0,it.useEffect)((()=>{d&&g()}),[d,g]),(0,it.useEffect)((()=>{o&&t&&!v&&h&&y()}),[o]),(0,it.useEffect)((()=>{o&&s()}),[s,o]),{handleWrapperMouseMove:E,reloadTimeoutHover:g,handleHidden:y}})({isTouchDevice:oe,playerMode:ue,isShowControls:se,isLive:ge,wasPlayed:Ze,handlePreventHideControls:Rn,handleEnableHideControls:Nn,toggleControlsVisibility:on,isPlaying:ie,isPreview:null!==Oe,handleMove:Mn,activePanel:K,isTouched:te,isTouchDesktop:Rt});function Mn(e,t){if(te.current=t,On(),"progressBar"===te.current){"touchstart"===e.type&&U(Ks.setShowCenterControls(!1));const t=NN({event:e,ref:re,providerRef:ct});_n(t,!0)}if("volumeBar"===te.current){const t=rk(e,ae,"horizontal");dn(t)}}const{handleMouseUp:Dn}=VI({touchedRef:te,progressBarRef:re,providerRef:ct,setSeek:_n}),Fn=e=>{const t=e instanceof HTMLAnchorElement?e:e.closest("a");return!!t&&(l&&ie&&t.href.indexOf(r)>-1&&ne.current?.pause(),!0)};JI({handlePlay:En,seekTo:e=>_n(e),handlePrevSeek:e=>Tn(e,Xc.HOTKEY),handleNextSeek:e=>xn(e,Xc.HOTKEY),handleSeek:_n,handleFullScreen:wn,handleMuted:fn,handleVolumeChange:dn,handlePlayerMode:An,handleMiniPlayer:Ln,handleClickDefaultPlayer:ln,onClickCloseMiniPlayer:_,handleNextVideo:Jt,handleNextPlaylistVideo:y,handlePrevPlaylistVideo:un},{isUserPlayFired:ce,wasStarted:Ye,isPlaying:ie,wrapper:$,enabled:nn});(0,it.useEffect)((()=>{!fe||ge||Me||(U(Ks.trackStat({eventName:Gc.END})),U(Ks.setEndReached(!0)),E(zt.PLAY_COMPLETE),E(zt.CHANGE_STATE,{state:Yt.STOPPED,..."boolean"==typeof Se?.is_licensed?{isLicensed:Se.is_licensed}:{}}),Ct(!0))}),[fe,ge,Me]),(0,it.useEffect)((()=>{U(Ks.setVideoId(r)),r&&ze&&U(du.getEndScreenContent({videoId:r,playlistId:o}))}),[r,o,ze]),(0,it.useEffect)((()=>{if(ct.current){if(!qe&&(ie||tt)&&!rt&&en)return ct.current.pause(),void U(Ks.setPlaying(!1));qe&&Ye&&!fe&&!ie&&vn()}}),[qe]),(0,it.useEffect)((()=>{if(ct.current)try{const{autostartmute:e}=Zt(window.location.href);e&&fn(!0)}catch(e){console.error(e)}}),[ct.current]),(0,it.useLayoutEffect)((()=>{Se&&Xe&&nt&&r&&Ee&&ct.current&&!Qe&&(U(Ks.getPlaybackTimings({videoId:r,playOptions:Se,isLive:ge,isPlayerReady:nt,forcedTime:R})),Ke(!0))}),[nt,r,Ee,Se,Xe,R,Qe,ge]),(0,it.useEffect)((()=>{Kt||"number"==typeof kt&&ct.current&&(et.current=kt,Je.current=kt,U(DR.pushRangeStart(kt||0)),ct.current.setSeek(kt),Oi()&&ne?.current&&(ne.current.currentTime=kt),U(Ks.setStartTime(null)))}),[U,kt,ct.current]);const Vn=()=>{window.__rutube.internalTs=Date.now(),U(fu.onPlayerUnmount()),Z.current=!1,Ge(!1),Ke(!1),U(Ks.onVideoStart()),U(ap.cleanUp()),U(Ks.resetBytes()),U(Ks.reset()),U(Ks.setStatsEventsLaunches({})),U(HN.cleanUp()),sn()};(0,it.useEffect)((()=>{if(r&&!l){const e=`${r}`;Se&&Vn(),setTimeout((()=>{U(Ks.loadPlayOptions({videoId:e}))}),100)}return()=>{"mini"===ue||l||Vn()}}),[r]),(0,it.useEffect)((()=>{a&&(Se&&Vn(),U(Ks.loadPlayOptions({videoId:a})))}),[a]),(0,it.useEffect)((()=>{const e=()=>{U(Ks.setError("Потеряна связь с интернетом")),Lt(!0)},t=()=>{U(Ks.setError("")),U(Ks.loadPlayOptions({videoId:r})),Lt(!1),tt&&(U(Ks.startPlay()),ai.isiOSMobile&&xn(1,Xc.EXTERNAL))};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[U,r,tt,qe,ie,xn]),(0,it.useEffect)((()=>{if("number"==typeof d&&d>=0){_n(d>Xe?Xe-.1:d)}}),[d]),(0,it.useEffect)((()=>{fe&&Oi()&&"fullscreen"===ue&&ne.current?.webkitExitFullScreen()}),[fe]);const Bn=(0,it.useCallback)((()=>{oe&&U(Ks.setPreviewPosition(null))}),[oe]),Hn=()=>{kO||(We&&!Ye&&(!l||Dt)||ie&&!ct.current?.isVideoPlaying()||TO)&&(TO=!1,vn())},Un=()=>{U(DR.setIsBuffering(!1)),U(Ks.setPlaying(!0)),l&&E(zt.CHANGE_STATE,{state:Yt.PLAYING,..."boolean"==typeof Se?.is_licensed?{isLicensed:Se.is_licensed}:{}}),U(Ks.setIsWating(!1))};(0,it.useEffect)((()=>{ct.current?.isVideoPlaying()&&(Mi()||ai.isiOSMobile)&&Un()}),[ne?.current?.readyState,tt]);(0,it.useEffect)((()=>{const e=()=>{const e=ye.isFullscreen;U(Ks.setFullscreen(e)),U(Ks.trackStat({eventName:e?Gc.ENTER_FULLSCREEN:Gc.EXIT_FULL_SCREEN})),E(zt.CHANGE_FULLSCREEN,{isFullscreen:e}),e||"fullscreen"!==ue||U(Ks.setPlayerMode("fullscreen"))};if(ye.isEnabled)return ye.on("change",e),()=>{ye.off("change",e)}}),[ue]),(0,it.useEffect)((()=>{const e=()=>{$.current&&iu()&&U(Ks.setActivePanel(null))};return l&&window.addEventListener("blur",e),()=>{e&&window.removeEventListener("blur",e)}}),[U,l]);const jn=(0,it.useCallback)((e=>{if(e&&-1===e.name?.indexOf("overlay")){U(Ks.setShowAdvert(!0)),rn(Zc.AD_VIEW,{type_ad:e.name});try{ct.current&&ct.current.isVideoPlaying()&&!rt&&!ge&&ct.current.pause(),(ge||rt)&&ct.current&&!Ve&&(U(Ks.setWasMutedBeforeAdvert(!0)),ct.current.setMuted(!0))}catch(e){console.error(e)}E(zt.ROLL_STATE,{type:e.name,state:"play"})}}),[rt,ge,Ve]),Wn=(0,it.useCallback)((()=>{U(Ks.setShowAdvert(!1)),U(Ks.setShowControls(!1)),We&&ct.current&&!je&&!fe&&ct.current?.play()?.then((()=>{Ze||(U(Ks.onVideoStart()),mn(),Ut&&(navigator.mediaSession.playbackState="playing")),ut&&U(Ks.setShowPoster(!1)),pn.current||U(Ks.startPlay())})).catch(console.error),ge&&ot&&(ct.current?.setMuted(!1),U(Ks.setWasMutedBeforeAdvert(!1)))}),[fe,We,je,ge,Ut,ut,ot,Ze]),$n=(0,it.useCallback)((e=>{rt&&(U(Ks.setShowAdvert(!1)),ot&&(ct.current?.setMuted(!1),U(Ks.setWasMutedBeforeAdvert(!1)))),E(zt.ROLL_STATE,{type:e.name,state:"complete"})}),[E,rt,ot]),zn=(!l&&We||l&&(Dt&&We||Bt)||Ye)&&!rt&&(ve||en)&&!document.pictureInPictureElement?it.createElement(om,{node:n,isTouchDevice:oe,onAdvertStart:jn,onAdvertEnd:$n,onAdvertPackEnd:Wn,isTtVersion:ht,playerProvider:ct.current}):null,Yn=(0,it.useCallback)((()=>it.createElement(Zm,{node:n,isMobile:oe,onAdvertStart:jn,onAdvertEnd:$n})),[n,oe,jn,$n]);(e=>{let{provider:t,handlePlay:n,setIsAutoPlayOnScreen:r,setSeek:a,handleNextSeek:o,handlePrevSeek:i,handleMute:l,handleVolumeChange:s,handleGotoTimecode:c,handleChangeQuality:u}=e;const d=xi(),f=Ni(ko),p=Ni(Ra);md({[pd.Play]:()=>{n("external")},[pd.Pause]:()=>{r(!1),t?.pause()},[pd.Stop]:()=>{o((t?.getDuration()||0)+1,Xc.EXTERNAL)},[pd.ChangeVideo]:e=>{let{id:t,params:n}=e;const{hash:r,p:a,quality:o}=n||{},i=t||r;if(d(DR.setFinal(!1)),a&&d(Ks.setPepper(a)),o&&FR(o)){const e=LR(o,p);u(e)}i&&d(Ks.setTrackId(i))},[pd.SetCurrentTime]:e=>{let{time:t}=e;a(t)},[pd.RelativeSeek]:e=>{let{time:t}=e;const n=Math.abs(t);t<0?i(n,Xc.EXTERNAL):o(n,Xc.EXTERNAL)},[pd.SetSkinColor]:e=>{let{color:t}=e;d(Ks.setEmbedColor(t))},[pd.Mute]:()=>{l(!0)},[pd.Unmute]:()=>{l(!1)},[pd.SetVolume]:e=>{let{volume:n,change:r}=e;n&&s(100*n),r&&s(Math.max(Math.min(100*((t?.getVolume()||0)+r),100),0))},[pd.WakeUp]:()=>{t?.instance?.startLoad();const e=t?.instance?.config;e&&(e.autoStartLoad=!0),n("external")},[pd.Suspend]:()=>{r(!1),t?.pause(),t?.instance?.stopLoad()},[pd.GotoTimecode]:e=>{let{time:n,source:r}=e;const a=t?.getDuration();n>=0&&a&&c(n>a?a-.1:n,!1,r)},[pd.ChangeQuality]:e=>{let{quality:t}=e;if(FR(t)){const e=LR(t,p);u(e)}},[pd.ShowControls]:()=>{d(Ks.setControlsAllowed(!0))},[pd.HideControls]:()=>{d(Ks.setControlsAllowed(!1))}},[f],f,!0)})({handlePlay:En,setIsAutoPlayOnScreen:Vt,setSeek:_n,handleNextSeek:xn,handlePrevSeek:Tn,handleVolumeChange:dn,handleChangeQuality:Sn,handleMute:fn,handleGotoTimecode:_n,provider:ct.current});(0,it.useEffect)((()=>{if(Xe){const e=Se?.mobile||!1,t=Se?.advert;if(t){const n=$i(t,e);vt(n);const r=rt?((e,t)=>{if(!e)return{};const n=ji(e,t).filter((e=>Mt.includes(e.name)));return SO(n,"name")})(t,e):n?((e,t)=>{if(!e)return{};const n=ji(e,t).filter((e=>Pt.includes(e.name))).map((e=>({...e})));return SO(n,"name")})(t,e):Wi(t,Xe,e);rt&&!r.preroll&&U(Ks.setLiveMidrollShowPreroll(!1)),U(Ks.setAdvert(r))}}}),[Se,Xe]);const{handlers:Gn}=(e=>{let{onClick:t,onMouseDown:n,onTouchStart:r,onTouchEnd:a,handlePlay:o,playerRef:i,touchedRef:l,isTouchDevice:s,wasStarted:c}=e;const u=(0,it.useRef)(null),d=(0,it.useRef)(!1),f=(0,it.useRef)(!1),p=(0,it.useRef)(null),m=Ni(lo),h=Ni(Ka),v=Ni(zi),y=Ni(so),[g,_]=(0,it.useState)(!1),b=xi(),E=(0,it.useCallback)((e=>{const t=e.target;lu(t)||v||y||!c||(u.current=setTimeout((()=>{d.current=!0,h||(o("external"),_(!0)),m<2&&Pi((()=>{b(Ks.setInfoIcon({label:"x2",shortLabel:"x2",labelIcon:qc.FORWARD_FAST,withoutAnimation:!0})),b(Ks.setActiveRate(2)),b(Ks.trackStat({eventName:Gc.LONG_PRESS})),b(Ks.setIsLongPress(!0)),b(DR.onLongPress({type:"on"}))}))}),500))}),[m,o,v,h,y,c]),w=(0,it.useCallback)((()=>{d.current&&(Pi((()=>{b(Ks.setActiveRate(p.current??1)),b(Ks.clearInfoIcon()),b(Ks.setIsLongPress(!1))})),b(DR.onLongPress({type:"off",forcedPlayback:g}))),u.current&&(clearTimeout(u.current),u.current=null),d.current=!1}),[g]),A=(0,it.useCallback)((()=>{g&&(o("external"),_(!1))}),[o,g]);return(0,it.useEffect)((()=>{const e=e=>{const t="contextmenu"===e.type;s&&t||(w(),A())};return window.addEventListener("contextmenu",e),window.addEventListener("blur",e),()=>{window.removeEventListener("contextmenu",e),window.removeEventListener("blur",e)}}),[w,g,o,A,s]),(0,it.useEffect)((()=>{const e=e=>{0===e?.button&&(A(),d.current&&i&&i===e.target&&(f.current=!0),w())};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}}),[g,d,w,o,i,A]),{handlers:{onMouseDown:function(e){0!==e.button||d.current||(p.current=m,E(e)),n&&"function"==typeof n&&n(e)},onClick:function(e){0===e.button&&f.current?f.current=!1:t&&"function"==typeof t&&t(e)},onTouchStart:function(e){1===e?.touches?.length&&(d.current||(p.current=m),E(e)),r&&"function"==typeof r&&r(e)},onTouchEnd:function(e){if(0===e?.touches?.length&&(A(),d.current&&(f.current=!0),w()),f.current)return b(Ks.setShowControls(!1)),l.current=null,void(f.current=!1);a&&"function"==typeof a&&a(e)}}}})({onClick:e=>{const t=iu();2!==e.button&&(t||e.target!==ne.current||oe||ve||!ne.current||En("user"))},onTouchStart:e=>{const t=e.target;if(Qt(!0),!_t||ve){if(1===e.touches.length){const t=e.touches[0];$t.current={x:t.clientX,y:t.clientY,absDeltaY:null,deltaY:null}}oe&&se&&$.current&&!Fn(t)&&su(t)&&(te.current="wrapper")}else te.current="unmute"},onTouchEnd:e=>{"unmute"===te.current&&(fn(!1),ee.get("businessContentPlaybackUnmuteButtonClick")());const t=e.target;!se||!$.current||Fn(t)||!su(t)?On():!ft&&Gt?U(Ks.setShowControls(!0)):Gt&&Ye&&on(!1),je||se||!Gt||"wrapper"===te.current?se&&On():((e=>"true"===e.getAttribute(nu)||!!e.closest(`[${nu}="true"]`))(t)||ve||e.preventDefault(),"unmute"!==te.current&&setTimeout((()=>on(!0)),100),On()),oe||(!se&&Gt&&(e.preventDefault(),on(!0)),Rt.current=!0,Nn(),On()),"progressBar"===te.current&&Pi((()=>{_n(ol(H.getState())),U(Ks.setTemporaryTime(null)),U(Ks.setShowCenterControls(!0))}));!l&&Nt&&!cu.isFullscreen&&$t.current.deltaY&&$t.current.absDeltaY&&$t.current.absDeltaY>=50&&!K&&($t.current.deltaY>0?wn():Ln()),$t.current={x:null,y:null,absDeltaY:null,deltaY:null},te.current=null},handlePlay:En,playerRef:ne.current,touchedRef:te,isTouchDevice:oe,wasStarted:Ye});(e=>{let{handleVolumeChange:t,handleMuted:n,handlePlay:r,providerRef:a,player:o,isProviderSupported:i,fragmentDurationRef:l,isOffline:s,setIsOffline:c,playOptions:u,isVideoMount:d,isEmbed:f,isEmbedOnScreen:p,embedLoaded:m}=e;const h=xi(),v=yd(Rs),[y,g]=yd(bs),_=Ni(zi),b=Ni(as),E=ai.isMobile,w=Ni(Zi),A=Ni(Ma),S=(0,it.useRef)(),C=()=>{h(Ks.setFullscreen(!0)),h(Ks.trackStat({eventName:Gc.ENTER_FULLSCREEN})),v&&fc(zt.TOGGLE_VERTICAL_FULLSCREEN)},k=()=>{h(Ks.setFullscreen(!1)),h(Ks.trackStat({eventName:Gc.EXIT_FULL_SCREEN}))};(0,it.useEffect)((()=>{w&&(S.current=w)}),[w]);const T=(0,it.useCallback)((()=>{if(a.current){h(Ks.setIsProviderReady(!0));try{const e=parseFloat(oi("volume")||"")||1,r=Boolean(parseInt(oi("muted")||"0",10));t(100*e),n(r)}catch(e){console.error(e)}return uu().isEnabled||(o.current?.addEventListener("webkitbeginfullscreen",C),o.current?.addEventListener("webkitendfullscreen",k)),s&&a?.current?.init&&a.current.init().then((e=>{a.current&&e&&(a.current.instance=e,r(),c(!1))})).catch((e=>{console.warn(e)})),()=>{o.current&&(uu().isEnabled||(o.current.removeEventListener("webkitbeginfullscreen",C),o.current.removeEventListener("webkitendfullscreen",k)))}}}),[d,u?.video_id,s]),x=async()=>{a?.current&&a?.current.destroy&&(a?.current.destroy(),a.current=null);const e=e=>{h(Ks.setQualities(e));try{const t=e[0],n=t?.edge,r=n?.split(".m3u8")[0];r&&h(Ks.setPreviewUrl(r))}catch(e){console.error(e)}fc(zt.QUALITY_LIST,{list:e.map((e=>{let{height:t,width:n}=e;return parseInt(zs(t,n))}))})},t=e=>{let{level:t,isAutoLevel:n,fragDuration:r}=e;Pi((()=>{h(Ks.setAutoQuality(n)),h(Ks.setActiveQuality({level:t}))})),l.current=r},n=e=>{h(Ks.setActiveQuality({level:e}))},r=e=>{h(Ks.setDurationAndProgress(e))},s=e=>{i.current=e},c=y&&QR.get(y);o.current&&c&&g?(a.current=await c({video:o.current,src:g,isLive:_,isTVLiveStream:b,onLevelsLoaded:e,onLevelLoaded:t,onSetDuration:r,onLevelChange:n,onIsSupportedCheck:s,dispatch:h,config:VR(!!f,!!p,E),liveStatus:S,embedQuality:A}),T()):_&&w===HR.STATUS_PLAYING&&!g&&u?.video_id&&setTimeout((()=>{h(Ks.loadPlayOptions({videoId:u?.video_id})),x()}),1e3)},L=()=>{d&&u?.video_id&&(f&&!m.current&&(m.current=!0),x())};(0,it.useEffect)((()=>{f||L()}),[d,u?.video_id,f]),(0,it.useEffect)((()=>{f&&p&&!m.current&&L()}),[d,u?.video_id,f,p])})({handleVolumeChange:dn,handleMuted:fn,handlePlay:En,providerRef:ct,player:ne,isProviderSupported:Q,fragmentDurationRef:It,isOffline:xt,setIsOffline:Lt,playOptions:Se,isVideoMount:pt,isEmbed:l,isEmbedOnScreen:G,embedLoaded:Z}),(e=>{let{isEndReached:t,isStub:n,partnerPlayerUrl:r,isTouched:a,handleHideMobilePreview:o,isTouchDevice:i}=e;(0,it.useLayoutEffect)((()=>{i&&(t||n||r)&&o()}),[t,n,r,i,a,o])})({isStub:!!xe,isTouched:te.current,isTouchDevice:oe,partnerPlayerUrl:be,duration:Xe,isWaiting:tt,providerRef:ct,handleHideMobilePreview:Bn,isEndReached:Me}),(0,it.useEffect)((()=>{qe&&l&&We&&Ee&&(l&&Dt&&qe&&Ee&&Ht(!0),!fe&&Ft&&(Dt&&!ie||!Dt&&ie)&&En("onScreen"))}),[Dt,qe,ie,We,Ft,Ee,fe]),(0,it.useEffect)((()=>{void 0!==We&&U(oe&&We?Ks.setShowControls(!1):Ks.setShowControls(!0))}),[U,We,oe]),(0,it.useEffect)((()=>{const e=li("raichu-viewed-time");W(!0),e&&U(Ks.setTotalViewingTime(parseInt(e,10))),U(Ks.setGUID(Re())),U(Ks.setUUID(De()));try{const e=(Ae.get("_ga")||"").match(/(\d+\.\d+)$/);U(Ks.setGaCid(e?e[1]:""))}catch(e){console.error("_ga cookie error",e)}if(St.forEach((e=>{if(!e.id||!document.getElementById(e.id??"")){const t=document.createElement("script");t.id=e.id??"",t.src=e.js,document.getElementsByTagName("head")[0].appendChild(t)}})),!cn)try{const e=oi("volume"),t=oi("muted");e||ii("volume","1"),t||ii("muted","0")}catch(e){console.error(e)}const t=l&&st;return U(Ks.setAdultAllowed(Boolean("1"===oi("psaa")||t))),U(Ks.initPuidSegments()),U(Ks.initCaptions()),U(pu.initUserHistory()),!l&&console.info("raichu-version: @rutube/raichu-embed@1.90.0-embed"),()=>{U(Ks.resetLiveInfo()),ii("ignoreTimeParam",""),ct?.current&&ct.current.destroy&&ct?.current.destroy(),ct.current=null}}),[]);const Zn=(0,it.useMemo)((()=>oe?pe&&!_t:pe),[pe,_t,oe]);return(0,it.useEffect)((function(){xe&&ie&&U(Ks.setPlaying(!1))}),[xe,ie,U]),it.createElement(mu.Provider,{value:ct.current},it.createElement(tN,{handler:w,updateRequested:A}),it.createElement(Bh,{player:ne,provider:ct.current,isVideoMount:pt}),ne.current&&ct.current?it.createElement(YI,{videoElement:ne.current,provider:ct.current}):null,nt&&it.createElement(TR,{player:ne,isEmbed:l}),xe?it.createElement(Pc,{handleClickDefaultPlayer:ln}):it.createElement(hh,{allowVerticalTouchScroll:!!O,ref:X,mount:j,isInteractiveLayerVisible:an},Ze&&dt&&!ve&&it.createElement(CR,{onClick:kn,isShowControls:se}),!lt&&it.createElement(wm,null),it.createElement(vm,null),it.createElement("div",{onMouseMove:an?void 0:In,onMouseUp:an?void 0:Dn,onMouseDown:an?void 0:Gn.onMouseDown,onClick:an?void 0:e=>{Fn(e.target)},onDoubleClick:yt||Kt?void 0:e=>{const t=e.target;"raichuVideoPoster"!==t.id&&"VIDEO"!==t.nodeName||wn()},onTouchStart:an?void 0:Gn.onTouchStart,onTouchEnd:an?void 0:Gn.onTouchEnd,onTouchCancel:an?void 0:Gn.onTouchEnd,onTouchMove:an?void 0:e=>{if($t.current.x&&$t.current.y&&1===e.touches.length){const t=e.touches[0],n=$t.current.x-t.clientX,r=$t.current.y-t.clientY,a=Math.abs(n),o=Math.abs(r);$t.current.deltaY=r,$t.current.absDeltaY=o,(o>=15||a>=15)&&Qt(!1)}},className:vx,ref:Ot,id:ih.RAICHU_CONTAINER_WITH_PLAYER,tabIndex:0},it.createElement(Cm,{renderMidroll:Yn,advertList:$e,isAdBlock:lt,isTVLiveStream:rt,wasStarted:Ye,advertComponent:zn}),me?it.createElement(Uh,{partnerPlayerUrl:be||""}):it.createElement(it.Fragment,null,_e&&it.createElement(Nu,{isTouchDevice:oe,player:ne,handlePlay:En,handleFullScreen:wn,withPlayerControls:Ye&&!fe&&(l&&se||bt||"fullscreen"===ue),isTouchedRef:te}),it.createElement(nd,{node:_e?void 0:t,className:ti()(bx,"raichu-video-tag",{[Ex]:st},{[wx]:tt||!Ee}),style:{visibility:Ye||l||!Oi()?"visible":"hidden"},ref:e=>{ne.current=e,mt(!!e)},playsInline:!0,crossOrigin:_e?"anonymous":void 0,onTimeUpdate:()=>{if(ie&&(U(Ks.setIsWating(!1)),U(DR.setIsBuffering(!1))),l){let e=ct.current?.getTime();Oi()&&ne.current&&(e=ne.current.currentTime),E(zt.CURRENT_TIME,"number"==typeof e?{time:e}:{})}ct.current&&!fe&&(()=>{const e=ct.current?.getTime(),t=ct.current?.getDuration();if(void 0===e||void 0===t)return null;const n=e/t*100;if(Number.isNaN(n))return null;U(Ks.setTimeAndProgress(e)),"progressBar"===te.current||Kt||U(Ks.setEnded(n>=100)),null!==Tt&&e>=Tt&&ie&&(yn(),Vt(!1),rn(Zc.PAUSE,{play_pause:"pause"}),ct.current&&ct.current.pause()),gn()})()},onSeeked:Bn,onCanPlay:Hn,onLoadedMetadata:()=>{we(!0),(Oi()||Mi())&&ne.current&&(kO&&xO&&(ne.current.currentTime=xO,_n(xO),xO=null,hn()),Hn())},onLoadedData:()=>{Oi()&&!ge&&!kO&&ne.current&&(ne.current.currentTime=et.current),!Q.current&&kO&&tt&&!ie&&U(Ks.setIsWating(!1)),kO=!1,U(Ks.setIsVertical(void 0!==ne.current?.videoWidth&&void 0!==ne.current?.videoHeight&&ne.current.videoWidth<=ne.current.videoHeight))},onWaiting:()=>{U(DR.setIsBuffering(!0)),U(Ks.setIsWating(!0)),U(Ks.setPlaying(!1))},onPlay:()=>{F&&ct.current?.pause()},onPlaying:Un,onPause:()=>{U(Ks.setPlaying(!1)),on(!0),U(Ks.setIsWating(!1)),E(zt.CHANGE_STATE,{state:Yt.PAUSED,..."boolean"==typeof Se?.is_licensed?{isLicensed:Se.is_licensed}:{}})},onVolumeChange:()=>{const e=ct.current?.getMuted(),t=e?0:100*(ct.current?.getVolume()||0);dn(t,!0)},onDurationChange:()=>{const e=ct.current?.getDuration()||0;U(Ks.setDurationAndProgress(e)),E(zt.DURATION_CHANGE,{duration:e})},onProgress:()=>{if(!ct.current)return null;const[e,t,n]=ct.current.getBuffered();U(Ks.setBufferedTime(t)),U(Ks.setBufferedSeconds(n)),E(zt.BUFFERING,{range:e})},onError:()=>{E(zt.ERROR)},onEnded:()=>{yn(),U(fu.onVideoEnded()),ai.isiOSMobile&&U(Ks.setProgress(100))},onClick:Gn.onClick,controlsList:Kt?"nofullscreen":void 0,disablePictureInPicture:Boolean(Kt)}),jt&&it.createElement(Vm,{video:ne.current,isControlsShown:se})),it.createElement(Qx,{provider:ct.current,player:ne,rootWrapper:$,isAllowControls:Zn,isPartner:me,canPlay:Ee,isEmbed:Boolean(l),videoId:r,waiting:tt||!Ee,progressBar:re,volumeBar:ae,handlePlay:En,handleFullScreen:wn,handleMove:Mn,handleMuted:fn,handlePrevSeek:Tn,handleNextSeek:xn,handleSeekToStart:kn,handlePlaylistPrevClick:un,handlePlaylistNextClick:y,handleNextVideoClick:Jt,handleRecommendationClick:g?Xt:void 0,handleChangeQuality:Sn,handleClickCloseMiniPlayer:_,handleClickMiniPlayer:Ln,handleClickDefaultPlayer:ln,handleSubscribe:e=>{const t=e.isUserSubscribed?"disable":"enable";rn(Zc.SUBSCRIBE,{channel_id:String(e.id),subscribe:t}),T(e)},handlePlayerMode:An,reloadTimeoutHover:On,handlePause:Cn,handleSeekAndPlay:e=>{ct.current&&ct.current.setSeek(e),U(Ks.setTimeAndProgress(e)),U(Ks.setEnded(!1)),U(Ks.setShowControls(!1)),ie||En()},hiddenControls:N,goLive:bn,prevVideo:P,nextVideo:I}),Wt&&it.createElement(kN,{handleMuted:fn,isShowDisclaimer:bt,isShowAgeDisclaimer:Et,isShowUnmute:_t,isTouchDevice:oe,isShowControls:se,isMiniAvailable:gt})),it.createElement(wR,{isTouchDevice:oe}),B&&it.createElement(rN,{Component:B,isFullScreen:cu.isFullscreen})))},RO=()=>{const e=Ni(nn),[t,n]=(0,it.useState)(Ot.findIndex((e=>document.referrer.indexOf(e)>=0))>=0),r=Ni((e=>e.player?.playOptions?.video_id)),a=Ni(an),o=Ni(on),i=xi(),l=Ni($a),s=Ni(_o),c=Kt(),u=()=>{n(!1)};(0,it.useEffect)((()=>{i(Xo.init())}),[i]);const d=(0,it.useCallback)((e=>{let{video:t,resourceId:n}=e;if(t.video_url)try{const e=new URL(t.video_url);n&&e.searchParams.append("resource_id",n.toString()),window.open(e.toString(),"_blank")}catch(e){console.error(e)}}),[]);return!e||o?it.createElement(ri,null):a?t?it.createElement(Mc,{handleStubPlay:u,backgroundImage:s?`/api/video/${s}/thumbnail/?redirect=1`:""}):it.createElement(Et,{forceThemeId:"dark2021"},it.createElement(LO,{subscriptionsHandler:fc,pepper:l,isEmbed:c,trackId:s,videoId:r||"",onRecommendationClick:d,allowVetricalTouchScroll:!0})):it.createElement(Pc,null)},NO=()=>it.createElement(wi,{store:FI},it.createElement(Ub,null,it.createElement(RO,null)));!function(e,t,n,r){e[r]=e[r]||[],e[r]?.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const a=t.getElementsByTagName(n)[0],o=t.createElement(n);o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id=GTM-PS8LV5W",a.parentNode?.insertBefore(o,a)}(window,document,"script","dataLayer"),console.info("Version: @rutube/raichu-embed@1.90.0-embed");const PO=document.getElementById("app");ve().catch((e=>console.info("initFingerprint catch",e))).then((()=>{if(PO){(0,lt.H)(PO).render(it.createElement(NO,null))}})).catch((e=>console.info("Embed init failed",e)))})()})();