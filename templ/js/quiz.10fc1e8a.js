(self["webpackChunkmarquiz_quiz"]=self["webpackChunkmarquiz_quiz"]||[]).push([[5308],{2296:function(e,t,s){var i=s(87133),n=s(77556),a=s(61489),o=s(13222);function r(e,t,s){e=o(e),t=n(t);var r=e.length;s=void 0===s?r:i(a(s),0,r);var l=s;return s-=t.length,s>=0&&e.slice(s,l)==t}e.exports=r},47307:function(e,t,s){var i=s(83120),n=s(55378);function a(e,t){return i(n(e,t),1)}e.exports=a},7350:function(e,t,s){var i=s(38221),n=s(23805),a="Expected a function";function o(e,t,s){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(a);return n(s)&&(o="leading"in s?!!s.leading:o,r="trailing"in s?!!s.trailing:r),i(e,t,{leading:o,maxWait:t,trailing:r})}e.exports=o},63375:function(e,t,s){var i=s(55765);function n(e){return e&&e.length?i(e):[]}e.exports=n},26029:function(e,t,s){"use strict";s.d(t,{A:function(){return _}});var i=s(20641);const n={class:"address-input"};function a(e,t,s,a,o,r){const l=(0,i.g2)("b-autocomplete");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.bF)(l,{ref:"addressInput",type:"text",icon:s.icon,size:s.size,data:o.addressList,required:s.required,openOnFocus:!0,placeholder:s.placeholder,onTyping:t[0]||(t[0]=e=>r.search(e)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",t))},null,8,["icon","size","data","required","placeholder"])])}var o=s(38221),r=s.n(o),l=s(27783),u=s(72505),d=s.n(u);const c=d().create({baseURL:"https://gs96tqye41.execute-api.eu-west-1.amazonaws.com/default/searchAddress"});async function h(e,t,s="ru"){try{const{data:i}=await c.get(`/${t}`,{params:{query:e,language:s}});return i}catch(i){return[]}}var p=s(66278),m={components:{"b-autocomplete":l.s},props:{modelValue:String,icon:String,size:String,required:Boolean,placeholder:String},data(){return{addressList:[]}},computed:{...(0,p.aH)("quiz",["id"])},methods:{search:r()((function(e){e&&h(e,this.id,this.$store.getters.baseLang).then((e=>{this.addressList=e}))}),300)},watch:{modelValue(e){this.search(e),this.$refs.addressInput.newValue=e}}},v=s(66262);const y=(0,v.A)(m,[["render",a]]);var _=y},60141:function(e,t,s){"use strict";s.d(t,{A:function(){return E}});var i=s(20641),n=s(90033);const a={class:"discount"},o={class:"discount__label"},r={class:"discount__label-text"},l={class:"discount__price"},u=["innerHTML"];function d(e,t,s,d,c,h){const p=(0,i.g2)("DiscountArrow");return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.Lk)("div",o,[(0,i.Lk)("div",r,(0,n.v_)(e.discountSettings.title||e.$t("Your discount"))+":Â  ",1)]),(0,i.Lk)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.filteredBubbles,((t,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"discount__bubble discount__bubble"},(0,n.v_)("+"+e.$format.number(c.increasingStep)),1)))),128)),(0,i.Lk)("div",{class:"discount__value",innerHTML:h.discountLabel},null,8,u),e.discountSettings.effect?((0,i.uX)(),(0,i.Wv)(p,{key:0,class:"discount__arrows",down:"melting"===e.discountSettings.effect},null,8,["down"])):(0,i.Q3)("",!0)])])}var c=s(36944),h=s.n(c),p=s(87612),m=s.n(p),v=s(58156),y=s.n(v),_=s(55378),b=s.n(_),g=s(94506),k=s.n(g),f=s(69843),q=s.n(f),w=s(92284),C=s(66278),S={name:"Discount",components:{DiscountArrow:w.A},props:{value:Object},data(){return{interval:null,bubbleShown:!1,increasingStep:null}},computed:{...(0,C.aH)(["lang"]),...(0,C.aH)("quiz",["discount","currency"]),...(0,C.L8)("quiz",["questionNumber","suitableResults","discountSettings","activeQuestions","countQuestions"]),discountLabel(){let e=this.discount;if(!q()(e)&&this.discountSettings.effect||(e=this.discountSettings.value),!e&&this.value){const e=this.value?.value??0,t="percent"===this.value?.type?"percent":"currency";return this.$format.as(t,e,this.currency,this.lang)}const t=this.$format.as("percent"===this.discountSettings.type?"percent":"currency",e,this.currency,this.lang),s={count:`<b>${t}</b>`,interpolation:{escapeValue:!1}};if("melting"!==this.discountSettings.effect&&e){if(this.resultsMaxDiscount>this.discountSettings.value)return this.$t("from {count}",s);if(this.resultsMaxDiscount<this.discountSettings.value)return this.$t("up to {count}",s)}return`<b>${t}</b>`},resultsMaxDiscount(){return k()(b()(this.suitableResults,(e=>{const t=y()(e,"discount"),s="range"===e.costType?e.maxCost||e.minCost:Number(e.cost);if(t&&t.value&&s){if("number"===this.discountSettings.type)return"number"===t.type?t.value:Math.floor(s*t.value/100);if("percent"===this.discountSettings.type)return"percent"===t.type?t.value:Math.floor(t.value/s*100)}})))},filteredBubbles(){return m()(this.countQuestions,(e=>this.bubbleShown&&this.questionNumber===e+1&&"increasing"===this.discountSettings.effect))}},watch:{questionNumber(e,t){this.bubbleShown=e>t},discount(e,t){this.increasingStep=h()(Math.abs(e-t),"percent"===this.discountSettings.type?1:0)}}},z=s(66262);const L=(0,z.A)(S,[["render",d]]);var E=L},99886:function(e,t,s){"use strict";s.d(t,{A:function(){return C}});var i=s(20641);const n={class:"fullscreen-promotions-bar"};function a(e,t,s,a,o,r){const l=(0,i.g2)("Bonuses");return(0,i.uX)(),(0,i.CE)("div",n,[s.isBonusesEnabled?((0,i.uX)(),(0,i.Wv)(l,{key:0,class:"fullscreen-promotions-bar__bonuses",height:3.1875,width:s.canMinimize||e.fontSize>16?3.1875:void 0,direction:"row",hasDiscount:!!s.discount,expanded:s.expandedBonuses,unexpanded:s.unexpandedBonuses||e.fontSize>16},null,8,["width","hasDiscount","expanded","unexpanded"])):(0,i.Q3)("",!0),s.discount&&e.selectedResults.length<2?((0,i.uX)(),(0,i.Wv)((0,i.$y)(s.wide?"Discount":"FullscreenDiscount"),{key:1,class:"fullscreen-promotions-bar__discount",discount:s.discount},null,8,["discount"])):(0,i.Q3)("",!0)])}var o=s(66278),r=s(90033);const l={class:"discount discount_fullscreen"},u={class:"discount__label"},d={class:"discount__text"},c={class:"discount__value"};function h(e,t,s,n,a,o){const h=(0,i.g2)("DiscountArrow");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",u,[(0,i.Lk)("div",d,(0,r.v_)(s.discount.title||e.$t("Your discount")),1),s.discount.effect?((0,i.uX)(),(0,i.Wv)(h,{key:0,class:"discount__arrows",down:"melting"===s.discount.effect},null,8,["down"])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",c,(0,r.v_)(o.value),1)])}var p=s(58156),m=s.n(p),v=s(92284),y={name:"FullscreenDiscount",components:{DiscountArrow:v.A},props:{discount:Object},computed:{...(0,o.aH)(["lang"]),...(0,o.aH)("quiz",["currency"]),value(){const e=m()(this,"discount.value",0),t="percent"===m()(this,"discount.type")?"percent":"currency";return this.$format.as(t,e,this.currency,this.lang)}}},_=s(66262);const b=(0,_.A)(y,[["render",h]]);var g=b,k=s(60141),f=s(82733),q={name:"FullscreenPromotionsBar",components:{Bonuses:f.A,FullscreenDiscount:g,Discount:k.A},props:{discount:Object,isBonusesEnabled:Boolean,expandedBonuses:Boolean,unexpandedBonuses:{type:Boolean,default:!0},canMinimize:{type:Boolean,default:!0},minimizeDiscount:Boolean,wide:Boolean},computed:{...(0,o.aH)("quiz",["selectedResults","fontSize"])}};const w=(0,_.A)(q,[["render",a]]);var C=w},45183:function(e,t,s){"use strict";s.d(t,{A:function(){return h}});var i=s(20641),n=s(53751),a=s(90033);const o={key:0,class:"loading"};function r(e,t,s,r,l,u){const d=(0,i.g2)("SvgIcon");return(0,i.uX)(),(0,i.Wv)(n.eB,{name:e.animation},{default:(0,i.k6)((()=>[e.isActive?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",{class:(0,a.C4)(["loading-overlay is-active",{"is-full-page":e.isFullPage}])},[(0,i.Lk)("div",{class:"loading-background",onClick:t[0]||(t[0]=(...t)=>e.cancel&&e.cancel(...t))},[(0,i.bF)(d,{class:"loading-icon2",name:"loading",color:"var(--color)"}),(0,i.RG)(e.$slots,"default")])],2)])):(0,i.Q3)("",!0)])),_:3},8,["name"])}var l=s(75548),u={extends:l.s},d=s(66262);const c=(0,d.A)(u,[["render",r]]);var h=c},37033:function(e,t,s){"use strict";s.d(t,{A:function(){return P}});var i=s(20641),n=s(90033);const a=["innerHTML"],o=["innerHTML"];function r(e,t,s,r,l,u){const d=(0,i.g2)("ProgressBarLinear"),c=(0,i.g2)("ProgressBarCircular"),h=(0,i.g2)("ProgressBarCircularSteps");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)([{"progress-bar_dark":s.darkColor},"progress-bar"])},[u.isLinearType?((0,i.uX)(),(0,i.Wv)(d,{key:0,type:s.type,percent:s.percent,darkColor:s.darkColor,hideNumbers:s.hideNumbers,labelOnRight:s.labelOnRight},null,8,["type","percent","darkColor","hideNumbers","labelOnRight"])):"steps"===s.type?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"progress-bar__steps",innerHTML:u.stepsText},null,8,a)):"text"===s.type?((0,i.uX)(),(0,i.CE)("div",{key:2,class:"progress-bar__text",innerHTML:u.text},null,8,o)):"gradient-text"===s.type?((0,i.uX)(),(0,i.CE)("div",{key:3,class:"progress-bar__gradient",style:(0,n.Tr)({"--percent":`${s.percent}%`})},(0,n.v_)(e.$t("Questions left: {number}",{number:s.count-s.number})),5)):"circular"===s.type?((0,i.uX)(),(0,i.Wv)(c,{key:4,percent:s.percent,darkColor:s.darkColor},null,8,["percent","darkColor"])):"circular-steps"===s.type?((0,i.uX)(),(0,i.Wv)(h,{key:5,number:s.number,count:s.count,darkColor:s.darkColor,lightBackground:s.lightBackground},null,8,["number","count","darkColor","lightBackground"])):(0,i.Q3)("",!0)],2)}var l=s(79859),u=s.n(l),d=s(26818);const c={class:"progress-bar-circular__circle"},h=["stroke-dashoffset"],p={class:"progress-bar-circular__label"},m={class:"progress-bar-circular__frase"},v={class:"progress-bar-circular__percent"};function y(e,t,s,a,o,r){return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)([{"progress-bar-circular_dark":s.darkColor},"progress-bar-circular"])},[(0,i.Lk)("div",c,[((0,i.uX)(),(0,i.CE)("svg",null,[t[0]||(t[0]=(0,i.Lk)("circle",{cx:"14",cy:"14",r:"13"},null,-1)),(0,i.Lk)("circle",{cx:"14",cy:"14",r:"13","stroke-dashoffset":r.dashoffset},null,8,h)]))]),(0,i.Lk)("div",p,[(0,i.Lk)("div",m,(0,n.v_)(e.$t("Done")),1),(0,i.Lk)("div",v,(0,n.v_)(s.percent)+"% ",1)])],2)}var _={name:"ProgressBarCircular",props:{percent:Number,darkColor:Boolean},computed:{dashoffset(){const e=26*Math.PI;return(100-this.percent)/100*e}}},b=s(66262);const g=(0,b.A)(_,[["render",y]]);var k=g;const f={class:"progress-bar-circular-steps__label"};function q(e,t,s,a,o,r){return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)([{"progress-bar-circular-steps_dark":s.darkColor},"progress-bar-circular-steps"])},[(0,i.Lk)("div",f,(0,n.v_)(e.$t("Step {number} of {count}",{number:s.number,count:s.count})),1),(0,i.Lk)("div",{class:"progress-bar-circular-steps__gradient-wrapp",style:(0,n.Tr)({"--left-percent":`${r.percent}%`,"--right-percent":50-r.percent+"%","--gradient-color":s.lightBackground?"var(--color-bg-sidebar, #fff)":"var(--color-bg-quiz, #fff)"})},[(0,i.Lk)("div",{class:"progress-bar-circular-steps__steps",style:(0,n.Tr)({...r.offset})},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.count,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,n.C4)(["progress-bar-circular-steps__step",{"progress-bar-circular-steps__step_active":e<=s.number}])},null,2)))),128))],4)],4)],2)}var w=s(66278),C={name:"ProgressBarCircularSteps",props:{number:Number,count:Number,darkColor:Boolean,lightBackground:Boolean},data(){return{maxPoints:8}},computed:{...(0,w.L8)(["isRtl"]),percent(){return 100/(this.count-1)*(this.number-1)/2},offset(){const e=Math.round(this.number-this.maxPoints/2),t=Math.round(this.count-this.maxPoints),s=`-${this.number>this.maxPoints/2?.75*Math.min(e,t):"0"}rem`;return this.isRtl?{right:s}:{left:s}}}};const S=(0,b.A)(C,[["render",q]]);var z=S,L={name:"ProgressBar",components:{ProgressBarCircular:k,ProgressBarLinear:d.A,ProgressBarCircularSteps:z},props:{type:{type:String,default:"progress-bar"},percent:Number,number:Number,count:Number,darkColor:Boolean,hideNumbers:Boolean,labelOnRight:Boolean,lightBackground:Boolean},computed:{isLinearType(){return u()(["progress-bar","dynamic-progress-bar","final","mobile"],this.type)},stepsText(){return this.$t("Step {number} of {count}",{number:`<span>${this.number}</span>`,count:this.count,interpolation:{escapeValue:!1}})},text(){return this.$t("Question {number} of {count}",{number:`<span>${this.number}</span>`,count:this.count,interpolation:{escapeValue:!1}})}}};const E=(0,b.A)(L,[["render",r]]);var P=E},26818:function(e,t,s){"use strict";s.d(t,{A:function(){return m}});var i=s(20641),n=s(90033);const a={class:"progress-bar-linear__field"},o={key:0,class:"progress-bar-linear__field-percent"};function r(e,t,s,r,l,u){return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)([u.classes,"progress-bar-linear"])},[s.hideNumbers||"progress-bar"!==s.type?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["progress-bar-linear__label",{"progress-bar-linear__label_right":s.labelOnRight}])},[(0,i.eW)((0,n.v_)(e.$t("Done"))+": ",1),(0,i.Lk)("span",null,(0,n.v_)(`${s.percent}%`),1)],2)),(0,i.Lk)("div",a,[(0,i.Lk)("span",{style:(0,n.Tr)(`width: ${s.percent}%`)},null,4),u.hasMark?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"progress-bar-linear__field-mark",style:(0,n.Tr)(u.markPosition)},[s.hideNumbers&&"final"!==s.type?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",o,(0,n.v_)(`${s.percent}%`),1)),t[0]||(t[0]=(0,i.Lk)("div",{class:"progress-bar-linear__field-pointer"},null,-1))],4)):(0,i.Q3)("",!0)])],2)}var l=s(79859),u=s.n(l),d=s(66278),c={name:"ProgressBarLinear",props:{type:{type:String,default:"progress-bar"},percent:Number,darkColor:Boolean,hideNumbers:Boolean,labelOnRight:Boolean},computed:{...(0,d.L8)(["isRtl"]),classes(){return{"progress-bar-linear_dynamic":"dynamic-progress-bar"===this.type,"progress-bar-linear_dark":this.darkColor,"progress-bar-linear_mobile":"mobile"===this.type,"progress-bar-linear_right-bottom-label":this.labelOnRight}},hasMark(){return u()(["dynamic-progress-bar","final"],this.type)},markPosition(){return this.isRtl?{right:`calc(${this.percent}% - 0.9375rem)`}:{left:`${this.percent}%`}}}},h=s(66262);const p=(0,h.A)(c,[["render",r]]);var m=p},3663:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Cn}});var i=s(20641),n=s(90033),a=s(53751);const o={key:0,class:"quiz__title"},r={key:1,class:"quiz__questions"},l={class:"quiz__questions-header"},u={key:0,class:"quiz__title-separator"},d={class:"quiz__tag-icon"},c={class:"quiz__tag-text"},h={key:0,class:"quiz__whitelabel"},p={key:2,class:"quiz__navbar"},m={key:0,class:"quiz__sidebar"},v={key:4,class:"quiz__whitelabel quiz__whitelabel_sidebar"},y={key:"quiz__deliveries",class:"quiz__deliveries"},_={key:"quiz__delivery",class:"quiz__delivery"},b={key:"quiz__results",class:"quiz__results"},g={key:"quiz__result-loader",class:"quiz__result-loader"},k={key:"quiz__result",class:"quiz__result"},f={key:"quiz__result-loader",class:"quiz__result-loader"},q={key:"quiz__leadform",class:"quiz__lead-form"},w={key:"quiz__result-loader",class:"quiz__result-loader"},C={key:"quiz__thanks",class:"quiz__thanks"},S={key:0,class:"quiz__redirect"};function z(e,t,s,z,L,E){const P=(0,i.g2)("Discount"),A=(0,i.g2)("ProgressBar"),$=(0,i.g2)("b-icon"),x=(0,i.g2)("b-tag"),B=(0,i.g2)("AssistantDesktop"),T=(0,i.g2)("WhiteLabel"),X=(0,i.g2)("QuestionWrapper"),F=(0,i.g2)("QuizNavbar"),Q=(0,i.g2)("CircleVideoPlayer"),M=(0,i.g2)("CustomVideoPlayer"),D=(0,i.g2)("Bonuses"),V=(0,i.g2)("Assistant"),R=(0,i.g2)("Deliveries"),N=(0,i.g2)("Delivery"),H=(0,i.g2)("ResultLoader"),I=(0,i.g2)("Results"),W=(0,i.g2)("Basket"),O=(0,i.g2)("BasketDropdown"),U=(0,i.g2)("Payment"),K=(0,i.g2)("Result"),j=(0,i.g2)("FinalPage"),Y=(0,i.g2)("ThankPage"),G=(0,i.g2)("Loading"),J=(0,i.g2)("Toast"),Z=(0,i.g2)("CookieNotice");return(0,i.uX)(),(0,i.CE)("div",{ref:"quiz",class:(0,n.C4)(["quiz-container",[E.containerClasses,{"quiz-container_animating":e.isAnimating}]]),style:(0,n.Tr)(e.animationStyles)},[(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.quizAnimation,onAfterLeave:e.afterLeave},{default:(0,i.k6)((()=>[e.page===E.$constants.page.QUESTIONS?((0,i.uX)(),(0,i.CE)("div",{key:"quiz",class:(0,n.C4)(E.classes)},[(0,i.Lk)("div",{class:(0,n.C4)(["quiz__questions-container",{"quiz__questions-container_has-title":E.hasTitle}])},[e.progress.enabled||E.discount||E.hasTitle?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["quiz__title-container",E.titleContainerClasses])},[E.hasTitle?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("h3",null,(0,n.v_)(e.quizTitle),1)])):(0,i.Q3)("",!0),(0,i.bF)(a.eB,{name:"fade"},{default:(0,i.k6)((()=>[E.discount&&!E.sidebarShown&&"right"===E.elementsPosition?((0,i.uX)(),(0,i.Wv)(P,{key:0,class:"quiz__discount quiz__discount_in-title"})):(0,i.Q3)("",!0)])),_:1}),e.progress.enabled&&"bottom"===E.elementsPosition&&"in-title"===E.progressBarPosition?((0,i.uX)(),(0,i.Wv)(A,(0,i.v6)({key:1,class:E.progressBarClasses},E.progressBarProps,{hideNumbers:"bottom"===E.elementsPosition&&"module"===E.quizStyle&&!E.hasTitle,labelOnRight:"bottom"===E.elementsPosition,lightBackground:""}),null,16,["class","hideNumbers","labelOnRight"])):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0),e.currentQuestion?((0,i.uX)(),(0,i.CE)("div",r,[e.progress.enabled&&"bottom"===E.elementsPosition&&"in-question"===E.progressBarPosition?((0,i.uX)(),(0,i.Wv)(A,(0,i.v6)({key:0,class:E.progressBarClasses},E.progressBarProps),null,16,["class"])):(0,i.Q3)("",!0),(0,i.Lk)("div",l,[!E.hasTitle||"right"!==E.elementsPosition&&"standard"!==E.quizStyle?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("hr",u)),(0,i.Lk)("div",{class:(0,n.C4)(["title quiz__question-title",[{"quiz__question-title_empty":!E.hasTitle}]])},[(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.CE)("span",{key:e.currentQuestion.id,class:"is-block"},(0,n.v_)(e.currentQuestion.title),1))])),_:1},8,["name"]),(0,i.bF)(a.eB,{name:e.animationType,appear:"",mode:"out-in"},{default:(0,i.k6)((()=>[E.canManyTag||E.canSkipTag?((0,i.uX)(),(0,i.CE)("div",{key:e.currentQuestion.id,class:"quiz__tags"},[E.canManyTag?((0,i.uX)(),(0,i.Wv)(x,{key:0,class:"quiz__tag quiz__tag_primary quiz__tag_many"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",d,[(0,i.bF)($,{icon:"check-circle",customSize:"mdi-16px"})]),(0,i.Lk)("span",c,(0,n.v_)(e.$t("select one or more")),1)])),_:1})):(0,i.Q3)("",!0),E.canSkipTag?((0,i.uX)(),(0,i.Wv)(x,{key:1,class:"quiz__tag quiz__tag_skip"},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(e.$t("can skip")),1)])),_:1})):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])),_:1},8,["name"])],2)]),(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType},{default:(0,i.k6)((()=>[E.questionHint&&L.hasAssistantOnSlide&&!E.sidebarShown?((0,i.uX)(),(0,i.Wv)(B,{key:0,class:"quiz__assistant-in-question",text:E.questionHint,assistant:e.info.assistant},null,8,["text","assistant"])):(0,i.Q3)("",!0)])),_:1},8,["name"]),(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType,onAfterEnter:t[0]||(t[0]=t=>{E.questionEntered(),e.enableScroll()}),onLeave:E.checkAssistantOnSlide,onBeforeLeave:t[1]||(t[1]=t=>{E.questionLeaved(),e.disableScroll()})},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.Wv)(i.PR,null,[((0,i.uX)(),(0,i.Wv)(X,{id:e.currentQuestion.id,ref:"question",key:e.currentQuestion.id,class:"quiz__question",question:e.currentQuestion,hasHint:E.hasHintOnSlide&&(!E.hasAssistant||e.isWidgetMode)},{whitelabel:(0,i.k6)((()=>[E.isWhiteLabelShown?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(T,{place:"center_nav_bar"})])):(0,i.Q3)("",!0)])),_:1},8,["id","question","hasHint"]))],1024))])),_:1},8,["name","onLeave"])])):(0,i.Q3)("",!0),e.currentQuestion?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(F,{passedPercent:e.getPassedPercent,activeQuestion:e.activeQuestion,discount:E.discount,notRequired:e.isQuestionNotRequired,isLast:e.isLastQuestion,filled:e.isQuestionFilled,buttonStyle:e.buttonStyle,isBonusesEnabled:e.isBonusesEnabled,hidePromotionsBar:"right"===E.elementsPosition,hideProgressBar:"bottom"===E.elementsPosition,canMinimizePromotionsBar:"module"===E.quizStyle&&2===e.bonusesCount,onPrevious:e.prevQuestion,onNext:e.nextQuestion,onShowLead:e.nextQuestion},null,8,["passedPercent","activeQuestion","discount","notRequired","isLast","filled","buttonStyle","isBonusesEnabled","hidePromotionsBar","hideProgressBar","canMinimizePromotionsBar","onPrevious","onNext","onShowLead"])])):(0,i.Q3)("",!0),E.hasVideoOnSlide&&!E.sidebarShown?((0,i.uX)(),(0,i.Wv)(Q,{key:E.questionVideo.link,class:"quiz__video-circle",video:E.questionVideo,autoplay:L.autoplayVideo,muted:!1,paused:!e.isModalOpen,playRadius:e.isFullScreen?6.875:4.25,onPaused:t[2]||(t[2]=e=>L.autoplayVideo=!e)},null,8,["video","autoplay","paused","playRadius"])):(0,i.Q3)("",!0)],2),(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:"quiz__sidebar_animation"},{default:(0,i.k6)((()=>[E.sidebarShown?((0,i.uX)(),(0,i.CE)("div",m,[E.discount?((0,i.uX)(),(0,i.Wv)(P,{key:0,class:"quiz__discount"})):(0,i.Q3)("",!0),E.hasVideoOnSlide?((0,i.uX)(),(0,i.Wv)(M,{key:E.questionVideo.link,class:"mb-4",video:E.questionVideo,autoplay:L.autoplayVideo,muted:!1,paused:!e.isModalOpen,rounded:"",onPaused:t[3]||(t[3]=e=>L.autoplayVideo=!e)},null,8,["video","autoplay","paused"])):(0,i.Q3)("",!0),e.isBonusesEnabled?((0,i.uX)(),(0,i.Wv)(D,{key:2,class:"quiz__bonuses",height:e.isFullScreen?4.625:4},null,8,["height"])):(0,i.Q3)("",!0),E.hasAssistant?((0,i.uX)(),(0,i.Wv)(V,{key:3,class:(0,n.C4)(["quiz__assistant",{quiz__assistant_bottom:E.discount||e.isBonusesEnabled}]),text:E.questionHint,assistant:e.info.assistant,hasEnoughSpace:!!E.discount||e.isBonusesEnabled,darkBackground:"standard"===E.quizStyle,calculateHeight:""},null,8,["class","text","assistant","hasEnoughSpace","darkBackground"])):(0,i.Q3)("",!0),e.isWhiteLabelDisabled?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(T,{place:"right_sidebar"})]))])):(0,i.Q3)("",!0)])),_:1})],2)):e.page===E.$constants.page.DELIVERIES?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.bF)(R)])):e.page===E.$constants.page.DELIVERY?((0,i.uX)(),(0,i.CE)("div",_,[(0,i.bF)(N)])):e.page===E.$constants.page.RESULTS?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(a.eB,{name:"quiz__result-loader_animation_slide",onAfterLeave:t[5]||(t[5]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[L.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.bF)(H,{onFinished:t[4]||(t[4]=e=>L.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(I),E.hasBasket?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bF)(W,{class:"quiz__basket"}),(0,i.bF)(O,{class:"quiz__basket-dropdown",position:"left-top",hasButton:""})],64)):(0,i.Q3)("",!0)])):e.page===E.$constants.page.RESULT||e.page===E.$constants.page.PAYMENT?((0,i.uX)(),(0,i.CE)("div",k,[(0,i.bF)(a.eB,{name:"quiz__result-loader_animation_slide",onAfterLeave:t[7]||(t[7]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[L.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.bF)(H,{onFinished:t[6]||(t[6]=e=>L.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),e.page===E.$constants.page.PAYMENT?((0,i.uX)(),(0,i.Wv)(U,{key:0})):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(K,{hasBasket:E.hasBasket,onHasScroll:t[8]||(t[8]=e=>L.resultHasScroll=e)},null,8,["hasBasket"]),E.hasBasket?((0,i.uX)(),(0,i.Wv)(W,{key:0,class:"quiz__basket"})):(0,i.Q3)("",!0)],64))])):e.page===E.$constants.page.LEADFORM?((0,i.uX)(),(0,i.CE)("div",q,[(0,i.bF)(a.eB,{name:"quiz__result-loader_animation_slide",onAfterLeave:t[10]||(t[10]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[L.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.bF)(H,{onFinished:t[9]||(t[9]=e=>L.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(j)])):e.page===E.$constants.page.THANKS?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.bF)(Y)])):(0,i.Q3)("",!0)])),_:1},8,["name","onAfterLeave"]),e.redirectUrl?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.bF)(G,{isFullPage:"",modelValue:!0},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(E.redirectMessage),1)])),_:1})])):(0,i.Q3)("",!0),(0,i.bF)(J,{id:"payment",text:"success"===e.paymentStatus?e.$t("Payment successful"):e.$t("Payment failed. Please try again"),variant:"success"===e.paymentStatus?"positive":"negative",position:"middle"},null,8,["text","variant"]),(0,i.bF)(Z,{class:"quiz__cookie-notice"})],6)}var L=s(62216),E=s.n(L),P=s(47091),A=s.n(P),$=s(42426),x=s.n($),B=s(58156),T=s.n(B),X=s(68380),F=s(82733),Q=s(66278);const M=["innerHTML"];function D(e,t,s,a,o,r){const l=(0,i.g2)("Question");return(0,i.uX)(),(0,i.CE)("div",{ref:"questionWrapper",class:(0,n.C4)([r.classes,"question-wrapper"])},[s.hasHint?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"question-wrapper__hint html-content mb-4",innerHTML:r.hint},null,8,M)):(0,i.Q3)("",!0),"multiple"!==s.question.type?((0,i.uX)(),(0,i.Wv)(l,{key:1,class:(0,n.C4)(["question-wrapper__question",{"question-wrapper__question_has-overflow":o.hasOverflow}]),question:s.question,contained:s.hasHint&&r.isDesktop,"onUpdate:modelValue":t[0]||(t[0]=e=>r.onInput(s.question,e)),onNext:r.autoSkipQuestion},null,8,["class","question","contained","onNext"])):((0,i.uX)(!0),(0,i.CE)(i.FK,{key:2},(0,i.pI)(s.question.questions,(e=>((0,i.uX)(),(0,i.Wv)(l,{key:e.id,class:(0,n.C4)(["question-wrapper__question",r.getQuestionClasses(e)]),question:e,showTitle:!0,autofocus:!1,contained:!0,"onUpdate:modelValue":t=>r.onInput(e,t),onNext:r.autoSkipQuestion},null,8,["question","class","onUpdate:modelValue","onNext"])))),128)),(0,i.RG)(e.$slots,"whitelabel")],2)}var V=s(83602),R=s.n(V),N=s(62193),H=s.n(N),I=s(98023),W=s.n(I),O=s(55378),U=s.n(O),K=s(79859),j=s.n(K),Y=s(19747),G=s.n(Y),J=s(63460),Z=s(70578);const ee={class:"question"},te={key:0,class:"question__title"};function se(e,t,s,a,o,r){return(0,i.uX)(),(0,i.CE)("div",ee,[s.showTitle&&s.question.title?((0,i.uX)(),(0,i.CE)("div",te,(0,n.v_)(s.question.title),1)):(0,i.Q3)("",!0),((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.component),{key:o.key,modelValue:o.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.modelValue=e),question:s.question,autofocus:"inline"!==e.mode&&"input"===s.question.type,contained:s.contained,onNext:t[1]||(t[1]=t=>e.$emit("next"))},null,40,["modelValue","question","autofocus","contained"]))])}var ie=s(12550),ne=s.n(ie),ae=s(4357);const oe={ref:"answers",class:"answer-one-image"},re=["data-element-index"],le=["data-element-index"],ue={key:0,class:"answer-one-image__image"},de=["src"],ce={key:0,class:"answer-one-image__dummy-loading"},he=["innerHTML"];function pe(e,t,s,o,r,l){const u=(0,i.g2)("Answer"),d=(0,i.g2)("b-radio"),c=(0,i.g2)("OtherInput"),h=(0,i.g2)("SlideAnimation");return(0,i.uX)(),(0,i.CE)("div",oe,[(0,i.bF)(h,{class:"answer-one-image__group",isGroup:!0},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.answers,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{ref_for:!0,ref:"answer",key:e.id,class:(0,n.C4)(["answer-one-image__variant",l.oneImgClasses(e)]),"data-element-index":s},[(0,i.bF)(d,{modelValue:l.val,"onUpdate:modelValue":t[0]||(t[0]=e=>l.val=e),nativeValue:e.id},{default:(0,i.k6)((()=>[(0,i.bF)(u,{answer:e},null,8,["answer"])])),_:2},1032,["modelValue","nativeValue"])],10,re)))),128)),e.hasOther?((0,i.uX)(),(0,i.CE)("div",{key:"other",class:(0,n.C4)(["answer-one-image__variant answer-one-image__other",{"answer_verifying-end":e.isVerifyingEnd}]),"data-element-index":e.answers.length},[(0,i.bF)(c,{modelValue:e.other,"onUpdate:modelValue":t[1]||(t[1]=t=>e.other=t),placeholder:e.otherPlaceholder},null,8,["modelValue","placeholder"])],10,le)):(0,i.Q3)("",!0)])),_:1}),l.imageUrl?((0,i.uX)(),(0,i.CE)("div",ue,[(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("img",{class:"answer-image__img",src:l.imageUrl,alt:"Answer image",onLoad:t[2]||(t[2]=e=>r.imgLoaded=!0)},null,40,de),[[a.aG,r.imgLoaded]])])),_:1}),r.imgLoaded?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",ce))])):((0,i.uX)(),(0,i.Wv)(h,{key:1},{default:(0,i.k6)((()=>[(0,i.Lk)("div",{class:"answer-one-image__dummy",innerHTML:l.dummyText},null,8,he)])),_:1}))],512)}var me=s(2404),ve=s.n(me),ye=s(7309),_e=s.n(ye),be=s(31304),ge={extends:ae.A,data(){return{imgLoaded:!1}},computed:{val:{get(){return this.id},set(e){this.id=e}},defaultImage(){return T()(this.question,"options.defaultImage",{})},activeImage(){const e=!H()(this.defaultImage);if(this.other)return null;if(!this.id&&e)return this.defaultImage;if(!this.id)return null;const t=_e()(this.answers,{id:this.id});return t?H()(t.image)&&e?this.defaultImage:t.image:null},imageUrl(){return this.activeImage?this.$image.url(this.activeImage,be.gv.imageOptions.questions["one-image"]):null},startText(){return T()(this.question,"options.startText","")},dummyText(){return this.other?this.other:!this.id&&this.startText?this.startText:!this.id&&document.body.clientWidth<=767?this.$t("Select option below"):this.id?T()(_e()(this.answers,{id:this.id}),"title",""):this.$t("Select answer option on the left")}},methods:{oneImgClasses(e){return[{"answer-one-image__variant_selected":this.isChecked(e.id),"answer-one-image__variant_has-hint":!!e.hint},this.getVerifyingState(e.id)]}},watch:{activeImage(e,t){ve()(e,t)||(this.imgLoaded=!1)}}},ke=s(66262);const fe=(0,ke.A)(ge,[["render",pe]]);var qe=fe;const we={class:"input-question"},Ce={key:1,class:"input-question__address"};function Se(e,t,s,n,a,o){const r=(0,i.g2)("b-input"),l=(0,i.g2)("AddressInput"),u=(0,i.g2)("b-field");return(0,i.uX)(),(0,i.CE)("div",we,[(0,i.bF)(u,null,{default:(0,i.k6)((()=>["number"===o.type?((0,i.uX)(),(0,i.Wv)(r,{key:0,ref:"input",modelValue:a.val,"onUpdate:modelValue":t[0]||(t[0]=e=>a.val=e),placeholder:o.placeholder||e.$t("Enter only numbers"),size:o.size,validationMessage:e.$t("Enter a number"),type:"number",step:"any",dir:"auto",customClass:"has-input-border-radius",onKeydown:o.filterKey,onPaste:o.onPaste},null,8,["modelValue","placeholder","size","validationMessage","onKeydown","onPaste"])):"address"===o.type?((0,i.uX)(),(0,i.CE)("div",Ce,[(0,i.bF)(l,{ref:"input",modelValue:a.val,"onUpdate:modelValue":t[1]||(t[1]=e=>a.val=e),placeholder:o.placeholder,size:o.size},null,8,["modelValue","placeholder","size"])])):((0,i.uX)(),(0,i.Wv)(r,{key:2,ref:"input",modelValue:a.val,"onUpdate:modelValue":t[2]||(t[2]=e=>a.val=e),placeholder:o.placeholder,size:o.size,type:o.type,maxlength:"textarea"===o.type?"1000":"",customClass:"has-input-border-radius"},null,8,["modelValue","placeholder","size","type","maxlength"]))])),_:1})])}var ze=s(99374),Le=s.n(ze),Ee=s(26029),Pe={components:{AddressInput:Ee.A},inject:["isMobile"],mounted(){!this.autofocus||"inline"===this.mode&&0===this.activeQuestion||("address"===this.type?this.$focusInput(this.$refs.input.$el.querySelector("input")):this.$focusInput(this.$refs.input))},props:{modelValue:[String,Number],question:Object,autofocus:{type:Boolean,default:!0}},data(){return{val:this.modelValue}},computed:{...(0,Q.aH)("quiz",["mode","activeQuestion"]),...(0,Q.L8)("quiz",["isWidgetMode"]),type(){return T()(this.question,"options.inputType","text")},placeholder(){return T()(this.question,"options.placeholder","")},size(){return this.isWidgetMode?"":this.isMobile?"is-medium":"is-large"}},methods:{filterKey(e){const t=e.keyCode||e.charCode;j()([46,8,37,38,39,40],t)||j()([",",".","-"],e.key)||e.key.trim()&&!isNaN(e.key)||e.preventDefault(),"."!==e.key&&","!==e.key||this.val||(this.val=Le()("0."))},onPaste(e){e.preventDefault()}},watch:{val(e){this.$emit("update:modelValue",e)}}};const Ae=(0,ke.A)(Pe,[["render",Se]]);var $e=Ae;const xe={class:"answer-select"},Be=["value","innerHTML"],Te=["innerHTML"];function Xe(e,t,s,a,o,r){const l=(0,i.g2)("b-select"),u=(0,i.g2)("b-field");return(0,i.uX)(),(0,i.CE)("div",xe,[(0,i.bF)(u,{class:"answer-select__field"},{default:(0,i.k6)((()=>[(0,i.bF)(l,{modelValue:e.val,"onUpdate:modelValue":t[0]||(t[0]=t=>e.val=t),size:r.isDesktop?"is-large":"",multiple:"many"===e.select,placeholder:r.placeholder,class:(0,n.C4)(r.answerSelectClasses),onBlur:t[1]||(t[1]=e=>o.focused=!1),onFocus:t[2]||(t[2]=e=>o.focused=!0)},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.answers,(t=>((0,i.uX)(),(0,i.CE)("option",{key:t.id,value:t.id,class:(0,n.C4)(e.getVerifyingState(t.id)),innerHTML:t.title},null,10,Be)))),128))])),_:1},8,["modelValue","size","multiple","placeholder","class"])])),_:1}),r.hasHint?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["answer-select__hint",[{"answer-select__hint_mac":r.isMac}]]),innerHTML:r.hint},null,10,Te)):(0,i.Q3)("",!0)])}var Fe=s(20109),Qe=s(34247),Me=s.n(Qe),De={extends:ae.A,inject:["isMobile","isDesktop"],data(){return{focused:!1}},computed:{isMac:Fe.c,hasHint(){return!Me()()&&"many"===this.select},hint(){const e=`<span class="answer-select__hint-key">${this.isMac?"CMD":"CTRL"}</span>`;return this.$t("Hold {key} to multiple select",{key:e,interpolation:{escapeValue:!1}})},answerSelectClasses(){return this.isMobile&&!this.focused?{"answer-select__verifying-correct":this.isVerified&&!this.isVerifyingEnd,"answer-select__verifying-wrong":this.isVerifyingEnd}:{}},placeholder(){return T()(this.question,"options.placeholder","")}}};const Ve=(0,ke.A)(De,[["render",Xe]]);var Re=Ve;const Ne={class:"answer-statement"},He=["innerHTML"],Ie={key:0,class:"answer-statement__image"},We={key:0,class:"answer-statement__image-dummy-loading"},Oe=["src"];function Ue(e,t,s,n,o,r){const l=(0,i.g2)("VideoPlayer");return(0,i.uX)(),(0,i.CE)("div",Ne,[(0,i.Lk)("div",{class:"answer-statement__text html-content mb-4",innerHTML:o.content},null,8,He),"image"===o.mediaType&&r.bgUrl?((0,i.uX)(),(0,i.CE)("div",Ie,[o.imgLoaded?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",We)),(0,i.bo)((0,i.Lk)("img",{src:r.bgUrl,alt:"Dynamic content",onLoad:t[0]||(t[0]=e=>o.imgLoaded=!0)},null,40,Oe),[[a.aG,o.imgLoaded]])])):"video"===o.mediaType&&o.video?((0,i.uX)(),(0,i.Wv)(l,{key:1,class:"answer-statement__video mb-4",video:o.video,autoplay:o.video.autoplay,muted:!1,paused:!e.isModalOpen},null,8,["video","autoplay","paused"])):(0,i.Q3)("",!0)])}var Ke=s(36372),je={components:{VideoPlayer:Ke.A},created(){this.content.length&&!this.leadFormDisabled&&(this.content=this.content.replace(/<(a+).*?>|<\/a>/g,""))},props:{question:Object},data(){return{video:this.$video.parse(T()(this.question,"options.video",{})),defaultImage:T()(this.question,"options.defaultImage"),content:T()(this.question,"options.content",""),mediaType:T()(this.question,"options.mediaType","image"),imgLoaded:!1}},computed:{...(0,Q.aH)("quiz",["isModalOpen","leadFormDisabled"]),bgUrl(){const e=T()(this.defaultImage,"url");if(e)return this.$image.url(this.defaultImage,be.gv.imageOptions.questions.statement)}}};const Ye=(0,ke.A)(je,[["render",Ue]]);var Ge=Ye;const Je={class:"verifying-result__state mb-4"},Ze=["innerHTML"],et=["innerHTML"];function tt(e,t,s,a,o,r){const l=(0,i.g2)("b-icon");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["verifying-result",{"verifying-result_verified":r.isVerified}])},[(0,i.Lk)("div",Je,[t[0]||((0,i.Vq)(-1),(t[0]=(0,i.Lk)("div",{class:"verifying-result__phrase"},[(0,i.eW)((0,n.v_)(r.phrase),1)])).cacheIndex=0,(0,i.Vq)(1),t[0]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.verifiedAnswers,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"verifying-result__answer"},[(0,i.Lk)("div",{innerHTML:e.title||e.longText},null,8,Ze),(0,i.bF)(l,{icon:"check"})])))),128))]),(0,i.Lk)("div",{class:"verifying-result__explanation html-content",innerHTML:e.content},null,8,et)],2)}var st=s(58253),it=s.n(st),nt=s(33031),at=s.n(nt),ot=s(87612),rt=s.n(ot),lt=s(83472),ut=s.n(lt),dt=s(68869),ct={extends:Ge,mixins:[dt.A],props:{question:Object},computed:{...(0,Q.aH)("quiz",["answers"]),...(0,Q.L8)("quiz",["flatQuestions","allCorrectAnswers"]),parentQuestion(){const e=ut()(T()(this.question,"id"),"_explanation","");return _e()(this.flatQuestions,{id:e})},selectedAnswers(){return this.answers[T()(this.parentQuestion,"id")]},correctAnswers(){return this.allCorrectAnswers[T()(this.parentQuestion,"id")]},verifiedAnswers(){return rt()(T()(this.parentQuestion,"answers"),(e=>j()(this.correctAnswers,e.id)))},isVerified(){return"one"===T()(this.parentQuestion,"select")?j()(this.correctAnswers,this.selectedAnswers):ve()(at()(this.correctAnswers),at()(this.selectedAnswers))},phrase(){const e={correct:[this.getPhrase("correctMessage1"),this.getPhrase("correctMessage2"),this.getPhrase("correctMessage3"),this.getPhrase("correctMessage4"),this.getPhrase("correctMessage5"),this.getPhrase("correctMessage6"),this.getPhrase("correctMessage7")],wrong:[this.getPhrase("wrongMessage")]},t=e[""+(this.isVerified?"correct":"wrong")],s=t[it()(0,t.length-1)];return s}}};const ht=(0,ke.A)(ct,[["render",tt]]);var pt=ht,mt={provide(){return{questionId:this.question.id}},activated(){this.modelValue=this.answers[this.question.id],this.activated&&(this.key=ne()(),this.activated=!1),this.hasConditions&&(this.activated=!0)},props:{question:Object,showTitle:Boolean,contained:Boolean},data(){return{modelValue:null,activated:!1,key:ne()()}},computed:{...(0,Q.aH)("quiz",["answers","mode"]),...(0,Q.L8)("quiz",["hasConditions"]),hasImages(){return x()(T()(this.question,"answers",[]),(e=>e.image))},component(){switch(T()(this.question,"type","variants")){case"answers":return this.hasImages?(0,i.$V)((()=>Promise.all([s.e(4357),s.e(248),s.e(6979)]).then(s.bind(s,69350)))):ae.A;case"variants":return ae.A;case"images":return(0,i.$V)((()=>Promise.all([s.e(4357),s.e(248),s.e(6979)]).then(s.bind(s,69350))));case"one-image":return qe;case"emoji":return(0,i.$V)((()=>s.e(3271).then(s.bind(s,95302))));case"select":return Re;case"input":return $e;case"date":return(0,i.$V)((()=>s.e(7531).then(s.bind(s,52021))));case"slider":return(0,i.$V)((()=>s.e(2436).then(s.bind(s,79187))));case"file":return(0,i.$V)((()=>s.e(9561).then(s.bind(s,68789))));case"rating":return(0,i.$V)((()=>s.e(752).then(s.bind(s,44860))));case"statement":return T()(this.question,"isExplanation")?pt:Ge;case"address":return(0,i.$V)((()=>s.e(4409).then(s.bind(s,74280))));default:return ae.A}}},watch:{modelValue(e){this.$emit("update:modelValue",e)}}};const vt=(0,ke.A)(mt,[["render",se]]);var yt=vt,_t={name:"QuestionWrapper",components:{Question:yt},inject:["isDesktop"],activated(){this.$store.commit("quiz/savePercent",{id:this.question.id,percent:this.getPassedPercent})},mounted(){setTimeout((()=>{this.hasOverflow=T()(this.$refs,"questionWrapper.scrollHeight",0)>T()(this.$refs,"questionWrapper.clientHeight",0)}),200)},props:{question:Object,hasHint:Boolean},data(){return{lastEditedQuestionType:null,hasOverflow:!1}},computed:{...(0,Q.aH)("quiz",["answers"]),...(0,Q.L8)("quiz",["isVerifyingEnabled","isQuestionFilled","points","isCurrentQuestionMultiple","currentQuestionHasOther"]),...(0,Q.L8)("quiz/progress",["getPassedPercent"]),classes(){return[`question-wrapper_${this.question.type}`,{"question-wrapper_has-hint":this.hasHint,"question-wrapper_has-inner-scroll":this.hasInnerScroll,"question-wrapper_has-whitelabel":this.hasWhitelabel,"question-wrapper_has-other":this.currentQuestionHasOther}]},hint(){return T()(this.question,"hint.text")},canAutoSkip(){return"multiple"===this.question.type?G()(T()(this.question,"questions",[]),this.canAutoSkipQuestion):this.canAutoSkipQuestion(this.question)},hasInnerScroll(){return"one-image"===this.question.type||"variants"===this.question.type&&T()(this.question,"options.variantsImage")&&!T()(this.question,"options.isLong")},hasWhitelabel(){return!!this.$slots.whitelabel&&T()(this.$slots.whitelabel()[0],"children[0].type",!1)}},methods:{...(0,Q.i0)("quiz",["nextQuestion"]),isAddressQuestion(e){return"input"===T()(e,"type")&&"address"===T()(e,"options.inputType")},getQuestionClasses(e){return[`question-wrapper__question_${T()(e,"type")}`,{"question-wrapper__question_address":this.isAddressQuestion(e)},{"question-wrapper__question_has-overflow":this.hasOverflow}]},canAutoSkipQuestion(e){return(0,J.xh)(e)?"address"!==e.type&&("one-image"!==e.type&&"one"===e.select&&j()(U()(e.answers,(e=>e.id)),this.answers[e.id])):"date"===e.type?this.isCurrentQuestionMultiple&&this.isQuestionFilled:"rating"===e.type&&this.isQuestionFilled},onInput(e,t){this.lastEditedQuestionType=T()(e,"type"),this.setAnswer(e.id,t),this.canAutoSkip&&this.autoSkipQuestion(e,t)},autoSkipQuestion(e,t){if(!this.isQuestionFilled)return;let s=400;if(this.isVerifyingEnabled&&e){const i=(0,Z.g)(e,this.points);s=j()(i,t)?500:1200}setTimeout((()=>{this.nextQuestion()}),s)},setAnswer(e,t){W()(t)||!H()(t)||R()(t)?this.$store.commit("quiz/setAnswer",{questionId:e,value:t}):this.$store.commit("quiz/resetAnswer",e)}}};const bt=(0,ke.A)(_t,[["render",D]]);var gt=bt,kt=s(60141),ft=s(22874),qt=s(31281),wt=s(45305),Ct=s(35469),St=s(31531),zt=s(96552),Lt=s(45183),Et=s(62530);const Pt={class:"payment"};function At(e,t,s,n,a,o){const r=(0,i.g2)("Cloudpayments"),l=(0,i.g2)("Tinkoff"),u=(0,i.g2)("Sberbank"),d=(0,i.g2)("Stripe"),c=(0,i.g2)("YooKassa"),h=(0,i.g2)("PaymentModal");return(0,i.uX)(),(0,i.CE)("div",Pt,["cloudpayments"===a.service.name?((0,i.uX)(),(0,i.Wv)(r,{key:0,amount:e.paymentAmount,description:o.paymentDescription,settings:a.service.settings,onSuccess:o.onSuccess,onFail:o.onFail,onClose:o.onCloseWidget},null,8,["amount","description","settings","onSuccess","onFail","onClose"])):"tinkoff"===a.service.name?((0,i.uX)(),(0,i.Wv)(l,{key:1,amount:e.paymentAmount,settings:a.service.settings,description:o.paymentDescription,onSuccess:o.onSuccess,onFail:o.onFail,onClose:o.onCloseWidget},null,8,["amount","settings","description","onSuccess","onFail","onClose"])):"sberbank"===a.service.name?((0,i.uX)(),(0,i.Wv)(u,{key:2,amount:e.paymentAmount,description:o.paymentDescription,settings:a.service.settings,onSuccess:o.onSuccess,onFail:o.onFail},null,8,["amount","description","settings","onSuccess","onFail"])):"stripe"===a.service.name?((0,i.uX)(),(0,i.Wv)(d,{key:3,amount:e.paymentAmount,description:o.paymentDescription,settings:a.service.settings,closable:!e.basketMode,onSuccess:o.onSuccess,onFail:o.onFail,onClose:o.onCloseWidget},null,8,["amount","description","settings","closable","onSuccess","onFail","onClose"])):"yookassa"===a.service.name?((0,i.uX)(),(0,i.Wv)(c,{key:4,amount:e.paymentAmount,description:o.paymentDescription,settings:a.service.settings,onSuccess:o.onSuccess,onFail:o.onFail},null,8,["amount","description","settings","onSuccess","onFail"])):(0,i.Q3)("",!0),a.service.name||e.redirectedFrom?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(h,{key:5,modelValue:a.isPaymentModalOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>a.isPaymentModalOpen=e),amount:e.paymentAmount,formattedAmount:e.$format.currency(e.paymentAmount),onSubmit:o.updateService,"onSubmit:other":o.otherPaymentSubmit,onClose:o.onCloseModal},null,8,["modelValue","amount","formattedAmount","onSubmit","onSubmit:other","onClose"]))])}var $t=s(90179),xt=s.n($t),Bt=s(55364),Tt=s.n(Bt);const Xt={class:"payment-cloudpayments"};function Ft(e,t,s,n,a,o){return(0,i.uX)(),(0,i.CE)("div",Xt)}var Qt=s(63560),Mt=s.n(Qt),Dt=s(47307),Vt=s.n(Dt),Rt=(s(44114),s(81508)),Nt=s.n(Rt),Ht=s(54279),It=s(82464),Wt={extends:Ht.A,async mounted(){Nt()("https://widget.cloudpayments.ru/bundles/cloudpayments",this.pay);const e=new MutationObserver((t=>{for(const s of t)if("childList"===s.type){const t=_e()(s.removedNodes,(e=>{if(T()(e,"id"))return e.id.includes("cp")}));t&&(this.$emit("close"),e.disconnect())}}));e.observe(document.body,{childList:!0})},unmounted(){const e=document.querySelector('[id^="cp-scrollable"]');e&&e.remove()},computed:{receiptItems(){const e={vat:T()(this.settings,"vat"),method:T()(this.settings,"method"),object:T()(this.settings,"object"),measurementUnit:T()(this.settings,"unit")};if(this.basketMode){const t=Vt()(this.basketItems,(t=>{const s={label:t.title||T()(this.settings,"description"),price:t.basePrice,amount:t.totalBasePrice,quantity:t.count,...e},i=U()(T()(t,"params.options",[]),(s=>({label:`${s.name}: ${s.value.key}`,price:new It.Ay(s.value.value).toFixed(2),amount:new It.Ay(s.value.value).multiply(t.count).toFixed(2),quantity:t.count,...e})));return[s,...i]}));return H()(this.selectedDelivery)||t.push({label:this.selectedDelivery.name,price:this.selectedDelivery.amount,amount:this.selectedDelivery.amount,quantity:1,...e}),t}return[{label:T()(this.settings,"description")||this.description,price:this.amount,amount:this.amount,quantity:1,...e}]},language(){return T()({ru:"ru-RU",en:"en-US",de:"de-DE",kk:"kk-KZ",cs:"cs-CZ",vi:"vi-VN",tr:"tr-TR",es:"es-ES"},this.lang,this.lang)}},methods:{pay(){const e=new window.cp.CloudPayments({language:this.language}),t={};T()(this.settings,"receipt")&&Mt()(t,"cloudPayments.CustomerReceipt",{Items:this.receiptItems,email:this.contacts.email,phone:this.contacts.phone,customerInfo:this.contacts.name,isBso:!1,amounts:{electronic:this.amount}}),e.pay("charge",{publicId:T()(this.settings,"publicId"),description:T()(this.settings,"description")||this.description,amount:Number(this.amount),currency:this.currency,accountId:this.contacts.email,invoiceId:this.invoiceId,skin:T()(this.settings,"skin"),requireEmail:T()(this.settings,"emailRequired"),data:t},{onComplete:(e,t)=>{const s={invoiceId:T()(t,"invoiceId"),amount:T()(t,"amount"),response:e};e.success?this.onSuccess(s):this.onFail(s)}})}}};const Ot=(0,ke.A)(Wt,[["render",Ft]]);var Ut=Ot;const Kt={class:"payment-tinkoff"},jt={id:"payment-tinkoff",name:"TinkoffPayForm"},Yt=["value"],Gt=["value"],Jt=["value"],Zt=["value"],es=["value"],ts=["value"],ss=["value"],is=["value"],ns=["value"];function as(e,t,s,n,a,o){return(0,i.uX)(),(0,i.CE)("div",Kt,[(0,i.Lk)("form",jt,[(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"terminalkey",value:e.settings.terminalkey},null,8,Yt),t[0]||(t[0]=(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"frame",value:"true"},null,-1)),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"language",value:e.lang},null,8,Gt),t[1]||(t[1]=(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"reccurentPayment",value:"false"},null,-1)),t[2]||(t[2]=(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"customerKey",value:""},null,-1)),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"amount",value:e.amount},null,8,Jt),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"order",value:e.answerId},null,8,Zt),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"description",value:o.resultTitle},null,8,es),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"name",value:e.contacts.name},null,8,ts),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"email",value:e.contacts.email},null,8,ss),(0,i.Lk)("input",{type:"hidden",class:"tinkoffPayRow",name:"phone",value:e.contacts.phone},null,8,is),o.isReceiptEnabled?((0,i.uX)(),(0,i.CE)("input",{key:0,type:"hidden",class:"tinkoffPayRow",name:"receipt",value:o.receipt},null,8,ns)):(0,i.Q3)("",!0)])])}var os={extends:Ht.A,async mounted(){Nt()("https://securepay.tinkoff.ru/html/payForm/js/tinkoff_v2.js",this.pay);const e=new MutationObserver((t=>{for(const s of t){const t=_e()(s.addedNodes,(e=>{if(T()(e,"className"))return"t-wrapper"===e.className}));if(t){const s=new MutationObserver((e=>{for(const t of e)"attributes"===t.type&&"none"===t.target.style.display&&(t.target.remove(),this.$emit("close"),s.disconnect())}));s.observe(t,{childList:!0,attributes:!0,attributeFilter:["style"]}),e.disconnect()}}}));e.observe(document.body,{childList:!0,attributes:!0,attributeFilter:["style"]})},unmounted(){const e=document.querySelector("#payment-tinkoff");e&&e.remove()},computed:{receipt(){const e={Tax:T()(this.settings,"tax"),PaymentMethod:"full_prepayment",PaymentObject:T()(this.settings,"paymentObject")},t=t=>{const s={Name:(t.description||T()(this.settings,"description","")).slice(0,128)||this.resultTitle,Price:100*(t.basePrice||this.amount),Quantity:t.count||1,Amount:100*(t.totalBasePrice||this.amount),...e},i=U()(T()(t,"params.options",[]),(s=>({Name:`${s.name}: ${s.value.key}`,Price:100*new It.Ay(s.value.value).toFixed(2),Quantity:t.count||1,Amount:100*new It.Ay(s.value.value).multiply(t.count).toFixed(2),...e})));return[s,...i]};let s=[];this.basketMode&&(s=Vt()(this.basketItems,t),H()(this.selectedDelivery)||s.push({Name:this.selectedDelivery.name,Price:100*this.selectedDelivery.amount,Quantity:1,Amount:100*this.selectedDelivery.amount,...e}));const i=this.basketMode?s:t({});return JSON.stringify({Email:this.contacts.email,Phone:this.contacts.phone,EmailCompany:this.settings.emailCompany,Taxation:this.settings.taxation,Items:i})},resultTitle(){if(this.description)return this.description.slice(0,128)},isReceiptEnabled(){return this.settings.receipt&&(!H()(this.contacts.email)||!H()(this.contacts.phone))}},methods:{pay(){window.pay(document.querySelector("#payment-tinkoff"))}}};const rs=(0,ke.A)(os,[["render",as]]);var ls=rs;const us={class:"payment-sberbank"};function ds(e,t,s,n,a,o){return(0,i.uX)(),(0,i.CE)("div",us)}var cs={extends:Ht.A,async mounted(){Nt()("https://securepayments.sberbank.ru/payment/docsite/assets/js/ipay.js",this.pay)},computed:{},methods:{pay(){new IPAY({api_token:this.settings.apiToken}),window.ipayCheckout({amount:this.amount,currency:this.currency,order_number:this.answerId,description:T()(this.settings,"description")||this.description},(()=>this.$emit("success")),(()=>this.$emit("fail")))}}};const hs=(0,ke.A)(cs,[["render",ds]]);var ps=hs;const ms={class:"payment-stripe"},vs={class:"payment-stripe__form"},ys={class:"payment-stripe__loading"};function _s(e,t,s,o,r,l){const u=(0,i.g2)("b-checkbox"),d=(0,i.g2)("b-input"),c=(0,i.g2)("b-icon"),h=(0,i.g2)("b-modal");return(0,i.uX)(),(0,i.CE)("div",ms,[(0,i.bF)(h,{modelValue:r.modalShow,"onUpdate:modelValue":t[4]||(t[4]=e=>r.modalShow=e),canCancel:["escape"],customClass:"payment-stripe__modal",onClose:l.closeModal},{default:(0,i.k6)((()=>[(0,i.Lk)("div",{class:"payment-stripe__body",style:(0,n.Tr)({backgroundColor:l.isNightTheme?"#30313d":""})},[(0,i.bo)((0,i.Lk)("div",vs,[r.elements?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"payment-stripe__description",style:(0,n.Tr)(l.textColor)},(0,n.v_)(e.settings.description||e.description),5)):(0,i.Q3)("",!0),t[5]||(t[5]=(0,i.Lk)("form",{id:"stripe-payment"},null,-1)),r.elements?((0,i.uX)(),(0,i.Wv)(u,{key:1,modelValue:r.emailCheckbox,"onUpdate:modelValue":t[0]||(t[0]=e=>r.emailCheckbox=e),class:"payment-stripe__checkbox"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",{style:(0,n.Tr)(l.textColor)},"Send an email receipt",4)])),_:1},8,["modelValue"])):(0,i.Q3)("",!0),r.emailCheckbox?((0,i.uX)(),(0,i.Wv)(d,{key:2,modelValue:null!==r.email?r.email:e.contacts.email,class:(0,n.C4)(["payment-stripe__email",`payment-stripe__email_${e.settings.theme}`]),placeholder:e.$t("mail@example.com"),required:!1,type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e.trim())},null,8,["modelValue","class","placeholder"])):(0,i.Q3)("",!0),r.elements?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"payment-stripe__button button is-primary result__button",onClick:t[2]||(t[2]=(0,a.D$)(((...e)=>l.onPay&&l.onPay(...e)),["prevent"]))}," Pay now "+(0,n.v_)(e.$format.currency(e.amount,e.currency)),1)):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",{class:"payment-stripe__error"},(0,n.v_)(r.errorMessage),513),[[a.aG,r.errorMessage]])],512),[[a.aG,!r.loading]]),(0,i.bo)((0,i.Lk)("div",ys,null,512),[[a.aG,r.loading]]),(0,i.bo)((0,i.Lk)("div",{class:"payment-stripe__close",onClick:t[3]||(t[3]=(...e)=>l.closeModal&&l.closeModal(...e))},[(0,i.Lk)("div",{class:"payment-stripe__text",style:(0,n.Tr)(l.textColor)}," Close ",4),(0,i.bF)(c,{class:"payment-stripe__icon",icon:"close",size:"is-medium",type:"is-light"})],512),[[a.aG,!r.loading&&s.closable]])],4)])),_:1},8,["modelValue","onClose"])])}var bs={extends:Ht.A,async mounted(){Nt()("https://js.stripe.com/v3/",this.pay)},props:{closable:{type:Boolean,default:!0}},data(){return{stripe:null,clientSecret:null,elements:null,errorMessage:null,loading:!0,modalShow:!0,emailCheckbox:!1,email:null}},computed:{isNightTheme(){return"night"===T()(this.settings,"theme","stripe")},textColor(){return{color:this.isNightTheme?"#ffffff":"#4A4A4A"}}},methods:{async pay(){try{this.stripe=Stripe(T()(this.settings,"publishableKey"));const e=await be.bS.post("integrations/stripe/create-payment-intent",{secretKey:T()(this.settings,"secretKey"),amount:this.amount,currency:this.currency,description:T()(this.settings,"description")||this.description,receipt_email:this.emailCheckbox?this.email||T()(this.contacts,"email"):null});this.clientSecret=T()(e,"data.clientSecret"),this.elements=this.stripe.elements({appearance:{theme:T()(this.settings,"theme","stripe")},clientSecret:this.clientSecret});const t=this.elements.create("payment");t.mount("#stripe-payment"),this.loading=!1}catch(e){this.loading=!1,this.errorMessage=T()(e,"message","Something goes wrong, please try again.")}},async onPay(){try{this.loading=!0,T()(this.contacts,"email")||this.$store.commit("quiz/form/setContacts",{email:this.email});const{error:e}=await this.stripe.confirmPayment({elements:this.elements,confirmParams:{return_url:T()(this.info,"form.redirect")||"https://marquiz.io/",receipt_email:this.emailCheckbox?this.email||T()(this.contacts,"email"):null},redirect:"if_required"});if(e)throw e}catch(e){this.loading=!1,this.errorMessage=T()(e,"message","An unexpected error occurred.")}setTimeout((()=>this.checkPaymentStatus()),2e3)},async checkPaymentStatus(){const{paymentIntent:e}=await this.stripe.retrievePaymentIntent(this.clientSecret);switch(e.status){case"succeeded":this.loading=!1,e.amount&&(e.amount/=100),this.$emit("success",e);break;case"processing":setTimeout((()=>this.checkPaymentStatus),1e3);break;default:this.errorMessage=T()(e,"last_payment_error.message","Your payment was not successful, please try again."),this.loading=!1,this.$emit("fail",e);break}},closeModal(){this.modalShow=!1,this.$emit("close")}}};const gs=(0,ke.A)(bs,[["render",_s]]);var ks=gs;const fs={id:"payment-form"};function qs(e,t,s,n,a,o){return(0,i.uX)(),(0,i.CE)("div",fs)}var ws={extends:Ht.A,async mounted(){Nt()("https://yookassa.ru/checkout-widget/v1/checkout-widget.js",this.pay)},destroyed(){this.checkout&&this.checkout.destroy()},data(){return{checkout:null}},computed:{receiptItems(){if(this.basketMode){const e=Vt()(this.basketItems,(e=>{const t={description:e.description.slice(0,128),quantity:e.count,amount:{value:e.price,currency:"RUB"},vat_code:T()(this.settings,"vatCode",3)},s=U()(T()(e,"params.options",[]),(t=>({description:`${t.name}: ${t.value.key}`.slice(0,128),quantity:e.count||1,amount:{value:new It.Ay(t.value.value).toFixed(2),currency:"RUB"},vat_code:T()(this.settings,"vatCode",3)})));return[t,...s]}));return H()(this.selectedDelivery)||e.push({description:this.selectedDelivery.name.slice(0,128),quantity:1,amount:{value:this.selectedDelivery.amount,currency:"RUB"},vat_code:T()(this.settings,"vatCode",3)}),e}return[{description:this.description.slice(0,128),quantity:1,amount:{value:this.amount,currency:"RUB"},vat_code:T()(this.settings,"vatCode",3)}]}},methods:{async pay(){try{const e={amount:{value:this.amount,currency:"RUB"},confirmation:{type:"embedded"},capture:!0,description:this.description.slice(0,128)};!T()(this.settings,"receipt",!1)||H()(this.contacts.email)&&H()(this.contacts.phone)||Mt()(e,"receipt",{customer:{email:this.contacts.email,phone:this.contacts.phone},items:this.receiptItems});const{data:{id:t,confirmationToken:s}}=await be.bS.post("integrations/yookassa/create-payment",{secretKey:T()(this.settings,"secretKey"),shopId:T()(this.settings,"shopId"),paymentData:e});this.checkout=new window.YooMoneyCheckoutWidget({confirmation_token:s,customization:{colors:{control_primary:T()(this.info,"design.colors.main"),control_primary_content:T()(this.info,"design.colors.buttonTextColor"),background:T()(this.info,"design.colors.bgColor"),text:T()(this.info,"design.colors.bgTextColor"),border:T()(this.info,"design.colors.main")}},error_callback(e){this.onFail(),console.error(e)}}),this.checkout.on("success",(()=>{this.onSuccess({id:t,amount:this.amount}),this.checkout.destroy()})),this.checkout.on("fail",(()=>{this.onFail({id:t,amount:this.amount}),this.checkout.destroy()})),this.checkout.render("payment-form")}catch(e){this.onFail(),console.error(e)}}}};const Cs=(0,ke.A)(ws,[["render",qs]]);var Ss=Cs,zs=s(61284),Ls=s(10550),Es={mixins:[Ls.A],components:{Cloudpayments:Ut,Tinkoff:ls,Sberbank:ps,Stripe:ks,YooKassa:Ss,PaymentModal:zs.A},inject:["isMobile"],created(){(1===T()(this.payments,"length")&&"other"!==T()(this.payments[0],"name")||"afterForm"===this.resultsPosition||this.leadFormDisabled)&&(this.service=this.chosenPaymentService),("yandexpay"===this.service.name||this.redirectedFrom)&&this.handleYandexPay()},data(){return{service:{name:null},isPaymentModalOpen:!0}},computed:{...(0,Q.aH)("quiz",["leadFormDisabled","payments","chosenPaymentService","paymentStatus","paymentId","redirectedFrom"]),...(0,Q.L8)("quiz/form",["form"]),...(0,Q.L8)("quiz",["result","data","paymentAmount","resultsPosition","hasOnlyYandexPay"]),...(0,Q.L8)("quiz/basket",["basketCount","basketMode"]),...(0,Q.L8)("quiz/thanks",["thanksPage"]),paymentDescription(){return this.basketCount>1?this.$t("{count} items",{count:this.basketCount}):T()(this.result,"internalName")||T()(this.result,"title")}},methods:{onSuccess(e){if(this.$store.dispatch("analytics/event","marquiz-payment-success"),this.$store.commit("quiz/setPaymentStatus","success"),this.updateLead(!0,e),this.$store.dispatch("analytics/event","purchase"),this.$store.dispatch("analytics/event","successfulPurchase"),this.$mToast.show("payment"),this.result.link)return(0,be.re)({url:this.result.link});this.showNext()},onFail(e){this.$store.dispatch("analytics/event","marquiz-payment-fail"),this.$store.commit("quiz/setPaymentStatus","fail"),this.updateLead(!1,e),this.$store.dispatch("analytics/event","purchase"),this.$mToast.show("payment"),this.payments.length>1&&(this.service={name:null})},showNext(){const e=T()(this.thanksPage,"redirect");"redirect"!==T()(this.thanksPage,"type")||!e||this.leadFormDisabled?this.$store.dispatch("quiz/showThanksPage"):this.$store.dispatch("quiz/redirect",e)},onCloseModal(){this.$store.commit("quiz/setPaymentStatus",null),this.showNext()},onCloseWidget(){this.$store.commit("quiz/setPaymentStatus",null),this.$store.dispatch("analytics/event","purchase"),this.payments.length>1?this.service={name:null}:this.showNext()},updateLead(e,t){if("other"===t)return this.leadFormDisabled?void this.$store.commit("quiz/setPaymentLead","other"):void this.$store.dispatch("quiz/form/saveLead",Tt()(this.data,{extra:{payment:{provider:"other"}}}));const s={...this.data};s.extra.payment={paid:e,provider:this.service.name,...t},this.leadFormDisabled&&this.$store.dispatch("quiz/setPaymentLead",s.extra.payment);const i=T()(t,"invoiceId")||T()(t,"id");i&&"yandexpay"!==this.service.name&&this.$store.commit("quiz/setPaymentId",i),this.$store.dispatch("quiz/form/saveLead",s)},updateService(){this.$store.commit("quiz/setPaymentStatus",null),this.service=this.chosenPaymentService,"yandexpay"===this.service.name&&this.handleYandexPay()},otherPaymentSubmit(){this.$store.dispatch("analytics/event","purchase"),this.$store.dispatch("analytics/event","successfulPurchase"),this.updateLead(!0,"other")},async handleYandexPay(){if(this.redirectedFrom)return this.$store.commit("quiz/removeState"),this.$router.replace({query:xt()(this.$route.query,"redirectedFrom")}),this.result.link?(0,be.re)({url:this.result.link}):this.showNext();let e;this.hasOnlyYandexPay||(e=await this.getPaymentUrl()),this.$store.commit("quiz/saveState"),this.updateLead(!1,{id:this.paymentId}),!this.hasOnlyYandexPay&&e&&(window.location.href=e)}}};const Ps=(0,ke.A)(Es,[["render",At]]);var As=Ps,$s=s(45292),xs=s(55510),Bs=s(94132),Ts=s(76726);const Xs={class:"delivery"},Fs={class:"delivery__container"},Qs={class:"delivery__wrapper"},Ms={class:"delivery__header"},Ds={class:"delivery__title"},Vs={class:"delivery__info"},Rs={class:"delivery__image"},Ns={class:"delivery__name"},Hs={key:0,class:"delivery__price"},Is={key:0,class:"delivery__old-price"},Ws={class:"delivery__body"};function Os(e,t,s,a,o,r){const l=(0,i.g2)("DeliveryNavpad");return(0,i.uX)(),(0,i.CE)("div",Xs,[(0,i.Lk)("div",Fs,[(0,i.Lk)("div",Qs,[(0,i.Lk)("div",Ms,[(0,i.Lk)("div",Ds,(0,n.v_)(r.title),1),(0,i.Lk)("div",Vs,[(0,i.Lk)("div",Rs,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.image)))]),(0,i.Lk)("span",Ns,(0,n.v_)(r.name),1),r.cost?((0,i.uX)(),(0,i.CE)("span",Hs,[t[0]||(t[0]=(0,i.eW)(" ,Â  ")),r.isActiveFreeDelivery?((0,i.uX)(),(0,i.CE)("span",Is,(0,n.v_)(r.cost),1)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,n.v_)(r.isActiveFreeDelivery?e.$t("Free"):r.cost),1)])):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",Ws,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.deliveryComponent),{delivery:e.delivery,value:e.value},null,8,["delivery","value"]))])])]),(0,i.bF)(l,{shownNextButton:"",shownBackButton:r.shownBackButton,disabledNextButton:!r.filled&&(e.requiredStep||e.hasManyDelivery),blickedNextButton:r.filled,onNext:r.clickNextButton,onPrevious:r.showPrevBlock},null,8,["shownBackButton","disabledNextButton","blickedNextButton","onNext","onPrevious"])])}const Us={class:"delivery-address"},Ks={class:"delivery-address__inputs"},js={class:"delivery-address__checkboxes"};function Ys(e,t,s,a,o,r){const l=(0,i.g2)("AddressDropdown"),u=(0,i.g2)("b-input"),d=(0,i.g2)("b-checkbox");return(0,i.uX)(),(0,i.CE)("div",Us,[(0,i.Lk)("div",Ks,[(0,i.bF)(l,{ref:"input",modelValue:o.address,"onUpdate:modelValue":t[0]||(t[0]=e=>o.address=e),class:"delivery-address__input delivery-address__input_address",suggestApiKey:r.suggestApiKey,placeholder:e.$t("Address"),hideIcon:""},null,8,["modelValue","suggestApiKey","placeholder"]),(0,i.bF)(u,{ref:"input",modelValue:o.apartment,"onUpdate:modelValue":t[1]||(t[1]=e=>o.apartment=e),class:"delivery-address__input delivery-address__input_small",placeholder:e.$t("Apartment/Office"),maxlength:10,hasCounter:!1},null,8,["modelValue","placeholder"]),(0,i.bF)(u,{ref:"input",modelValue:o.entrance,"onUpdate:modelValue":t[2]||(t[2]=e=>o.entrance=e),class:"delivery-address__input delivery-address__input_small",placeholder:e.$t("Entrance"),maxlength:10,hasCounter:!1},null,8,["modelValue","placeholder"]),(0,i.bF)(u,{ref:"input",modelValue:o.floor,"onUpdate:modelValue":t[3]||(t[3]=e=>o.floor=e),class:"delivery-address__input delivery-address__input_small",placeholder:e.$t("Floor"),maxlength:10,hasCounter:!1},null,8,["modelValue","placeholder"]),(0,i.bF)(u,{ref:"input",modelValue:o.intercom,"onUpdate:modelValue":t[4]||(t[4]=e=>o.intercom=e),class:"delivery-address__input delivery-address__input_small",placeholder:e.$t("Door code"),maxlength:10,hasCounter:!1},null,8,["modelValue","placeholder"]),(0,i.bF)(u,{ref:"input",modelValue:o.courierNote,"onUpdate:modelValue":t[5]||(t[5]=e=>o.courierNote=e),class:"delivery-address__input",placeholder:e.$t("Courier note"),maxlength:1e3,hasCounter:r.shownNoteCounter},null,8,["modelValue","placeholder","hasCounter"])]),(0,i.Lk)("div",js,[(0,i.bF)(d,{modelValue:o.callBeforeDelivery,"onUpdate:modelValue":t[6]||(t[6]=e=>o.callBeforeDelivery=e)},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(e.$t("Call before delivery")),1)])),_:1},8,["modelValue"]),(0,i.bF)(d,{modelValue:o.leaveAtDoor,"onUpdate:modelValue":t[7]||(t[7]=e=>o.leaveAtDoor=e)},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(e.$t("Leave at the door")),1)])),_:1},8,["modelValue"])])])}var Gs=s(21396),Js=s.n(Gs),Zs=s(35854);const ei=e=>{if(!e)return"";const t=Js().AES.decrypt(e,"d51f2f4d03be97ba48958a7ad6901646");return t.toString(Js().enc.Utf8)};var ti={name:"Delivery",components:{AddressDropdown:Zs.A},props:{value:{type:Object,default:()=>({})}},data(){return{address:this.value.address||"",apartment:this.value.apartment,entrance:this.value.entrance,floor:this.value.floor,intercom:this.value.intercom,courierNote:this.value.courierNote,callBeforeDelivery:this.value.callBeforeDelivery,leaveAtDoor:this.value.leaveAtDoor}},computed:{...(0,Q.aH)("quiz",["settings"]),suggestApiKey(){const e=T()(this.settings,"map[yandex].encryptedSuggestApiKey","");return e?ei(e):null},shownNoteCounter(){return A()(this.courierNote)>750},emittedValue(){return{address:this.address,apartment:this.apartment,entrance:this.entrance,floor:this.floor,intercom:this.intercom,courierNote:this.courierNote,callBeforeDelivery:this.callBeforeDelivery,leaveAtDoor:this.leaveAtDoor}}},watch:{emittedValue(e){this.$store.commit("quiz/delivery/setValue",e)}}};const si=(0,ke.A)(ti,[["render",Ys]]);var ii=si,ni=s(50953),ai=s(94497),oi=s(86711),ri=s(23570);const li={class:"delivery-pickup-points"},ui=["onClick"],di={class:"delivery-pickup-points__address-title"},ci={class:"delivery-pickup-points__address-address"},hi={key:0,class:"delivery-pickup-points__address-note"},pi={key:0,class:"delivery-pickup-points__map-wrapper"},mi={key:0,class:"delivery-pickup-points__map-loading"},vi={key:1,class:"delivery-pickup-points__map-error"},yi={key:0,class:"delivery-pickup-points__map-error-message"};var _i={__name:"DeliveryPickupPoints",props:{delivery:{type:Object,default:()=>({})}},setup(e){const t=e,{error:s,loading:o,hasApiKeys:r}=(0,ri.zo)(),l=(0,Q.Pj)(),u=(0,i.EW)((()=>T()(l,"state.quiz.delivery.selectedPickupPointId",null))),d=(0,i.EW)((()=>l.getters["quiz/delivery/selectedPickupPoint"])),c=(0,ni.IJ)(null),h=(0,ni.KR)({location:{bounds:(0,oi.n6)(t.delivery?.bounds)},margin:[100,100,100,100]}),p=(0,ni.KR)(U()(t.delivery?.addresses,(({value:e,position:t,bounds:s,id:i})=>({coordinates:(0,oi.NC)(t),title:e,onClick(){m(s),l.commit("quiz/delivery/selectPickupPoint",i)}}))));function m(e){c.value&&e&&c.value?.setLocation({bounds:(0,oi.n6)(e),duration:500,easing:"ease-out"})}return(0,i.wB)(u,(()=>{m(d.value?.bounds)})),(0,i.wB)(c,(e=>{e&&u.value&&m(d.value?.bounds)})),(t,l)=>((0,i.uX)(),(0,i.CE)("div",li,[(0,i.Lk)("div",{class:(0,n.C4)(["delivery-pickup-points__addresses",{"delivery-pickup-points__addresses_has-map":(0,ni.R1)(r)&&e.delivery.shownMapOnQuiz}])},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.delivery.addresses,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:(0,n.C4)(["delivery-pickup-points__address",{"delivery-pickup-points__address_selected":u.value===e.id}]),onClick:s=>t.$store.commit("quiz/delivery/selectPickupPoint",e.id)},[(0,i.Lk)("div",di,(0,n.v_)(e.name),1),(0,i.Lk)("div",ci,(0,n.v_)(e.address),1),e.note?((0,i.uX)(),(0,i.CE)("div",hi,(0,n.v_)(e.note),1)):(0,i.Q3)("",!0),l[1]||(l[1]=(0,i.Lk)("div",{class:"delivery-pickup-points__address-check"},null,-1))],10,ui)))),128))],2),(0,ni.R1)(r)&&e.delivery.shownMapOnQuiz?((0,i.uX)(),(0,i.CE)("div",pi,[(0,i.bF)(a.eB,{name:"delivery-pickup-points__map-animation"},{default:(0,i.k6)((()=>[(0,ni.R1)(o)?((0,i.uX)(),(0,i.CE)("div",mi)):(0,ni.R1)(s)?((0,i.uX)(),(0,i.CE)("div",vi,[(0,ni.R1)(s)?((0,i.uX)(),(0,i.CE)("div",yi,(0,n.v_)(t.$t("Oops, the map wonât load")),1)):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.Wv)((0,ni.R1)(ai.a3),{key:2,modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),class:"delivery-pickup-points__map",settings:h.value},{default:(0,i.k6)((()=>[(0,i.bF)((0,ni.R1)(ai.LH)),(0,i.bF)((0,ni.R1)(ai.HP)),(0,i.bF)((0,ni.R1)(ai.Kk),{settings:{position:"right"}},{default:(0,i.k6)((()=>[(0,i.bF)((0,ni.R1)(ai.qZ)),(0,i.bF)((0,ni.R1)(ai.lA))])),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(p.value,((e,t)=>((0,i.uX)(),(0,i.Wv)((0,ni.R1)(ai.Nc),{key:t,settings:e},null,8,["settings"])))),128))])),_:1},8,["modelValue","settings"]))])),_:1})])):(0,i.Q3)("",!0)]))}};const bi=(0,ke.A)(_i,[["__scopeId","data-v-465a20e2"]]);var gi=bi;const ki={class:"delivery-navpad"},fi={class:"delivery__container"},qi=["disabled"],wi={class:"delivery-navpad__button_next-text"};function Ci(e,t,s,a,o,r){const l=(0,i.g2)("b-icon");return(0,i.uX)(),(0,i.CE)("div",ki,[(0,i.Lk)("div",fi,[(0,i.Lk)("div",{class:(0,n.C4)(["delivery-navpad__buttons",{"delivery-navpad__buttons_only-back":!s.shownNextButton}])},[s.shownBackButton?((0,i.uX)(),(0,i.CE)("button",{key:0,class:(0,n.C4)(["button delivery-navpad__button delivery-navpad__button_prev",{"is-square":e.buttonStyle.square,"is-outline":e.buttonStyle.outline}]),onClick:t[0]||(t[0]=t=>e.$emit("previous"))},[(0,i.bF)(l,{icon:"rtl"===this.direction?"arrow-right":"arrow-left"},null,8,["icon"])],2)):(0,i.Q3)("",!0),s.shownNextButton?((0,i.uX)(),(0,i.CE)("button",{key:1,class:(0,n.C4)(["button delivery-navpad__button delivery-navpad__button_next",{"is-blicked":s.blickedNextButton,"is-square":e.buttonStyle.square,"is-outline":e.buttonStyle.outline}]),disabled:s.disabledNextButton,onClick:t[1]||(t[1]=t=>e.$emit("next"))},[(0,i.Lk)("span",wi,(0,n.v_)(e.getPhrase("questionsNextButton")),1),(0,i.bF)(l,{class:"delivery-navpad__next-icon",icon:"rtl"===this.direction?"arrow-left":"arrow-right"},null,8,["icon"])],10,qi)):(0,i.Q3)("",!0)],2)])])}var Si={name:"DeliveryNavpad",mixins:[dt.A],props:{shownNextButton:Boolean,shownBackButton:Boolean,disabledNextButton:Boolean,blickedNextButton:Boolean},computed:{...(0,Q.aH)(["direction"]),...(0,Q.L8)("quiz",["buttonStyle"])}};const zi=(0,ke.A)(Si,[["render",Ci]]);var Li=zi,Ei=s(36963),Pi=s(90419),Ai={name:"Delivery",components:{DeliveryAddress:ii,DeliveryPickupPoints:gi,DeliveryNavpad:Li,addressIcon:Ei.A,pickuppointsIcon:Pi.A},computed:{...(0,Q.L8)("quiz/basket",["basketTotalAmount"]),...(0,Q.L8)("quiz/delivery",{delivery:"shownDelivery"}),...(0,Q.L8)("quiz/delivery",["hasDelivery","hasManyDelivery","requiredStep"]),...(0,Q.aH)("quiz/delivery",["value","selectedPickupPointId"]),...(0,Q.L8)("quiz",["data","isDeliveryAfterForm","isLastBlock","isActivePaymentBlock"]),...(0,Q.aH)("quiz",["payments"]),...(0,Q.aH)("quiz/form",["answerId"]),title(){return this.delivery?.type===be.rV.PICKUP_POINTS?this.$t("Choose pickup point"):this.$t("Specify delivery address")},name(){return this.delivery?.name},cost(){return H()(this.delivery?.cost)?null:this.$format.currency(this.delivery?.cost)},image(){return this.delivery?.type===be.rV.PICKUP_POINTS?Pi.A:Ei.A},isActiveFreeDelivery(){return this.delivery?.freeDeliveryThreshold&&this.basketTotalAmount>Le()(this.delivery?.freeDeliveryThreshold)},deliveryComponent(){switch(this.delivery?.type){case be.rV.ADDRESS:return ii;case be.rV.PICKUP_POINTS:return gi;default:return null}},filled(){switch(this.delivery?.type){case be.rV.ADDRESS:return!H()(this.value?.address);case be.rV.PICKUP_POINTS:return Boolean(this.selectedPickupPointId);default:return null}},shownBackButton(){return!this.isDeliveryAfterForm||this.hasManyDelivery}},methods:{async clickNextButton(){this.hasManyDelivery||this.filled?await this.save():this.skip(),await this.showNextBlock()},skip(){this.$store.dispatch("analytics/event","marquiz-delivery-skip",{root:!0})},async save(){!this.hasManyDelivery&&this.filled&&(this.$store.commit("quiz/delivery/selectDelivery",this.delivery?.id),await this.$nextTick()),this.isDeliveryAfterForm&&(await this.$store.dispatch("quiz/form/saveLead",this.data),this.answerId&&await this.$store.dispatch("quiz/delivery/sendNotification",this.answerId))},async showNextBlock(){if(this.isDeliveryAfterForm&&this.isActivePaymentBlock)return 1===this.payments.length&&"other"!==T()(this.payments[0],"name")&&this.$store.commit("quiz/setPaymentService",this.payments[0]),void this.$store.dispatch("quiz/showPayment");this.$store.dispatch("quiz/showNextBlock")},showPrevBlock(){this.hasManyDelivery?(this.$store.dispatch("quiz/showDeliveries"),this.$store.commit("quiz/delivery/deselectDelivery")):this.$store.dispatch("quiz/showPrevBlock")}},watch:{filled(e){e||this.hasManyDelivery||this.$store.commit("quiz/delivery/deselectDelivery")}}};const $i=(0,ke.A)(Ai,[["render",Os]]);var xi=$i;const Bi={class:"deliveries"},Ti={class:"deliveries__container"},Xi={class:"deliveries__wrapper"},Fi={class:"deliveries__title"},Qi={class:"deliveries__methods"};function Mi(e,t,s,a,o,r){const l=(0,i.g2)("DeliveryMethodCard"),u=(0,i.g2)("DeliveryNavpad");return(0,i.uX)(),(0,i.CE)("div",Bi,[(0,i.Lk)("div",Ti,[(0,i.Lk)("div",Xi,[(0,i.Lk)("div",Fi,(0,n.v_)(e.$t("Select delivery method")),1),(0,i.Lk)("div",Qi,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.methods,(e=>((0,i.uX)(),(0,i.Wv)(l,{key:e.id,delivery:e,onClick:t=>r.selectDelivery(e.id)},null,8,["delivery","onClick"])))),128))])])]),e.requiredStep&&e.isDeliveryAfterForm?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(u,{key:0,shownNextButton:!e.requiredStep,shownBackButton:!e.isDeliveryAfterForm,onNext:r.skip,onPrevious:t[0]||(t[0]=t=>e.$store.dispatch("quiz/showPrevBlock"))},null,8,["shownNextButton","shownBackButton","onNext"]))])}const Di={class:"delivery-method-card"},Vi={class:"delivery-method-card__info"},Ri={class:"delivery-method-card__title"},Ni={class:"delivery-method-card__image"},Hi={key:0,class:"delivery-method-card__note"},Ii={class:"delivery-method-card__prices"},Wi={class:"delivery-method-card__price"},Oi={key:0,class:"delivery-method-card__old-price"},Ui={key:0,class:"delivery-method-card__free-delivery-threshold"};function Ki(e,t,s,a,o,r){return(0,i.uX)(),(0,i.CE)("div",Di,[(0,i.Lk)("div",Vi,[(0,i.Lk)("div",Ri,[(0,i.Lk)("div",Ni,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.image)))]),(0,i.Lk)("span",null,(0,n.v_)(s.delivery.name),1)]),s.delivery.note?((0,i.uX)(),(0,i.CE)("div",Hi,(0,n.v_)(s.delivery.note),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Ii,[(0,i.Lk)("div",Wi,[s.delivery.isActiveFreeDelivery?((0,i.uX)(),(0,i.CE)("span",Oi,(0,n.v_)(e.$format.currency(s.delivery.cost)),1)):(0,i.Q3)("",!0),(0,i.eW)(" "+(0,n.v_)(s.delivery.cost?e.$format.currency(s.delivery.amount):e.$t("Free")),1)]),s.delivery.cost&&s.delivery.freeDeliveryThreshold?((0,i.uX)(),(0,i.CE)("div",Ui,(0,n.v_)(e.$t("Free from {price}",{price:e.$format.currency(s.delivery.freeDeliveryThreshold)})),1)):(0,i.Q3)("",!0)])])}var ji={name:"DeliveryMethodCard",components:{addressIcon:Ei.A,pickuppointsIcon:Pi.A},props:{delivery:{type:Object,default:()=>({})}},computed:{image(){return this.delivery.type===be.rV.PICKUP_POINTS?Pi.A:Ei.A}}};const Yi=(0,ke.A)(ji,[["render",Ki]]);var Gi=Yi,Ji={name:"Deliveries",components:{DeliveryNavpad:Li,DeliveryMethodCard:Gi},computed:{...(0,Q.aH)("quiz/delivery",["options"]),...(0,Q.L8)("quiz/delivery",["methods","requiredStep"]),...(0,Q.L8)("quiz",["isDeliveryAfterForm","isActivePaymentBlock"]),...(0,Q.aH)("quiz",["payments"])},methods:{async skip(){if(this.$store.dispatch("analytics/event","marquiz-delivery-skip",{root:!0}),this.isDeliveryAfterForm&&this.isActivePaymentBlock)return 1===this.payments.length&&"other"!==T()(this.payments[0],"name")&&this.$store.commit("quiz/setPaymentService",this.payments[0]),void this.$store.dispatch("quiz/showPayment");this.$store.dispatch("quiz/showNextBlock")},selectDelivery(e){this.$store.commit("quiz/delivery/selectDelivery",e),this.$store.dispatch("quiz/showDeliveryMethod")}}};const Zi=(0,ke.A)(Ji,[["render",Mi]]);var en=Zi,tn=s(37033);const sn={class:"assistant-desktop__avatar"},nn=["src"],an=["src"],on={key:0,class:"assistant-desktop__block"},rn={class:"assistant-desktop__name"},ln={ref:"text",class:"assistant-desktop__text"},un={class:"assistant-desktop__text-block"},dn=["innerHTML"],cn={key:0,class:"assistant-desktop__arrow"};function hn(e,t,s,o,r,l){return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["assistant-desktop",{"assistant-desktop_expanded":r.expanded,"assistant-desktop_has-more":r.hasMore}]),onClick:t[0]||(t[0]=(...e)=>l.toggleText&&l.toggleText(...e))},[(0,i.Lk)("div",sn,[e.imageUrl?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.imageUrl,alt:"Assistant"},null,8,nn)):((0,i.uX)(),(0,i.CE)("img",{key:1,src:e.avatar,alt:"Assistant image"},null,8,an)),t[1]||(t[1]=(0,i.Lk)("div",{class:"assistant__avatar-badge"},null,-1))]),s.text?((0,i.uX)(),(0,i.CE)("div",on,[(0,i.Lk)("div",rn,(0,n.v_)(l.title),1),(0,i.Lk)("div",ln,[(0,i.Lk)("div",un,[(0,i.bF)(a.eB,{name:"assistant-desktop__text-html_animation_slide",mode:"out-in",onBeforeEnter:l.reinit,onEnter:l.setHasMore},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.CE)("div",{ref:"assistantText",key:e.activeQuestion,class:"assistant-desktop__text-html"},[(0,i.Lk)("span",{class:(0,n.C4)({"assistant-desktop__text-one-line":!r.expanded&&r.applyOneLine}),innerHTML:s.text},null,10,dn)]))])),_:1},8,["onBeforeEnter","onEnter"]),r.hasMore?((0,i.uX)(),(0,i.CE)("div",cn)):(0,i.Q3)("",!0)])],512)])):(0,i.Q3)("",!0)],2)}var pn={extends:X.A,mounted(){this.setHasMore()},props:{assistant:Object,text:String},data(){return{hasMore:!1,expanded:!1,applyOneLine:!1}},computed:{...(0,Q.aH)("quiz",["activeQuestion"]),title(){return`${this.assistant.name}, ${this.assistant.title}`}},methods:{toggleText(){this.$refs.assistantText&&this.hasMore&&(this.expanded=!this.expanded)},setHasMore(){if(!this.$refs.assistantText)return;const e=parseInt(window.getComputedStyle(this.$refs.assistantText).lineHeight,10);this.hasMore=this.$refs.assistantText.scrollHeight>e,this.applyOneLine=!0},reinit(){this.hasMore=!1,this.expanded=!1,this.applyOneLine=!1}},watch:{expanded(e){!e&&this.hasMore?setTimeout((()=>{this.applyOneLine=!0}),500):this.applyOneLine=!1}}};const mn=(0,ke.A)(pn,[["render",hn]]);var vn=mn,yn={mounted(){this.animationType=this.slideAnimations?.forward??"quiz__question_animation_forward"},data(){return{isAnimating:!1,animationType:"",page:this.$store.state.quiz.page}},computed:{...(0,Q.L8)("quiz",["hasQuestions"]),animationSpeed(){return T()(this.info,"design.animationSpeed","default")},baseSpeed(){let e=170;switch(this.animationStyle===this.$constants.animation.FADE&&(e=260),this.animationStyle===this.$constants.animation.BOTTOM_TOP&&(e=200),this.animationSpeed){case"fast":return e-80+"ms";default:return`${e}ms`}},blockSpeed(){const e=300;switch(this.animationSpeed){case"fast":return e-50+"ms";default:return`${e}ms`}},resultLoaderSpeed(){const e=900;switch(this.animationSpeed){case"fast":return e-300+"ms";default:return`${e}ms`}},slideSpeed(){const e=600;switch(this.animationSpeed){case"fast":return e-200+"ms";default:return`${e}ms`}},slideDelay(){const e=300;switch(this.animationSpeed){case"fast":return e-100+"ms";default:return`${e}ms`}},animationStyles(){return{"--base-speed":this.baseSpeed,"--block-speed":this.blockSpeed,"--result-loader-speed":this.resultLoaderSpeed,"--quiz-question-transition":this.quizQuestionTransition,"--slide-speed":this.slideSpeed,"--slide-delay":this.slideDelay}},quizAnimation(){const e=this.$constants.page;if(this.animationStyle===this.$constants.animation.FADE)return"quiz_animation_fade";if(!this.resultLoaderShown){if(this.storePage===e.RESULTS&&"afterForm"!==this.resultsPosition&&this.hasQuestions)return"quiz_animation_slide";if(this.storePage===e.LEADFORM&&"beforeForm"!==this.resultsPosition)return"quiz_animation_slide"}return"quiz_animation_fade"},slideAnimations(){const e={rightLeft:{forward:"quiz__question_animation_forward",back:"quiz__question_animation_back"},bottomTop:{forward:"quiz__question_animation_up",back:"quiz__question_animation_down"},fade:{forward:"quiz__question_animation_fade",back:"quiz__question_animation_fade"}};return T()(e,this.animationStyle,e.rightLeft)},quizQuestionTransition(){return this.animationStyle===this.$constants.animation.FADE?`opacity ${this.baseSpeed} ease-in-out`:`opacity ${this.baseSpeed} cubic-bezier(.61, .3, .8, .97), transform ${this.baseSpeed} cubic-bezier(.61, .3, .8, .97)`}},methods:{afterLeave(){this.isLoaderShown||this.$store.commit("quiz/setPageActive"),this.resultHasScroll=!1},disableScroll(){this.animationStyle===this.$constants.animation.BOTTOM_TOP&&(this.isAnimating=!0)},enableScroll(){if(this.animationStyle===this.$constants.animation.BOTTOM_TOP){const e="fast"===this.animationSpeed?200:300;setTimeout((()=>{this.isAnimating=!1}),e)}}},watch:{activeQuestion(e,t){const s=T()(this.slideAnimations,"forward","quiz__question_animation_forward"),i=T()(this.slideAnimations,"back",s),n=T()(this.slideAnimations,"fade","quiz__question_animation_fade");if(this.animationStyle===this.$constants.animation.FADE)return n;this.animationType=e<t?i:s}}};const _n=yn;var bn=_n;const gn={mixins:[dt.A,bn],components:{ResultLoader:qt.A,FinalPage:(0,i.$V)((()=>s.e(2335).then(s.bind(s,71626)))),QuizNavbar:St.A,Assistant:X.A,Discount:kt.A,QuestionWrapper:gt,Bonuses:F.A,WhiteLabel:ft.A,Results:(0,i.$V)((()=>Promise.all([s.e(248),s.e(4746)]).then(s.bind(s,84746)))),Result:wt.A,ThankPage:zt.A,Payment:As,Loading:Lt.A,CookieNotice:Et.A,CustomVideoPlayer:$s.A,CircleVideoPlayer:xs.A,Basket:Bs.A,BasketDropdown:Ts.A,Toast:Ct.A,ProgressBar:tn.A,AssistantDesktop:vn,Deliveries:en,Delivery:xi},mounted(){this.changeHeight(),this.checkAssistantOnSlide()},data(){return{frameHeight:null,isLoaderShown:!1,resultHasScroll:!1,hasAssistantOnSlide:!1,autoplayVideo:!0}},computed:{...(0,Q.aH)(["cookieNotice"]),...(0,Q.L8)(["isFullScreen","isRtl"]),...(0,Q.aH)("quiz",{storePage:"page"}),...(0,Q.aH)("quiz",["activeQuestion","info","id","redirectUrl","isModalOpen","resultLoaderShown","results","paymentStatus","progress","shared"]),...(0,Q.L8)("quiz",["questions","currentQuestion","isLastQuestion","isQuestionFilled","isQuestionNotRequired","isWhiteLabelDisabled","isBonusesEnabled","buttonStyle","isWidgetMode","animationStyle","resultsPosition","quizTitle","hasQuestions","hasResults","suitableResults","countQuestions","questionNumber","bonusesCount"]),...(0,Q.L8)("quiz/progress",["getPassedPercent","isProgressBarHorizontal"]),...(0,Q.L8)("quiz/basket",["basketMode"]),...(0,Q.L8)("quiz/delivery",["selectedDelivery"]),$constants(){return be.gv},discount(){return T()(this.info,"marketing.discount.value")||T()(this.info,"marketing.discount.percent")},sidebarShown(){return"right"===this.elementsPosition&&(this.discount&&!this.isFullScreen||this.discount&&!this.hasTitle||this.hasAssistantOnSlide||this.isBonusesEnabled)},bonuses(){return T()(this.info,"marketing.bonuses",[])},questionType(){return T()(this.currentQuestion,"type")},canManyTag(){return"multiple"!==this.questionType?(0,J.C7)(this.currentQuestion):x()(T()(this.currentQuestion,"questions",[]),J.C7)},canSkipTag(){return this.isQuestionNotRequired&&"statement"!==this.currentQuestion.type&&!("owner"===this.currentQuestion?.address?.addressBy&&!this.currentQuestion?.address?.hasSelection)},hasTitle(){return!!T()(this.info,"title")&&!this.isWidgetMode},classes(){return["quiz",`quiz_${this.quizStyle}`,`quiz_${this.elementsPosition}`,{"quiz_has-cookie-notice":this.cookieNotice,"quiz_module-combined":"module"===this.quizStyle&&!(this.discount||this.isBonusesEnabled)},{quiz_animating:this.isAnimating}]},containerClasses(){return[{"quiz-container_result-has_scroll":this.resultHasScroll,"quiz-container_has-widget":this.isWidgetMode,"hide-scrollbar":this.isWidgetMode,"quiz-container_animation-direction_bt":this.animationStyle===this.$constants.animation.BOTTOM_TOP,"quiz-container_animation-style_fade":this.animationStyle===this.$constants.animation.FADE,"quiz-container_rtl":this.isRtl}]},progressBarClasses(){return["quiz__progress-bar",`quiz__progress-bar_${this.progressBarPosition}`,{"quiz__progress-bar_horizontal":this.isProgressBarHorizontal&&"in-title"===this.progressBarPosition}]},titleContainerClasses(){return{"quiz__title-container_has-horizontal-progress-bar":this.progress.enabled&&this.isProgressBarHorizontal,"quiz__title-container_has-title":this.hasTitle,"quiz__title-container_has-discount":this.discount&&!this.sidebarShown&&"right"===this.elementsPosition}},hasAssistant(){const e=T()(this.info,"assistant.name");return T()(this.info,"assistant.enabled",!!e)&&e},hasVideoOnSlide(){return"video"===T()(this.currentQuestion,"hint.type")&&!!this.questionVideo},hasHintOnSlide(){return"text"===T()(this.currentQuestion,"hint.type")&&!!T()(this.currentQuestion,"hint.text")},questionHint(){if(this.hasHintOnSlide)return T()(this.currentQuestion,"hint.text")},questionVideo(){return this.$video.parse(T()(this.currentQuestion,"hint.video"),!0)},resultLayoutType(){return T()(this.results,"layoutType","slider")},isWhiteLabelShown(){return this.page===this.$constants.page.QUESTIONS&&!this.sidebarShown&&!this.isWhiteLabelDisabled||this.page===this.$constants.page.RESULTS&&!this.isWhiteLabelDisabled&&"scroll"===this.resultLayoutType},redirectMessage(){return this.getPhrase("redirectToMessenger")||this.$t("Redirecting to {-url}",{url:this.$format.site(this.redirectUrl)})},hasBasket(){return this.basketMode&&this.results.multiple&&A()(this.suitableResults)>1},quizStyle(){return T()(this.info,"design.quizStyle","standard")},elementsPosition(){return T()(this.info,"design.elementsPosition","right")},progressBarPosition(){return this.isProgressBarHorizontal||this.hasTitle?"in-title":"in-question"},progressBarProps(){return{class:this.progress.type?`quiz__progress-bar_${this.progress.type}`:null,percent:Math.round(this.getPassedPercent),type:this.progress.type,number:this.questionNumber,count:this.countQuestions}}},methods:{...(0,Q.i0)("quiz",["prevQuestion","nextQuestion"]),questionEntered(){this.changeHeight()},questionLeaved(){this.$el.scrollTop=0},checkAssistantOnSlide(){this.hasAssistantOnSlide=this.hasAssistant&&this.hasHintOnSlide},changeHeight(){E()(this.$refs.quiz)||this.$nextTick((()=>{let e;const t=this.$refs.quiz?.clientHeight;if(t&&"images"===this.questionType){const s=T()(this.$refs,"question.0.$el");if(!s)return;e=t-s.clientHeight+s.scrollHeight+.9375,e>40.625&&(e=40.625),e<t&&(e=t),e&&be.vS.changeHeight(this.id,e)}}))}},watch:{async storePage(e,t){const s=this.$constants.page;t!==s.RESULTS&&t!==s.RESULT||e!==s.QUESTIONS?(await this.$nextTick(),!this.resultLoaderShown&&this.hasQuestions&&this.hasResults&&(e!==s.LEADFORM&&e!==s.RESULTS&&e!==s.RESULT||this.shared||(this.isLoaderShown=!0)),this.page=e,await this.$nextTick(),this.changeHeight()):this.page=e},isLoaderShown(){this.$store.commit("quiz/setResultLoaderShown")}}},kn=()=>{(0,a.$9)((e=>({"370a8eee":e.quizQuestionTransition})))},fn=gn.setup;gn.setup=fn?(e,t)=>(kn(),fn(e,t)):kn;var qn=gn;const wn=(0,ke.A)(qn,[["render",z]]);var Cn=wn},45810:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return me}});var i=s(20641),n=s(90033),a=s(53751);const o={class:"quiz-mobile__questions-header"},r={key:0,class:"quiz-mobile__title"},l={key:1,class:"quiz-mobile__title-separator"},u={class:"quiz-mobile__tag-icon"},d={class:"quiz-mobile__tag-text"},c={class:"quiz-mobile__navbar"},h={key:"quiz__deliveries",class:"quiz__deliveries"},p={key:"quiz__delivery",class:"quiz__delivery"},m={key:"quiz-mobile__results",class:"quiz-mobile__results"},v={key:"quiz-mobile__result-loader",class:"quiz-mobile__result-loader"},y={key:"quiz-mobile__result",class:"quiz-mobile__result"},_={key:"quiz-mobile__result-loader",class:"quiz-mobile__result-loader"},b={key:"quiz-mobile__leadform'",class:"quiz-mobile__lead-form"},g={key:"quiz-mobile__result-loader",class:"quiz-mobile__result-loader"},k={key:"quiz-mobile__thanks",class:"quiz-mobile__thanks"},f={key:0,class:"quiz-mobile__redirect"},q={key:1,class:"quiz-mobile__basket-mobile"};function w(e,t,s,w,C,S){const z=(0,i.g2)("CustomVideoPlayer"),L=(0,i.g2)("b-icon"),E=(0,i.g2)("b-tag"),P=(0,i.g2)("AssistantMobile"),A=(0,i.g2)("QuestionWrapper"),$=(0,i.g2)("WhiteLabel"),x=(0,i.g2)("QuizNavbar"),B=(0,i.g2)("CookieNotice"),T=(0,i.g2)("Deliveries"),X=(0,i.g2)("Delivery"),F=(0,i.g2)("ResultLoader"),Q=(0,i.g2)("Results"),M=(0,i.g2)("Payment"),D=(0,i.g2)("Result"),V=(0,i.g2)("FinalPage"),R=(0,i.g2)("ThankPage"),N=(0,i.g2)("Loading"),H=(0,i.g2)("BasketMobile"),I=(0,i.g2)("Toast");return(0,i.uX)(),(0,i.CE)("div",{ref:"quiz",class:(0,n.C4)(["quiz-container",e.containerClasses]),style:(0,n.Tr)(e.animationStyles)},[(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.quizAnimation,onAfterLeave:e.afterLeave},{default:(0,i.k6)((()=>[e.page===e.$constants.page.QUESTIONS?((0,i.uX)(),(0,i.CE)("div",{key:"quiz",class:(0,n.C4)(S.classes)},[e.currentQuestion?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"quiz-mobile__questions",style:(0,n.Tr)(S.questionsStyle)},[(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType},{default:(0,i.k6)((()=>[e.hasVideoOnSlide?((0,i.uX)(),(0,i.Wv)(z,{key:e.questionVideo.link,class:"quiz-mobile__mobile-video",video:e.questionVideo,autoplay:e.autoplayVideo,muted:!1,paused:!e.isModalOpen,onPaused:t[0]||(t[0]=t=>e.autoplayVideo=!t)},null,8,["video","autoplay","paused"])):(0,i.Q3)("",!0)])),_:1},8,["name"]),(0,i.Lk)("div",o,[e.hasTitle?((0,i.uX)(),(0,i.CE)("h3",r,(0,n.v_)(e.quizTitle),1)):(0,i.Q3)("",!0),e.hasTitle?((0,i.uX)(),(0,i.CE)("hr",l)):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:(0,n.C4)(["title quiz-mobile__question-title",[{"quiz-mobile__question-title_without-title":!e.hasTitle}]])},[(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.CE)("span",{key:e.currentQuestion.id,class:"is-block"},(0,n.v_)(e.currentQuestion.title),1))])),_:1},8,["name"]),(0,i.bF)(a.eB,{name:e.animationType,appear:"",mode:"out-in"},{default:(0,i.k6)((()=>[e.canManyTag||e.canSkipTag?((0,i.uX)(),(0,i.CE)("div",{key:e.currentQuestion.id,class:"quiz-mobile__tags"},[e.canManyTag?((0,i.uX)(),(0,i.Wv)(E,{key:0,class:"quiz-mobile__tag quiz-mobile__tag_primary quiz-mobile__tag_many"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",u,[(0,i.bF)(L,{icon:"check-circle",customSize:"mdi-16px"})]),(0,i.Lk)("span",d,(0,n.v_)(e.$t("select one or more")),1)])),_:1})):(0,i.Q3)("",!0),e.canSkipTag?((0,i.uX)(),(0,i.Wv)(E,{key:1,class:"quiz-mobile__tag quiz-mobile__tag_skip"},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(e.$t("can skip")),1)])),_:1})):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])),_:1},8,["name"])],2),(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType},{default:(0,i.k6)((()=>[e.hasAssistantOnSlide&&!e.isWidgetMode?((0,i.uX)(),(0,i.Wv)(P,{key:0,class:"quiz-mobile__assistant",text:e.questionHint,assistant:e.info.assistant},null,8,["text","assistant"])):(0,i.Q3)("",!0)])),_:1},8,["name"])]),(0,i.bF)(a.eB,{appear:"",mode:"out-in",name:e.animationType,onAfterEnter:e.questionEntered,onAfterLeave:e.questionLeaved,onBeforeEnter:e.checkAssistantOnSlide,onBeforeLeave:e.resetAssistantOnSlide},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.Wv)(i.PR,null,[((0,i.uX)(),(0,i.Wv)(A,{id:e.currentQuestion.id,ref:"question",key:e.currentQuestion.id,class:"quiz-mobile__question",question:e.currentQuestion,hasHint:e.hasHintOnSlide&&(!e.hasAssistant||e.isWidgetMode)},null,8,["id","question","hasHint"]))],1024))])),_:1},8,["name","onAfterEnter","onAfterLeave","onBeforeEnter","onBeforeLeave"]),e.isWhiteLabelDisabled?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"quiz-mobile__whitelabel",style:(0,n.Tr)(S.labelStyle)},[(0,i.bF)($,{place:"center_nav_bar",style:(0,n.Tr)(S.labelStyle)},null,8,["style"])],4)),(0,i.Lk)("div",c,[(0,i.bF)(x,{passedPercent:e.getPassedPercent,activeQuestion:e.activeQuestion,discount:e.discount,notRequired:e.isQuestionNotRequired,isLast:e.isLastQuestion,filled:e.isQuestionFilled,whiteLabel:!0,buttonStyle:e.buttonStyle,isBonusesEnabled:e.isBonusesEnabled,onPrevious:e.prevQuestion,onNext:e.nextQuestion,onShowLead:e.nextQuestion},null,8,["passedPercent","activeQuestion","discount","notRequired","isLast","filled","buttonStyle","isBonusesEnabled","onPrevious","onNext","onShowLead"]),(0,i.bF)(B,{class:"quiz-mobile__cookie-notice"})])],4)):(0,i.Q3)("",!0)],2)):e.page===e.$constants.page.DELIVERIES?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(T)])):e.page===e.$constants.page.DELIVERY?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(X)])):e.page===e.$constants.page.RESULTS?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.bF)(a.eB,{name:"quiz-mobile__result-loader_animation_slide",onAfterLeave:t[2]||(t[2]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[e.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(F,{onFinished:t[1]||(t[1]=t=>e.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(Q)])):e.page===e.$constants.page.RESULT||e.page===e.$constants.page.PAYMENT?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.bF)(a.eB,{name:"quiz-mobile__result-loader_animation_slide",onAfterLeave:t[4]||(t[4]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[e.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",_,[(0,i.bF)(F,{onFinished:t[3]||(t[3]=t=>e.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),e.page===e.$constants.page.PAYMENT?((0,i.uX)(),(0,i.Wv)(M,{key:0})):((0,i.uX)(),(0,i.Wv)(D,{key:1,hasBasket:e.hasBasket,onHasScroll:t[5]||(t[5]=t=>e.resultHasScroll=t)},null,8,["hasBasket"]))])):e.page===e.$constants.page.LEADFORM?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(a.eB,{name:"quiz-mobile__result-loader_animation_slide",onAfterLeave:t[7]||(t[7]=t=>e.$store.commit("quiz/setPageActive"))},{default:(0,i.k6)((()=>[e.isLoaderShown?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.bF)(F,{onFinished:t[6]||(t[6]=t=>e.isLoaderShown=!1)})])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(V)])):e.page===e.$constants.page.THANKS?((0,i.uX)(),(0,i.CE)("div",k,[(0,i.bF)(R)])):(0,i.Q3)("",!0)])),_:1},8,["name","onAfterLeave"]),e.redirectUrl?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.bF)(N,{isFullPage:"",modelValue:!0},{default:(0,i.k6)((()=>[(0,i.eW)((0,n.v_)(e.redirectMessage),1)])),_:1})])):(0,i.Q3)("",!0),e.basketMode?((0,i.uX)(),(0,i.CE)("div",q,[(0,i.bF)(a.eB,{name:"quiz-mobile__basket-mobile-animation"},{default:(0,i.k6)((()=>[e.mobileBasketShown?((0,i.uX)(),(0,i.Wv)(H,{key:0})):(0,i.Q3)("",!0)])),_:1}),e.mobileBasketShown?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"quiz-mobile__basket-mobile-backdrop",onClick:t[8]||(t[8]=t=>e.$store.commit("quiz/basket/hideMobileBasket"))})):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),(0,i.bF)(I,{id:"payment",text:"success"===e.paymentStatus?e.$t("Payment successful"):e.$t("Payment failed. Please try again"),variant:"success"===e.paymentStatus?"positive":"negative",position:"middle"},null,8,["text","variant"])],6)}var C=s(66278),S=s(3663),z=s(31531),L=s(4396);const E={class:"basket-mobile__title"},P={class:"basket-mobile__wrapper"},A={key:1,class:"basket-mobile__empty"},$={key:2,class:"basket-mobile__delivery"},x={class:"basket-mobile__delivery-info"},B={class:"basket-mobile__delivery-image"},T={class:"basket-mobile__delivery-title"},X={class:"basket-mobile__delivery-amount"},F={class:"basket-mobile__for-button"},Q={class:"basket-mobile__button-text"},M={key:0,class:"basket-mobile__button-price"},D={key:1,class:"basket-mobile__for-result"};function V(e,t,s,a,o,r){const l=(0,i.g2)("BasketItem"),u=(0,i.g2)("PromocodeMobile"),d=(0,i.g2)("YandexPayWidget"),c=(0,i.g2)("Icon"),h=(0,i.g2)("BasketItemPreview");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["basket-mobile",{"basket-mobile_with-result":o.resultModalShown}])},[o.resultModalShown?((0,i.uX)(),(0,i.CE)("div",D,[(0,i.Lk)("a",{class:"basket-mobile__back-to-basket",href:"#",onClick:t[1]||(t[1]=e=>o.resultModalShown=!1)},[(0,i.bF)(c,{icon:["mdi","mdi-chevron-left"]}),(0,i.eW)(" "+(0,n.v_)(e.$t("Back to cart")),1)]),(0,i.bF)(h,{result:o.selectedItem},null,8,["result"])])):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("p",E,(0,n.v_)(e.$t("Cart")),1),(0,i.Lk)("div",P,[(0,i.Lk)("div",{class:(0,n.C4)(["basket-mobile__items",{"basket-mobile__items_no-button":e.page===r.$constants.page.LEADFORM}])},[e.isBasketEmpty?((0,i.uX)(),(0,i.CE)("div",A,(0,n.v_)(e.$t("Your cart is currently empty")),1)):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.selectedResults,(t=>((0,i.uX)(),(0,i.Wv)(l,{key:t.hash||t.id,class:"basket-mobile__item",result:t,clickable:e.page===r.$constants.page.LEADFORM,onClicked:e=>r.showBasketItem(t.hash)},null,8,["result","clickable","onClicked"])))),128)),e.hasPromocode?((0,i.uX)(),(0,i.Wv)(u,{key:0,discount:e.promocodeDiscountAmount,class:"basket-mobile__promocode"},null,8,["discount"])):(0,i.Q3)("",!0),e.yaPayWidgetEnabled?((0,i.uX)(),(0,i.Wv)(d,{key:1,id:"basket-mobile",amount:e.paymentAmount},null,8,["amount"])):(0,i.Q3)("",!0)],64)),e.selectedDelivery?((0,i.uX)(),(0,i.CE)("div",$,[(0,i.Lk)("div",x,[(0,i.Lk)("div",B,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(r.deliveryImage)))]),(0,i.Lk)("div",T,(0,n.v_)(e.selectedDelivery.name),1)]),(0,i.Lk)("div",X,(0,n.v_)(e.$format.currency(e.selectedDelivery.amount)),1)])):(0,i.Q3)("",!0),e.page!==r.$constants.page.LEADFORM?((0,i.uX)(),(0,i.CE)(i.FK,{key:3},[(0,i.Lk)("div",F,[(0,i.Lk)("button",{class:(0,n.C4)(["button is-primary basket-mobile__button",{"basket-mobile__button_with-price":e.hasTotalAmount,"is-square":e.buttonStyle.square}]),onClick:t[0]||(t[0]=(...e)=>r.showLeadForm&&r.showLeadForm(...e))},[(0,i.Lk)("div",Q,(0,n.v_)(e.buttonText),1),e.hasTotalAmount?((0,i.uX)(),(0,i.CE)("div",M,(0,n.v_)(e.$format.currency(e.paymentAmount)),1)):(0,i.Q3)("",!0)],2)]),t[3]||(t[3]=(0,i.Lk)("div",{class:"basket-mobile__blur"},null,-1))],64)):(0,i.Q3)("",!0)],2)])],64)),(0,i.Lk)("button",{class:"basket-mobile__close",onClick:t[2]||(t[2]=(...e)=>r.hide&&r.hide(...e))},[(0,i.bF)(c,{icon:["mdi","mdi-close"]})])],2)}var R=s(7309),N=s.n(R),H=s(94132),I=s(47623),W=s(23008),O=s(31304),U=s(36963),K=s(90419),j={name:"BasketMobile",extends:H.A,components:{Icon:I.A,BasketItemPreview:(0,i.$V)((()=>s.e(8468).then(s.bind(s,28468)))),PromocodeMobile:W.A,addressIcon:U.A,pickupPointsIcon:K.A},data(){return{resultModalShown:!1,selectedItem:null}},computed:{...(0,C.aH)("quiz",["page"]),...(0,C.L8)("quiz/delivery",["selectedDelivery"]),$constants(){return O.gv},deliveryImage(){return this.selectedDelivery.type===O.rV.PICKUP_POINTS?K.A:U.A}},methods:{showLeadForm(){this.hide(),this.$store.dispatch("quiz/showNextBlock")},hide(){this.$store.commit("quiz/basket/hideMobileBasket")},showBasketItem(e){this.selectedItem=N()(this.selectedResults,{hash:e}),this.resultModalShown=!0}}},Y=s(66262);const G=(0,Y.A)(j,[["render",V]]);var J=G,Z=s(62530),ee=s(45183),te=s(96552),se=s(31281),ie=s(45292),ne=s(58156),ae=s.n(ne),oe={computed:{...(0,C.L8)("quiz",["hasQuestions"]),animationSpeed(){return ae()(this.info,"design.animationSpeed","default")},baseSpeed(){let e=170;switch(this.animationStyle===this.$constants.animation.FADE&&(e=260),this.animationStyle===this.$constants.animation.BOTTOM_TOP&&(e=200),this.animationSpeed){case"fast":return e-80+"ms";default:return`${e}ms`}},blockSpeed(){const e=300;switch(this.animationSpeed){case"fast":return e-80+"ms";default:return`${e}ms`}},resultLoaderSpeed(){const e=300;switch(this.animationSpeed){case"fast":return e-150+"ms";default:return`${e}ms`}},animationStyles(){return{"--base-speed":this.baseSpeed,"--block-speed":this.blockSpeed,"--result-loader-speed":this.resultLoaderSpeed,"--quiz-question-transition":this.quizQuestionTransition}},quizQuestionTransition(){return`opacity ${this.baseSpeed} cubic-bezier(.61, .3, .8, .97), transform ${this.baseSpeed} cubic-bezier(.61, .3, .8, .97)`},quizAnimation(){const e=this.$constants.page;if(this.animationStyle===this.$constants.animation.FADE)return"quiz-mobile_animation_fade";if(!this.resultLoaderShown){if(this.storePage===e.RESULTS&&"afterForm"!==this.resultsPosition&&this.hasQuestions)return"quiz-mobile_animation_slide";if(this.storePage===e.LEADFORM&&"beforeForm"!==this.resultsPosition)return"quiz-mobile_animation_slide"}return"quiz_animation_fade"},slideAnimations(){const e={rightLeft:{forward:"quiz-mobile__question_animation_forward",back:"quiz-mobile__question_animation_back"},bottomTop:{forward:"quiz-mobile__question_animation_up",back:"quiz-mobile__question_animation_down"},fade:{forward:"quiz-mobile__question_animation_fade",back:"quiz-mobile__question_animation_fade"}};return ae()(e,this.animationStyle,e.rightLeft)}},methods:{resetAssistantOnSlide(){this.animationStyle===this.$constants.animation.BOTTOM_TOP&&(this.hasAssistantOnSlide=!1)},afterLeave(){this.isLoaderShown||this.$store.commit("quiz/setPageActive"),this.resultHasScroll=!1}},watch:{activeQuestion(e,t){const s=ae()(this.slideAnimations,"forward","quiz-mobile__question_animation_forward"),i=ae()(this.slideAnimations,"back",s),n=ae()(this.slideAnimations,"fade","quiz-mobile__question_animation_fade");if(this.animationStyle===this.$constants.animation.FADE)return n;this.animationType=e<t?i:s}}};const re=oe;var le=re;const ue={extends:S["default"],mixins:[le],components:{QuizNavbar:z.A,AssistantMobile:L.A,BasketMobile:J,CookieNotice:Z.A,Loading:ee.A,ThankPage:te.A,ResultLoader:se.A,CustomVideoPlayer:ie.A},computed:{...(0,C.aH)("quiz/basket",["mobileBasketShown"]),classes(){return["quiz-mobile",{"quiz-mobile_has-cookie-notice":this.cookieNotice}]},questionsStyle(){const e=this.cookieNotice?"12.5rem":"8.125rem";return`padding: 0 0 ${e} !important`},labelStyle(){return this.animationStyle===this.$constants.animation.BOTTOM_TOP?"display: block !important; visibility: visible !important;":"display: block !important; visibility: visible !important; opacity: 1 !important"}}},de=()=>{(0,a.$9)((e=>({"233a0869":e.quizQuestionTransition})))},ce=ue.setup;ue.setup=ce?(e,t)=>(de(),ce(e,t)):de;var he=ue;const pe=(0,Y.A)(he,[["render",w]]);var me=pe},31531:function(e,t,s){"use strict";s.d(t,{A:function(){return ie}});var i=s(20641),n=s(90033),a=s(53751);const o={key:0,class:"quiz-navbar__mobile-promotions-bar"},r={class:"quiz-navbar__buttons"},l=["disabled"],u={key:1,class:"quiz-navbar__next-button-container"},d=["aria-disabled"],c={class:"quiz-navbar__button_next-text"},h=["innerHTML"],p=["aria-disabled"],m={key:0,class:"quiz-navbar__button_next-text"},v={key:1,class:"quiz-navbar__button_next-text"};function y(e,t,s,y,_,b){const g=(0,i.g2)("MobilePromotionsBar"),k=(0,i.g2)("PromotionsBar"),f=(0,i.g2)("ProgressBar"),q=(0,i.g2)("b-icon");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)([b.classes,"quiz-navbar"])},[b.isMobile&&b.hasPromotionsBar?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(g,{countQuestions:e.countQuestions,discount:s.discount,autoshow:b.autoshowMobilePromotionsBar,isBonusesEnabled:s.isBonusesEnabled},null,8,["countQuestions","discount","autoshow","isBonusesEnabled"])])):b.isDesktop&&b.hasPromotionsBar?((0,i.uX)(),(0,i.Wv)(k,{key:1,class:"quiz-navbar__promotions-bar",countQuestions:e.countQuestions,discount:e.totalDiscount,isBonusesEnabled:s.isBonusesEnabled,unexpandedBonuses:_.isPromotionsBarMinimized,canMinimize:_.isPromotionsBarMinimized,wide:""},null,8,["countQuestions","discount","isBonusesEnabled","unexpandedBonuses","canMinimize"])):(0,i.Q3)("",!0),b.progressEnabled?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,n.C4)(["quiz-navbar__progress",[`quiz-navbar__progress_${b.progressType}`]])},[b.progressEnabled?((0,i.uX)(),(0,i.Wv)(f,{key:0,percent:Math.round(s.passedPercent),type:b.progressType,number:e.questionNumber,count:e.countQuestions,darkColor:!s.buttonStyle.outline},null,8,["percent","type","number","count","darkColor"])):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0),(0,i.Lk)("div",r,[e.isVerifyingEnabled?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,ref:"previous",class:(0,n.C4)(["button is-link quiz-navbar__button quiz-navbar__button_prev",{"is-square":s.buttonStyle.square,"is-outline":s.buttonStyle.outline}]),disabled:0===s.activeQuestion,onClick:t[0]||(t[0]=(...e)=>b.goToPrevious&&b.goToPrevious(...e))},[(0,i.bF)(q,{icon:e.isRtl?"arrow-right":"arrow-left"},null,8,["icon"])],10,l)),s.isLast?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("button",{class:(0,n.C4)(["button quiz-navbar__button quiz-navbar__button_next",{"is-blicked":s.filled,"is-square":s.buttonStyle.square,"is-outline":s.buttonStyle.outline}]),"aria-disabled":!s.filled&&!s.notRequired,onClick:t[1]||(t[1]=t=>(s.filled||s.notRequired||e.currentQuestionHasOther)&&e.$emit("next"))},[(0,i.Lk)("span",c,(0,n.v_)(e.getPhrase("questionsNextButton")),1),(0,i.bF)(q,{class:"quiz-navbar__next-icon",icon:e.isRtl?"arrow-left":"arrow-right"},null,8,["icon"])],10,d),(0,i.bF)(a.eB,{name:"fade"},{default:(0,i.k6)((()=>[b.nextByEnterEnabled?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{key:0,class:"quiz-navbar__hint",innerHTML:b.hintText},null,8,h)),[[a.aG,b.hasHint()]]):(0,i.Q3)("",!0)])),_:1})])),s.isLast?((0,i.uX)(),(0,i.CE)("button",{key:2,class:(0,n.C4)(["button button_color_theme quiz-navbar__button quiz-navbar__button_next quiz-navbar__button_last-step",{"is-blicked":s.filled,"is-square":s.buttonStyle.square,"is-outline":s.buttonStyle.outline}]),"aria-disabled":!s.filled&&!s.notRequired,onClick:t[2]||(t[2]=t=>(s.filled||s.notRequired||e.currentQuestionHasOther)&&e.$emit("show-lead"))},[b.isDesktop?((0,i.uX)(),(0,i.CE)("span",m,(0,n.v_)(e.getPhrase("lastStepButton")),1)):((0,i.uX)(),(0,i.CE)("span",v,(0,n.v_)(e.getPhrase("questionsNextButton")),1))],10,p)):(0,i.Q3)("",!0)])],2)}var _=s(5187),b=s.n(_),g=s(79859),k=s.n(g),f=s(58156),q=s.n(f);const w={class:"mobile-promotions-bar__bonuses"};function C(e,t,s,a,o,r){const l=(0,i.g2)("MobileBonuses"),u=(0,i.g2)("MobileDiscount");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["mobile-promotions-bar",{"is-expanded":o.discountExpanded||o.bonusesExpanded,"hide-navbar":o.isNavbarHidden,"show-navbar":!o.isNavbarHidden}]),onClick:t[0]||(t[0]=(...e)=>r.turnOnVisibility&&r.turnOnVisibility(...e))},[t[1]||(t[1]=(0,i.Lk)("div",{class:"mobile-promotions-bar__stick"},null,-1)),s.isBonusesEnabled?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["mobile-promotions-bar__bonuses",{"is-expanded":o.bonusesExpanded}])},[(0,i.Lk)("div",w,[(0,i.Lk)("div",{class:(0,n.C4)(["mobile-promotions-bar__bonuses-wrap",{"is-expanded":o.bonusesExpanded}])},[(0,i.bF)(l,{height:r.isSwiperEnabled?2.5:2.6875,single:!r.isSwiperEnabled,unexpanded:!o.bonusesExpanded,hasDiscount:!!s.discount},null,8,["height","single","unexpanded","hasDiscount"])],2),o.bonusesExpanded?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,n.C4)(["mobile-promotions-bar__bonuses-list",{"is-expanded":o.bonusesExpanded}])},[(0,i.bF)(l,{height:3.3125,expanded:o.bonusesExpanded},null,8,["expanded"])],2)):(0,i.Q3)("",!0)])],2)):(0,i.Q3)("",!0),s.discount?((0,i.uX)(),(0,i.CE)("div",{key:1,class:(0,n.C4)(["mobile-promotions-bar__discount-container",{"is-expanded":o.discountExpanded}])},[(0,i.bF)(u,{class:(0,n.C4)(["mobile-promotions-bar__discount",{"is-expanded":o.discountExpanded}]),unexpanded:!o.discountExpanded},null,8,["class","unexpanded"])],2)):(0,i.Q3)("",!0)],2)}const S={key:0,class:"discount discount_mobile"},z={class:"discount__wrap"},L={class:"discount__label"},E={class:"discount__label-text"},P={class:"discount__price"},A=["innerHTML"];function $(e,t,s,a,o,r){const l=(0,i.g2)("DiscountArrow");return e.discountSettings?((0,i.uX)(),(0,i.CE)("div",S,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.filteredBubbles,((t,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s,class:"discount__bubble"},(0,n.v_)("+ "+e.$format.number(e.increasingStep)),1)))),128)),(0,i.Lk)("div",z,[(0,i.Lk)("div",L,[(0,i.Lk)("div",E,(0,n.v_)(e.discountSettings.title||e.$t("Your discount")),1),e.discountSettings.effect?((0,i.uX)(),(0,i.Wv)(l,{key:0,class:"discount__arrows",down:"melting"===e.discountSettings.effect},null,8,["down"])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",P,[(0,i.Lk)("div",{class:"discount__value",innerHTML:e.discountLabel},null,8,A)])])])):(0,i.Q3)("",!0)}var x=s(60141),B={name:"MobileDiscount",extends:x.A},T=s(66262);const X=(0,T.A)(B,[["render",$]]);var F=X;function Q(e,t,s,a,o,r){const l=(0,i.g2)("Bonus");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["bonuses bonuses_mobile",r.bonusesClasses]),style:(0,n.Tr)({"--bonus-height":`${e.height}rem`,"--bonus-width":`${s.width}rem`})},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.bonuses,((t,n)=>((0,i.uX)(),(0,i.Wv)(l,{key:`bonus_${n}`,class:"bonuses__bonus",bonus:t,isLocked:e.isLock(t),expanded:s.expanded,unexpanded:s.unexpanded,single:s.single},null,8,["bonus","isLocked","expanded","unexpanded","single"])))),128))],6)}var M=s(82733),D={extends:M.A,props:{hasDiscount:Boolean,width:{type:Number,default:2.5},expanded:{type:Boolean,default:!1},unexpanded:{type:Boolean,default:!1},single:{type:Boolean,default:!1}},computed:{bonusesClasses(){return[`bonuses_count_${this.bonuses.length}`,{bonuses_column:this.expanded||this.single,bonuses_row:this.unexpanded&&!this.single,"bonuses_has-discount":this.hasDiscount,bonuses_single:this.single}]}}};const V=(0,T.A)(D,[["render",Q]]);var R=V,N=s(2296),H=s.n(N),I=s(7350),W=s.n(I);class O{constructor(e,t,{direction:s="bottom",tapAdditionalSizes:i,distance:n="50%",minDistance:a=20,speed:o="500",vibration:r=!0,cbStart:l=function(){},cbFinish:u=function(){},cbMoving:d=function(){},cbReadyToClose:c=function(){},cbNotReadyToClose:h=function(){},cbBack:p=function(){},isRtl:m=!1}){e&&t&&(this.target=e,this.direction=s,this.tapTarget=this._createTapElement(t,i),this.maxSpeed=o,this.distance=n,this.minDistance=a,this.vibration=r,this.cbStart=l,this.cbFinish=u,this.cbMoving=d,this.cbReadyToClose=c,this.cbNotReadyToClose=h,this.cbBack=p,this.isRtl=m,this._init())}back(e,t,s){this.moving||(this.target.style.transition="300ms ease-out",this.target.style.transform="translate3d(0, 0, 0)",setTimeout((()=>{this.target.style.transition="",this.cbBack(e,t,s)}),300))}close(e,t=300,s){this.moving||(this.target.style.transition=`${t}ms ease-out`,this.target.style.transform="translate3d(0, 110%, 0)",setTimeout((()=>{this.target.style.transition="",this.target.style.transform="translate3d(0, 0, 0)",this.cbFinish(e,t,s)}),t))}_createTapElement(e,t){const s=window.getComputedStyle(e).position;"static"===s&&(e.style.position="relative");const i=document.createElement("span");i.classList.add("tap-target"),i.setAttribute("style","position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; overscroll-behavior: none;"),e.append(i);const{top:n=0,bottom:a=0,right:o=0,left:r=0}=t;return i.style.top=`-${n}`,i.style.height=`calc(${i.style.height} + ${n})`,i.style.bottom=a,i.style.height=`calc(${i.style.height} + ${a})`,i.style.right=this.isRtl?o:2*o,i.style.width=`calc(${i.style.width} + ${o})`,i.style.left=`-${r}`,i.style.width=`calc(${i.style.width} + ${r})`,i}_init(){this.moving=!1,this._isTouchDevice()||this.tapTarget.addEventListener("click",this.close.bind(this)),this.tapTarget.addEventListener("touchstart",this._start.bind(this)),this.tapTarget.addEventListener("touchmove",W()(this._move,25).bind(this)),this.tapTarget.addEventListener("touchend",this._finish.bind(this))}_start(e){this.moving=!0;const t=e.changedTouches[0];this.startPosY=t.pageY,this.startPosX=t.pageX,this.startTime=e.timeStamp,this.cbStart(e)}_move(e){if(this.moving){const t=e.changedTouches[0],s=this._getDistanceForClosing(),i=this._getDistance(t),n=100*i/s;this._translate(t),this._borderPassingHandler(e,i,n,s),this.cbMoving(e,i,n)}}_finish(e){this.moving=!1;const t=e.changedTouches[0],s=this._getDistance(t),i=this._getDistanceForClosing(),n=e.timeStamp-this.startTime;n<=this.maxSpeed&&s>=this.minDistance?this.close(e,n,s):s>i?this.close(e,300,s):this.back(e,n,s)}_translate(e){switch(this.direction){case"bottom":e.pageY>=this.startPosY?this.target.style.transform=`translate3d(0, ${e.pageY-this.startPosY}px, 0)`:this.target.style.transform="translate3d(0, 0, 0)";break;case"top":e.pageY<=this.startPosY?this.target.style.transform=`translate3d(0, ${e.pageY-this.startPosY}px, 0)`:this.target.style.transform="translate3d(0, 0, 0)";break;case"right":e.pageX>=this.startPosX?this.target.style.transform=`translate3d(${e.pageX-this.startPosX}px, 0, 0)`:this.target.style.transform="translate3d(0, 0, 0)";break;case"left":e.pageX<=this.startPosX?this.target.style.transform=`translate3d(${e.pageX-this.startPosX}px, 0, 0)`:this.target.style.transform="translate3d(0, 0, 0)";break}}_borderPassingHandler(e,t,s,i){t>i?this.borderHasPassed||(this.cbReadyToClose(e,t,s),this.borderHasPassed=!0,this.vibration&&this._vibrate()):this.borderHasPassed&&(this.borderHasPassed=!1,this.cbNotReadyToClose(e,t,s))}_getDistanceForClosing(){const e=this.target.clientHeight;return H()(this.distance,"%")?e*parseFloat(this.distance)/100:H()(this.distance,"px")?parseFloat(this.distance):e/2}_getDistance(e){return"bottom"===this.direction||"top"===this.direction?e.pageY-this.startPosY:e.pageX-this.startPosX}_vibrate(e=35){if(q()(window,"navigator.vibrate"))try{window.navigator.vibrate(e)}catch(t){console.log(t)}}_isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}}var U=O,K=s(66278),j={name:"MobilePromotionsBar",components:{MobileBonuses:R,MobileDiscount:F},mounted(){this.updateWindowWidth(),window.addEventListener("resize",this.handleResize),this.isSwiperEnabled&&(this.addSwipeEventToClose(),this.autoshow&&(this.discountExpanded=!0,this.bonusesExpanded=!0,setTimeout((()=>{this.alreadyClosed||this.swiper.close()}),2e3)))},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},props:{countQuestions:Number,discount:[Number,String],isBonusesEnabled:Boolean,autoshow:{type:Boolean,default:!1}},data(){return{discountExpanded:!1,bonusesExpanded:!1,isNavbarHidden:null,alreadyClosed:!1,swiper:null,windowWidth:window.innerWidth}},computed:{...(0,K.L8)(["isRtl"]),isSwiperEnabled(){const e=q()(this.$store,"state.quiz.info.marketing.bonuses",[]).length,t=e>1||1===e&&!!this.discount;return this.windowWidth<500||t}},methods:{turnOnVisibility(){!this.isSwiperEnabled||this.bonusesExpanded||this.discountExpanded||(this.isNavbarHidden=!0,setTimeout((()=>{this.discountExpanded=!0,this.bonusesExpanded=!0,this.isNavbarHidden=!1}),290))},addSwipeEventToClose(){const e=this.$el,t=this.$el.querySelector(".mobile-promotions-bar__stick");this.swiper=new U(e,t,{tapAdditionalSizes:{top:"1.875rem",bottom:"3.125rem",left:"6.25rem",right:"6.25rem"},distance:"40%",speed:"200",cbFinish:()=>{this.discountExpanded=!1,this.bonusesExpanded=!1,this.alreadyClosed=!0},isRtl:this.isRtl})},updateWindowWidth(){this.windowWidth=window.innerWidth},handleResize(){this.updateWindowWidth()}}};const Y=(0,T.A)(j,[["render",C]]);var G=Y,J=s(99886),Z=s(37033),ee=s(68869),te={name:"QuizNavbar",mixins:[ee.A],components:{ProgressBar:Z.A,MobilePromotionsBar:G,PromotionsBar:J.A},inject:["isMobile","isDesktop"],mounted(){window.addEventListener("keyup",this.keyUp,!0),this.canMinimizePromotionsBar&&(this.checkIsPromotionsBarMinimized(),window.addEventListener("resize",(()=>this.checkIsPromotionsBarMinimized())))},beforeUnmount(){window.removeEventListener("keyup",this.keyUp,!0),window.removeEventListener("resize",(()=>this.checkIsPromotionsBarMinimized()))},props:{passedPercent:Number,activeQuestion:Number,discount:Number,isLast:Boolean,filled:Boolean,notRequired:Boolean,isBonusesEnabled:Boolean,buttonStyle:{type:Object,default:()=>({square:!1,outline:!1})},hidePromotionsBar:Boolean,hideProgressBar:Boolean,canMinimizePromotionsBar:Boolean},data(){return{pressedEnter:!1,keepHideHint:!1,labelStyle:"display: block !important; visibility: visible !important; opacity: 1 !important",isPromotionsBarMinimized:!1}},computed:{...(0,K.aH)("quiz",["info"]),...(0,K.aH)("quiz",["progress"]),...(0,K.L8)("quiz",["hasConditions","questionNumber","countQuestions","currentQuestion","isVerifyingEnabled","currentQuestionHasOther","totalDiscount"]),...(0,K.L8)(["isRtl"]),classes(){return{"is-outline":this.buttonStyle.outline,"mobile-promotions-bar_on":this.hasPromotionsBar&&this.isMobile,"quiz-navbar_no-background":this.hasPromotionsBar,"quiz-navbar_has-progress":this.progressEnabled}},hintText(){return this.$t("or press {key}",{key:"<b>Enter</b>",interpolation:{escapeValue:!1}})},nextByEnterEnabled(){const e=q()(this.currentQuestion,"options.inputType");return"input"!==q()(this.currentQuestion,"type")||"textarea"!==e&&"address"!==e},progressEnabled(){return!this.hideProgressBar&&q()(this.$store.state.quiz.progress,"enabled",!0)},progressType(){if(this.hasMobilePromotionsBar)return"mobile";const e=q()(this.$store.state.quiz.progress,"type")||"progress-bar";return this.hasConditions&&k()(["steps","text","circular-steps","gradient-text"],e)?"progress-bar":e},hasPromotionsBar(){return Boolean(!this.hidePromotionsBar&&(this.isBonusesEnabled||this.discount))},hasMobilePromotionsBar(){return Boolean(this.isMobile&&(this.isBonusesEnabled||this.discount))},autoshowMobilePromotionsBar(){return b()(q()(this.info,"startPageType"))||!k()(this.$store.state.quiz.order,"start")}},methods:{hasHint(){return!this.keepHideHint&&(!(this.questionNumber>3&&!this.pressedEnter)||(this.keepHideHint=!0,!1))},goToPrevious(){this.$refs.previous.blur(),this.$emit("previous")},keyUp(e){if("Enter"===e.key&&this.nextByEnterEnabled&&(this.filled||this.notRequired)&&(this.pressedEnter=!0,this.$emit("next")),39===e.keyCode||37===e.keyCode){const t=document.activeElement&&k()(["input","textarea"],document.activeElement.tagName.toLowerCase());if(t)return;39===e.keyCode&&(this.filled||this.notRequired)&&(this.pressedEnter=!0,this.$emit("next")),37!==e.keyCode||this.isVerifyingEnabled||this.goToPrevious()}},checkIsPromotionsBarMinimized(){this.isPromotionsBarMinimized=this.canMinimizePromotionsBar&&window.matchMedia("(max-width: 872px)").matches}}};const se=(0,T.A)(te,[["render",y]]);var ie=se},96552:function(e,t,s){"use strict";s.d(t,{A:function(){return X}});var i=s(20641),n=s(90033);const a={class:"thank-page__col thank-page__col_left"},o={class:"title thank-page__title"},r=["innerHTML"],l={key:0,class:"thank-page__buttons"},u=["onClick"],d={class:"thank-page__arrow"},c={key:1,class:"thank-page__socials"},h=["href","onClick"],p={class:"thank-page__col thank-page__col_right thank-page__col"},m={class:"thank-page__bonuses-title"},v={class:"thank-page__white-label"};function y(e,t,s,y,_,b){const g=(0,i.g2)("icon"),k=(0,i.g2)("DiscountBadge"),f=(0,i.g2)("Bonuses"),q=(0,i.g2)("WhiteLabel");return(0,i.uX)(),(0,i.CE)("article",{class:(0,n.C4)(["thank-page",{"thank-page_content-over":_.hasOverContent,"thank-page_assistant":e.isWidgetOpen&&b.hasAssistant}])},[(0,i.Lk)("div",{ref:"content",class:(0,n.C4)(["thank-page__content",{"thank-page__content_row":b.contentSize>170&&b.isDesktop}])},[(0,i.Lk)("div",a,[(0,i.Lk)("p",o,(0,n.v_)(b.thanks.header),1),(0,i.Lk)("p",{ref:"subtitle",class:"subtitle thank-page__subtitle",innerHTML:b.thanks.content},null,8,r),b.thanks.buttons.length?((0,i.uX)(),(0,i.CE)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.thanks.buttons,((t,s)=>((0,i.uX)(),(0,i.CE)("a",{key:s,class:"thank-page__button",href:"#",onClick:e=>b.redirect(t.link)},[(0,i.eW)((0,n.v_)(t.text||e.$t("Visit our site"))+" ",1),(0,i.Lk)("div",d,[(0,i.bF)(g,{icon:["mdi","mdi-arrow-right"]})])],8,u)))),128))])):(0,i.Q3)("",!0),b.thanks.socials.length?((0,i.uX)(),(0,i.CE)("div",c,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.thanks.socials,((t,s)=>((0,i.uX)(),(0,i.CE)("a",{key:s,class:(0,n.C4)(["thank-page__social",{"thank-page__social-disclaimer":("Facebook"===t.name||"Instagram"===t.name)&&"ru"===e.lang}]),href:"email"!==t.name?"#":t.link,target:"_blank",onClick:e=>b.redirect("email"!==t.name?t.link:null)},[(0,i.bF)(g,{icon:["mdi",`mdi-${t.name}`]},null,8,["icon"])],10,h)))),128))])):(0,i.Q3)("",!0),b.thankDisclaimerHorizontal&&"ru"===e.lang&&b.hasMetaMessengers?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,n.C4)(["thank-page__disclaimer-wrapper",{"thank-page__disclaimer-wrapper_not-over-disclaimer":!_.hasOverDisclaimer}])},t[0]||(t[0]=[(0,i.Lk)("span",{class:"thank-page__disclaimer"}," * ÐÑÐ¾Ð´ÑÐºÑ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ Meta, Ð¿ÑÐ¸Ð·Ð½Ð°Ð½Ð° ÑÐºÑÑÑÐµÐ¼Ð¸ÑÑcÐºÐ¾Ð¹ Ð¾ÑÐ³Ð°Ð½Ð¸Ð·Ð°ÑÐ¸ÐµÐ¹ Ð² Ð Ð¾ÑÑÐ¸Ð¸ ",-1)]),2)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",p,[b.hasDiscount?((0,i.uX)(),(0,i.Wv)(k,{key:0,class:"thank-page__discount"})):(0,i.Q3)("",!0),e.isBonusesEnabled?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.Lk)("div",m,(0,n.v_)(e.bonusesTitle||e.$t("Your perks")+":"),1),(0,i.bF)(f,{class:"thank-page__bonuses",direction:e.isFullScreen?"row":"column",height:e.isFullScreen?4.625:4,width:e.isFullScreen?16.25:12.1875},null,8,["direction","height","width"])],64)):(0,i.Q3)("",!0),!b.thankDisclaimerHorizontal&&"ru"===e.lang&&b.hasMetaMessengers?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,n.C4)(["thank-page__disclaimer-wrapper thank-page__disclaimer-wrapper_col",{"thank-page__disclaimer-wrapper_not-over-disclaimer":!_.hasOverDisclaimer}])},t[1]||(t[1]=[(0,i.Lk)("span",{class:"thank-page__disclaimer"}," * ÐÑÐ¾Ð´ÑÐºÑ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ Meta, Ð¿ÑÐ¸Ð·Ð½Ð°Ð½Ð° ÑÐºÑÑÑÐµÐ¼Ð¸ÑÑcÐºÐ¾Ð¹ Ð¾ÑÐ³Ð°Ð½Ð¸Ð·Ð°ÑÐ¸ÐµÐ¹ Ð² Ð Ð¾ÑÑÐ¸Ð¸ ",-1)]),2)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",v,[b.isDesktop&&"en"===e.lang&&!e.isWhiteLabelDisabled?((0,i.uX)(),(0,i.Wv)(q,{key:0,place:"center_nav_bar"})):(0,i.Q3)("",!0)])],2)],2)}var _=s(42426),b=s.n(_),g=s(55378),k=s.n(g),f=s(47091),q=s.n(f),w=s(58156),C=s.n(w),S=s(66278),z=s(82733),L=s(80020),E=s(47623),P=s(32561),A=s(22874),$=s(31304),x={mixins:[P.A],components:{Bonuses:z.A,DiscountBadge:L.A,Icon:E.A,WhiteLabel:A.A},inject:["isDesktop"],mounted(){this.hasOverDisclaimer=C()(this.$refs.content,"clientHeight",0)>document.documentElement.clientHeight-48,this.hasOverContent=C()(this.$refs.content,"clientHeight",0)>document.documentElement.clientHeight,this.isLeadWithoutContacts&&(this.$store.dispatch("quiz/form/saveLead",this.data),q()(this.uploadedFileKeys)&&this.$store.dispatch("quiz/transferFiles"))},data(){return{hasOverContent:!1,hasOverDisclaimer:!0}},computed:{...(0,S.aH)(["lang"]),...(0,S.aH)("quiz",["info","isWidgetOpen","selectedResults"]),...(0,S.aH)("quiz/form",["contacts"]),...(0,S.L8)(["isFullScreen"]),...(0,S.L8)("quiz",["bonusesTitle","isBonusesEnabled","data","isLeadWithoutContacts","uploadedFileKeys","isWhiteLabelDisabled"]),...(0,S.L8)("quiz/form",["form"]),...(0,S.L8)("quiz/thanks",["thanksPage"]),thanks(){return{header:C()(this.thanksPage,"header")||`${this.$t("Thank you")}! ð`,content:C()(this.thanksPage,"content"),buttons:k()(C()(this.thanksPage,"buttons",[]),(e=>({link:this.formatLink(e),text:e.text}))),socials:k()(C()(this.thanksPage,"socials",[]),(e=>({link:this.formatLink(e),name:e.name})))}},contentSize(){return q()(C()(this.thanksPage,"content",""))},thankDisclaimerHorizontal(){return this.contentSize>170&&"desktop"===this.$mq},hasAssistant(){const e=C()(this.info,"assistant.name");return!(!C()(this.info,"assistant.enabled",!!e)||!e)},hasDiscount(){return q()(this.selectedResults)<2},hasMetaMessengers(){return b()(C()(this.thanksPage,"socials",[]),(e=>"Facebook"===e.name||"Instagram"===e.name))}},methods:{formatLink(e){const t=C()(e,"link","");return this.isEmailValid(t)?`mailto:${t}`:t.match(/^(http|https):\/\//)?t:`//${t}`},redirect(e){e&&(0,$.re)({url:e,contacts:this.contacts,blank:!0})}}},B=s(66262);const T=(0,B.A)(x,[["render",y]]);var X=T},35854:function(e,t,s){"use strict";s.d(t,{A:function(){return E}});var i=s(20641),n=s(53751),a=s(90033),o=s.p+"img/spin-loader.781e0b65.svg";const r={class:"address-dropdown"},l={class:"address-dropdown__label has-input-border-radius"},u=["placeholder"],d={class:"address-dropdown__dropdown"},c={key:0,class:"address-dropdown__loading"},h={key:1,class:"address-dropdown__dropdown-list"},p=["onClick"];function m(e,t,s,m,v,y){const _=(0,i.g2)("b-icon"),b=(0,i.gN)("click-outside-element");return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("label",l,[s.hideIcon?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(_,{key:0,class:"address-dropdown__icon",icon:"map-marker"})),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>y.input=e),class:"address-dropdown__input",type:"text",placeholder:s.placeholder,onInput:t[1]||(t[1]=(...e)=>y.getSuggestions&&y.getSuggestions(...e)),onClick:t[2]||(t[2]=e=>v.visible=!0),onFocus:t[3]||(t[3]=e=>v.visible=!0)},null,40,u),[[n.Jo,y.input]])]),(0,i.bF)(n.eB,{name:"address-dropdown__animation"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",d,[v.loading?((0,i.uX)(),(0,i.CE)("div",c,t[4]||(t[4]=[(0,i.Lk)("img",{src:o,alt:"Loading"},null,-1)]))):((0,i.uX)(),(0,i.CE)("ul",h,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(v.suggestions,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t,class:"address-dropdown__dropdown-item",onClick:t=>y.select(e)},(0,a.v_)(e),9,p)))),128))]))],512),[[n.aG,v.visible&&(v.loading||v.suggestions.length)]])])),_:1})])),[[b,y.hideDropdown]])}var v=s(55378),y=s.n(v),_=s(63375),b=s.n(_),g=s(47091),k=s.n(g),f=s(38221),q=s.n(f),w=s(86711);const C={};var S={name:"AddressDropdown",props:{modelValue:String,mapApiKey:String,suggestApiKey:String,placeholder:String,hideIcon:Boolean},data(){return{suggestions:[],loading:!1,visible:!1}},computed:{input:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{hideDropdown(){this.visible=!1},getSuggestions:q()((async function(){if(this.suggestApiKey?.length){if(!k()(this.input))return this.hideDropdown(),this.loading=!1,void(this.suggestions=[]);this.loading=!0,this.visible=!0;try{const{data:e}=await(0,w.KW)({apiKey:this.suggestApiKey,text:this.input});this.suggestions=b()(y()(e?.results,(e=>{const t=e?.address?.formatted_address;return C[t]={...C[t]??{},uri:e?.uri},t})))}catch(e){console.error(e)}this.loading=!1}}),500),async select(e){this.input=e,this.visible=!1;const{position:t,bounds:s,uri:i}=C[e]??{};if(t&&s)this.$emit("selected",{position:t,bounds:s});else if(i&&this.mapApiKey?.length){try{const{data:t}=await(0,w.kj)({apiKey:this.mapApiKey,uri:i,results:1}),s=(0,w.t6)(t?.response?.GeoObjectCollection?.featureMember?.[0]?.GeoObject);C[e].position=s.position,C[e].bounds=s.bounds}catch(n){console.error(n)}this.$emit("selected",{position:C[e].position,bounds:C[e].bounds})}}}},z=s(66262);const L=(0,z.A)(S,[["render",m]]);var E=L},31281:function(e,t,s){"use strict";s.d(t,{A:function(){return P}});var i=s(20641),n=s(53751),a=s(90033);const o={key:"loader",class:"result-loader"},r={class:"result-loader__text"};function l(e,t,s,l,u,d){const c=(0,i.g2)("Emoji1"),h=(0,i.g2)("Emoji2"),p=(0,i.g2)("Emoji3");return(0,i.uX)(),(0,i.Wv)(n.eB,{appear:"",mode:"out-in",name:d.animationName,onAfterEnter:t[4]||(t[4]=e=>u.slided=!0)},{default:(0,i.k6)((()=>[(0,i.Lk)("div",o,[(0,i.bF)(n.eB,{name:"result-loader__slide-emoji",mode:"out-in",type:"transition",onAfterLeave:t[0]||(t[0]=e=>u.isEmoji2=!0)},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(c,{class:"result-loader__emoji"},null,512),[[n.aG,!u.slided]])])),_:1}),(0,i.bF)(n.eB,{name:"result-loader__slide-emoji",mode:"out-in",type:"transition",onAfterEnter:t[1]||(t[1]=e=>u.isEmoji2=!1),onAfterLeave:t[2]||(t[2]=e=>u.isEmoji3=!0)},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(h,{class:"result-loader__emoji"},null,512),[[n.aG,u.isEmoji2]])])),_:1}),(0,i.bF)(n.eB,{name:"result-loader__slide-emoji",mode:"out-in",type:"transition",onAfterEnter:t[3]||(t[3]=t=>e.$emit("finished"))},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(p,{class:"result-loader__emoji"},null,512),[[n.aG,u.isEmoji3]])])),_:1}),(0,i.Lk)("div",r,(0,a.v_)(e.getPhrase("calculation")),1)])])),_:1},8,["name"])}const u={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64"};function d(e,t){return(0,i.uX)(),(0,i.CE)("svg",u,t[0]||(t[0]=[(0,i.Fv)('<path d="m37.3 31.9c-.5 2.2.9 4.5 3.2 5 2.3.5 4.6-.9 5.1-3.1l6.1-26.2c.5-2.2-.9-4.5-3.2-5-2.3-.5-4.6.9-5.1 3.1l-6.1 26.2" fill="#ffdd67"></path><path d="m38.9 35.6c2.4.5 4.6-.9 5.2-3.1l6.1-26.2c.3-1.2 0-2.4-.7-3.3 2.1.9 2.8 2.7 2.4 4.7l-6.1 26.2c-.5 2.2-2.8 3.7-5.1 3.1-1.1-.2-1.9-.8-2.5-1.6.1 0 .4.1.7.2" fill="#eba352"></path><g fill="#ffdd67"><path d="m45.2 34.5c0 0-8.7-8.6-24.1-4.3 0 0-9.1 1.6-8.6 6.2 0 0-.3 11.4 3.6 18.2 5.9 10.1 28.6 11.7 34.3-7 1.2-3.7.3-13.7-5.2-13.1"></path><path d="m29.7 33.4c.4 2.3 2.7 3.7 5 3.3 2.3-.4 3.9-2.6 3.5-4.9l-5-26.4c-.4-2.3-2.7-3.7-5-3.3-2.3.4-3.9 2.6-3.4 4.9l4.9 26.4"></path></g><path d="m32.6 36.1c2.4-.4 3.9-2.6 3.5-4.9l-5-26.4c-.3-1.2-1.1-2.2-2.1-2.8 2.2 0 3.8 1.4 4.2 3.4l5 26.4c.4 2.3-1.1 4.5-3.4 4.9-1.1.2-2.1 0-3-.5.2 0 .5 0 .8-.1" fill="#eba352"></path><g fill="#ffdd67"><path d="m12 32.1c-.3-2.3 1.4-4.4 3.8-4.7h.1c2.3-.2 4.5 1.4 4.7 3.8l.7 6.5c.3 2.3-1.4 4.4-3.8 4.7h-.1c-2.4.2-4.5-1.4-4.7-3.8l-.7-6.5"></path><path d="m20.1 27.4c-.3-2.3 1.4-4.4 3.8-4.7h.1c2.4-.2 4.5 1.4 4.7 3.8l.7 6.5c.3 2.3-1.4 4.4-3.8 4.7h-.1c-2.4.2-4.5-1.4-4.7-3.8l-.7-6.5"></path></g><g fill="#eba352"><path d="m16.1 41c2.4-.3 4-2.3 3.8-4.7l-.7-6.5c-.1-.6-.4-1.3-.7-1.9 1.5.7 2 1.9 2.2 3.3l.7 6.5c.3 2.3-1.4 4.4-3.7 4.6-1.7.2-3.3-.7-4.1-2 .6.5 1.5.8 2.5.7"></path><path d="m24.1 36.3c2.4-.3 4.1-2.3 3.8-4.6l-.7-6.5c-.1-.6-.4-1.4-.7-1.9 1.4.8 2 2 2.2 3.4l.7 6.5c.3 2.3-1.4 4.3-3.8 4.6h-.1c-1.7.2-3.3-.7-4.1-2 .8.4 1.7.6 2.7.5"></path><path d="m41.4 40.8c-4.8-2.3-15.7 1.7-13.5 11.7 0-10.4 9.4-12.2 13.5-11.7"></path><path d="m39.6 30.5c-3.5-2.1-4.1 1.2-10 1.4-2.6.1-3.7 5.4.2 7.3 5.4 2.7 5.8-1.1 7.2.4 1.4 1.6 2.7 1.9 3.9 3.7.9 1.3 7.6-.7 8.3-3.4 1.3-5.3-4.2-6.1-9.6-9.4"></path></g><path d="m40 31.4c-3.6-2.1-4.3 1.2-10.4 1.4-2.7.1-3.9 5.6.2 7.6 5.6 2.8 6.1-1.2 7.4.4 1.5 1.6 2.8 2 4.1 3.9.9 1.4-1.5 6.6-1.5 6.6s6.9 4.9 8.3 2.1c2.6-5.2 1.9-9.2 1.8-12.2-.2-7.1-4.2-6.4-9.9-9.8" fill="#ffdd67"></path><g fill="#eba352"><path d="m46.9 34.9c3.8 1.8 3.6 11.7.8 16.5-7.1 11.9-22.7 11.7-30 5.3 6.8 7.3 23.4 8 31.1-4.3 3.1-4.9 4.1-16.3-1.9-17.5"></path><path d="m40.5 44.8c.3.4.2 1.2.1 2.1.4-1.4.7-2.8.3-3.4-1.2-1.9-1.9-2.3-3.4-3.9-1.4-1.5-1.8 2.4-7.4-.4-2.1-1-2.8-3-2.6-4.7-.8 1.8-.4 4.6 2.3 6 5.6 2.8 6.1-1.2 7.4.4 1.4 1.6 2.1 2 3.3 3.9"></path></g>',8)]))}var c=s(66262);const h={},p=(0,c.A)(h,[["render",d]]);var m=p;const v={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64"};function y(e,t){return(0,i.uX)(),(0,i.CE)("svg",v,t[0]||(t[0]=[(0,i.Fv)('<g fill="#ffdd67"><path d="m44.8 34.5c0 0-31.9-2.5-31.4 2.1 0 0-1.6 11.2 2.3 18 5.9 10.1 28.6 11.7 34.3-7 1.2-3.7.3-13.7-5.2-13.1"></path><path d="m38.7 39.1c0 2.3 1.9 4.2 4.2 4.2 2.3 0 4.2-1.9 4.2-4.2v-32.9c0-2.3-1.9-4.2-4.2-4.2-2.3 0-4.2 1.9-4.2 4.2v32.9"></path></g><path d="m41 42.3c2.4 0 4.3-1.9 4.3-4.2v-32.9c0-1.2-.6-2.4-1.4-3.1 1.9.4 3.4 2.1 3.4 4.1v32.9c0 2.3-1.9 4.2-4.2 4.2-1.1 0-2-.4-2.8-1 .1 0 .4 0 .7 0" fill="#eba352"></path><g fill="#ffdd67"><path d="m13.4 30c0-2.4 1.9-4.3 4.2-4.3h.1c2.3 0 4.2 1.9 4.2 4.3v6.6c0 2.4-1.9 4.3-4.2 4.3h-.1c-2.3 0-4.2-1.9-4.2-4.3v-6.6"></path><path d="m21.9 26.2c0-2.4 1.9-4.3 4.2-4.3h.1c2.3 0 4.2 1.9 4.2 4.3v6.6c0 2.4-1.9 4.3-4.2 4.3h-.1c-2.3 0-4.2-1.9-4.2-4.3v-6.6"></path><path d="m30.4 25.7c0-2.4 1.9-4.3 4.2-4.3h.1c2.3 0 4.2 1.9 4.2 4.3v6.6c0 2.4-1.9 4.3-4.2 4.3h-.1c-2.3 0-4.2-1.9-4.2-4.3v-6.6"></path></g><g fill="#eba352"><path d="m16.5 39.3c2.4 0 4.2-1.9 4.2-4.2v-6.6c0-.6-.1-1.2-.4-1.8 1 .8 1.7 2 1.7 3.4v6.6c0 2.4-1.8 4.2-4.2 4.2h-.1c-1.7 0-3.2-1-3.8-2.5.7.6 1.6.9 2.6.9"></path><path d="m24.9 35.5c2.4 0 4.2-1.9 4.2-4.2v-6.6c0-.6-.1-1.2-.4-1.8 1 .8 1.7 2 1.7 3.4v6.6c0 2.4-1.9 4.2-4.2 4.2h-.1c-1.7 0-3.2-1-3.8-2.5.7.6 1.6.9 2.6.9"></path><path d="m33.3 35c2.4 0 4.2-1.9 4.2-4.2v-6.6c0-.6-.1-1.2-.4-1.8 1 .8 1.7 2 1.7 3.4v6.6c0 2.4-1.9 4.2-4.2 4.2h-.1c-1.7 0-3.2-1-3.8-2.5.8.6 1.7.9 2.6.9"></path><path d="m41 40.8c-4.8-2.3-15.7 1.7-13.5 11.7 0-10.4 9.4-12.2 13.5-11.7"></path><path d="m39.2 30.5c-3.5-2.1-4.1 1.2-10 1.4-2.6.1-3.7 5.4.2 7.3 5.4 2.7 5.8-1.1 7.2.4 1.4 1.6 2.7 1.9 3.9 3.7.9 1.3 7.6-.7 8.3-3.4 1.3-5.3-4.1-6.1-9.6-9.4"></path></g><path d="m39.6 31.4c-3.6-2.1-4.3 1.2-10.4 1.4-2.7.1-3.9 5.6.2 7.6 5.6 2.8 6.1-1.2 7.4.4 1.5 1.6 2.8 2 4.1 3.9.9 1.4-1.5 6.6-1.5 6.6s6.9 4.9 8.3 2.1c2.6-5.2 1.9-9.2 1.8-12.2-.2-7.1-4.2-6.4-9.9-9.8" fill="#ffdd67"></path><g fill="#eba352"><path d="m46.6 34.9c3.8 1.8 3.6 11.7.8 16.5-7.1 11.9-22.7 11.7-30 5.3 6.8 7.3 23.4 8 31.1-4.3 3-4.9 4-16.3-1.9-17.5"></path><path d="m40.1 44.8c.3.4.2 1.2.1 2.1.4-1.4.7-2.8.3-3.4-1.2-1.9-1.9-2.3-3.4-3.9-1.4-1.5-1.8 2.4-7.4-.4-2.1-1-2.8-3-2.6-4.7-.8 1.8-.4 4.6 2.3 6 5.6 2.8 6.1-1.2 7.4.4 1.4 1.6 2.1 2 3.3 3.9"></path></g>',6)]))}const _={},b=(0,c.A)(_,[["render",y]]);var g=b;const k={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64"};function f(e,t){return(0,i.uX)(),(0,i.CE)("svg",k,t[0]||(t[0]=[(0,i.Fv)('<g fill="#ffdd67"><path d="m48.6 32.8l-6.6 4.7c0 0-3.3-9.2-5.8-15.1-1-2.4-4.2-3.2-5.7-6.6-2.6-5.8.5-10.8 3.5-7.2 3.5 4.2 8.7 7.3 9.8 9.7 1.7 4 4.8 14.5 4.8 14.5"></path><path d="m53.8 36.6c.5 3.2.1 8.1-2.7 13.9 0 0-5.7-6.8-6.4-10 0 0-1.6-11.9-3.3-19.5-.7-3.1-4.3-4.9-5.2-9.3-1.6-7.6 3.2-12.9 6-7.8 3.2 5.9 8.6 10.9 9.3 14 1.2 5.3 1.7 14.1 2.3 18.7"></path></g><path d="m45.4 30.6c0 0-.5-4.5-2.2-12.1-.7-3.1-4.3-4.9-5.2-9.3-.6-2.6-.4-5 .3-6.7-1.7 1.3-3.1 4.9-2.2 9.3.9 4.4 4.6 6.2 5.2 9.3.7 3.3 1.3 6.7 1.3 6.7l-5-1.9 7.8 4.7" fill="#eba352"></path><path d="m51.4 35.4c-6.6-6-14-9.7-18.8-12-7.1-3.5-5.2 1.3-17.3 4.5-1.6.4-3.5 1.6-2 4.6 1.4 2.9 12.8.7 14.6-1 0 0 4.8 5.9 9.6 5.7 0 0-.8 3.9.3 5.8 0 0-6.8 3.5-9.7 6.6l-8-5.4c-.6-8.3-2.1-10.8-6.2-10.4-3.8.4-3.4 4-3.3 6.9.1 5.3-1.3 6.2 0 8.3 4.9 8 11.2 13 22.8 13 4.3 0 7.1-.1 9.8-1.4 4.4-2.3 15.5-18.5 8.2-25.2" fill="#ffdd67"></path><g fill="#eba352"><path d="m52.7 37c2.5 7.6-6.4 20.1-10.3 22-2.7 1.3-5.4 1.4-9.8 1.4-11.5 0-17.7-4.9-22.6-12.8.1.4.3.9.5 1.3 5 8.1 11.3 13.1 22.9 13.1 4.3 0 7.1-.1 9.8-1.4 4.1-2.1 14-16.2 9.5-23.6"></path><path d="m18.6 44.4c0 0 7.5 4.8 9.3 5.1l-7.9-5.3c.3-8.4-2.1-11.1-6.2-10.4-.3.1-.6.1-.9.2 4.1-.5 6 2.2 5.7 10.4"></path><path d="m27.9 31.5c0 0 4.8 5.8 9.6 5.7v-1.1c-4.8.1-9.6-5.7-9.6-5.7-1.8 1.8-13.2 4-14.6 1-.2-.5-.4-1-.5-1.4-.1.6 0 1.4.5 2.5 1.4 2.9 12.8.7 14.6-1"></path></g>',4)]))}const q={},w=(0,c.A)(q,[["render",f]]);var C=w,S=s(66278),z=s(68869),L={mixins:[z.A],components:{Emoji1:m,Emoji2:g,Emoji3:C},data(){return{slided:!1,isEmoji2:!1,isEmoji3:!1}},computed:{...(0,S.L8)("quiz",["animationStyle"]),animationName(){return"bottomTop"===this.animationStyle?"result-loader__slide_bottom-top":"result-loader__slide"}}};const E=(0,c.A)(L,[["render",l]]);var P=E},55510:function(e,t,s){"use strict";s.d(t,{A:function(){return f}});var i=s(20641),n=s(90033),a=s(53751);const o={key:0,class:"video-player__loading"},r={key:1,class:"video-player__thumbnail"},l=["src"],u={key:2,class:"video-player__stub"},d={key:3,class:"video-circle-player__video"},c=["cx","cy","r"],h=["cx","cy","r","stroke-dashoffset"];function p(e,t,s,p,m,v){const y=(0,i.g2)("b-icon");return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["video-circle-player video-player",[{"video-circle-player_paused":e.isPause||e.isEnd},`video-circle-player_${e.video.provider}`]]),tabindex:"0",style:(0,n.Tr)({"--play-radius":`${s.playRadius}rem`,"--stop-radius":`${s.stopRadius}rem`}),onKeydown:[t[10]||(t[10]=(0,a.jR)((t=>e.isPause=!0),["esc"])),t[11]||(t[11]=(0,a.jR)((t=>e.isEnd?e.play():e.isPause=!e.isPause),["space"])),t[12]||(t[12]=(0,a.jR)((t=>e.isMuted=!e.isMuted),["m"]))]},[e.isLoading||e.isThumbnailLoading?((0,i.uX)(),(0,i.CE)("div",o)):(0,i.Q3)("",!0),!e.thumbnail||e.autoplay||e.isStarted?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("img",{src:e.thumbnail,alt:"Video thumbnail",onLoad:t[0]||(t[0]=(...t)=>e.onThumbnailLoaded&&e.onThumbnailLoaded(...t))},null,40,l)])),e.isStub||"coub"===e.video.provider?((0,i.uX)(),(0,i.CE)("div",u)):((0,i.uX)(),(0,i.CE)("div",d,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.player),{ref:"player",muted:e.isMuted,"onUpdate:muted":t[1]||(t[1]=t=>e.isMuted=t),link:e.video.link,videoId:e.video.id,loop:e.loop,controls:!1,autoplay:e.autoplay,paused:e.isPause,progress:"",onLoaded:e.loaded,onEnded:e.ended,onStarted:e.started,onPaused:t[2]||(t[2]=t=>e.$emit("paused",t)),onTimeChanged:t[3]||(t[3]=t=>e.currentTime=t)},null,40,["muted","link","videoId","loop","autoplay","paused","onLoaded","onEnded","onStarted"]))])),e.isLoading||e.isThumbnailLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:4,class:(0,n.C4)(["video-circle-player__controllers custom-controllers",{"custom-controllers_centered":s.controllersButtonsCentered}]),onClick:t[9]||(t[9]=(...e)=>v.onControllersClick&&v.onControllersClick(...e))},[e.isEnd?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.isPause?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"custom-controllers__button custom-controllers__close",onClick:t[4]||(t[4]=(0,a.D$)((t=>e.isPause=!0),["stop"]))},[(0,i.bF)(y,{icon:"close"})])),e.isPause?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"custom-controllers__button custom-controllers__play",onClick:t[5]||(t[5]=(0,a.D$)((t=>e.isPause=!1),["stop"]))},[(0,i.bF)(y,{icon:"play"})])):(0,i.Q3)("",!0),e.isPause?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:2,class:"custom-controllers__button custom-controllers__mute",onClick:t[6]||(t[6]=(0,a.D$)(((...t)=>e.onMute&&e.onMute(...t)),["stop"]))},[e.isMuted?((0,i.uX)(),(0,i.Wv)(y,{key:0,icon:"volume-off"})):((0,i.uX)(),(0,i.Wv)(y,{key:1,icon:"volume-high"}))]))],64)),!e.loop&&e.isEnd?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"custom-controllers__button custom-controllers__replay",onClick:t[7]||(t[7]=(0,a.D$)(((...t)=>e.play&&e.play(...t)),["stop"]))},[(0,i.bF)(y,{icon:"replay"})])):(0,i.Q3)("",!0),(0,i.bF)(a.eB,{name:"custom-controllers__progress-bar-animation"},{default:(0,i.k6)((()=>[!e.duration||e.isEnd||e.isPause?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:s.playRadius,class:"custom-controllers__progress-bar"},[((0,i.uX)(),(0,i.CE)("svg",{ref:"progress",onClick:t[8]||(t[8]=(0,a.D$)(((...e)=>v.setNewTime&&v.setNewTime(...e)),["stop","prevent"]))},[(0,i.Lk)("circle",{cx:v.progressRadius,cy:v.progressRadius,r:v.progressRadius},null,8,c),(0,i.Lk)("circle",{cx:v.progressRadius,cy:v.progressRadius,r:v.progressRadius,"stroke-dashoffset":v.dashoffset},null,8,h)],512)),t[13]||(t[13]=(0,i.Lk)("div",{class:"custom-controllers__progress-bar-overlay"},null,-1))]))])),_:1})],2))],38)}var m=s(36944),v=s.n(m),y=s(66278),_=s(45292),b={extends:_.A,props:{playRadius:{type:Number,default:4.25},stopRadius:{type:Number,default:1.625},controllersButtonsCentered:Boolean},computed:{...(0,y.aH)("quiz",["fontSize"]),...(0,y.L8)(["isFullScreen"]),dashoffset(){const e=Math.PI*(this.playRadius*this.fontSize*2);return v()((100-this.progress)/100*e,2)},progressRadius(){return this.fontSize*this.playRadius}},methods:{onControllersClick(){this.isEnd?this.play():this.isPause=!this.isPause},setNewTime(e){if(!this.$refs.progress)return;const{width:t,height:s}=this.$refs.progress.getBoundingClientRect(),i=t/2,n=s/2,a=t,o=s/2,r=e.offsetX,l=e.offsetY;let u=180*(Math.atan2(l-n,r-i)-Math.atan2(o-n,a-i))/Math.PI;l<this.playRadius&&(u=180+u+180),this.$refs.player?.seekTo(u/360*this.duration)}}},g=s(66262);const k=(0,g.A)(b,[["render",p]]);var f=k}}]);